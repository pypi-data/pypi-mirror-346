{% extends "enap_designsystem/base.html" %}
{% load wagtailcore_tags %}
{% load static %}
{% block content %}
<section id="bases-dados" class="section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">{{ self.title_prefix }} <span class="highlight-text" style="color: {{ self.highlight_color }}">{{ self.title_highlight }}</span></h2>
            <p class="section-description">
                {{ self.description }}
            </p>
        </div>
        
        <div class="database-container">
            <div class="database-header">
                <div class="database-icon" style="background-color: {{ self.highlight_color }}10;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="{{ self.highlight_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                </div>
                <h3 class="database-title">{{ self.database_title }}</h3>
            </div>
            
            <p class="database-description">
                {{ self.database_description }}
            </p>
            
            <div class="database-grid">
                {% for card in self.cards %}
                <div class="database-card"  style="border-color: {{ self.highlight_color }}20;">
                    <h4 class="database-name">{{ card.name }}</h4>
                    <p class="database-info">{{ card.info }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const cards = document.querySelectorAll('.database-card');
        
        cards.forEach(card => {
            const color = card.getAttribute('data-color');
            // Set lighter version of color for background
            card.style.backgroundColor = `${color}10`;  // 10% opacity
            
            // Store original color and set hover color (20% opacity)
            const originalColor = `${color}10`;
            const hoverColor = `${color}20`;
            
            card.addEventListener('mouseenter', function() {
                card.style.backgroundColor = hoverColor;
                card.style.borderColor = color;
            });
            
            card.addEventListener('mouseleave', function() {
                card.style.backgroundColor = originalColor;
                card.style.borderColor = '#E5E7EB';
            });
        });
    });
    </script>
</section>
{% endblock %}