import{s as be,E as ce,F as ue,a as w,d,f as i,i as U,g as v,n as le,z as He,B as xe,p as pt,j as Me,M as Tt,r as _t,k as Z,o as q,v as vt,w as wt,x as bt,e as y,t as Ie,c as $,b as Te,u as we,h as ze,I as Xe,q as Wt,D as rt,N as Vt,R as Mt,G as nt,P as zt,O as lt,Q as kt,C as Je}from"../chunks/BDiUIGvQ.js";import{S as ke,i as Ee,f as Le,b as x,d as L,m as P,t as C,a as V,e as F,g as Be,c as je}from"../chunks/CMw2dQw9.js";import{p as Bt}from"../chunks/CJJjQ_H-.js";import{e as Qe}from"../chunks/DgmbscGK.js";import{f as jt}from"../chunks/CyTOOynw.js";import{h as St,E as At}from"../chunks/MzMpT8ak.js";import{m as Ut}from"../chunks/5uy4Zm2q.js";import{t as ie}from"../chunks/CCWCPRcv.js";import{c as Rt,b as Ot,m as Ht,s as xt,e as Lt,g as Pt}from"../chunks/Bfpbg74R.js";import{g as ot}from"../chunks/CZM0PGum.js";import{v as Ft,h as Yt,m as Zt,p as qt}from"../chunks/DDUz_Fif.js";import{u as Gt}from"../chunks/Bf81tbDL.js";import{c as Jt,g as Qt,d as Re,r as Xt}from"../chunks/I1CDPYOB.js";import{d as Kt}from"../chunks/B5vguJUR.js";import{a as en,d as tn,N as nn,u as sn}from"../chunks/D3to846E.js";import{R as rn,V as ln}from"../chunks/DRNBu8tK.js";import{S as Et}from"../chunks/B8jKL4d6.js";import{M as on}from"../chunks/B3QIbQzD.js";import{C as an}from"../chunks/DEwz7ZDa.js";import{I as cn}from"../chunks/DwV1TYP8.js";import{F as un}from"../chunks/D0JL3imD.js";import{F as fn}from"../chunks/Cc1OSbdd.js";import"../chunks/Ce19VtxD.js";import{M as dn,a as mn,b as hn}from"../chunks/C4qW0BX-.js";import{f as gn}from"../chunks/ZLcEirMF.js";import{C as pn}from"../chunks/CAe12bDn.js";import{E as _n}from"../chunks/ChutD0tV.js";import{T as yt}from"../chunks/DZF3XBRY.js";import{S as vn,A as wn}from"../chunks/DLnqdjgO.js";import{C as bn}from"../chunks/BH7sd9hM.js";import{c as kn}from"../chunks/L793aSFR.js";var $t={exports:{}};(function(r,e){(function(n,t){r.exports=t()})(Jt,function(){return function(n,t,s){var l="h:mm A",a={lastDay:"[Yesterday at] "+l,sameDay:"[Today at] "+l,nextDay:"[Tomorrow at] "+l,nextWeek:"dddd [at] "+l,lastWeek:"[Last] dddd [at] "+l,sameElse:"MM/DD/YYYY"};t.prototype.calendar=function(o,f){var m=f||this.$locale().calendar||a,_=s(o||void 0).startOf("d"),h=this.diff(_,"d",!0),u="sameElse",g=h<-6?u:h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":u,k=m[g]||a[g];return typeof k=="function"?k.call(this,s()):this.format(k)}}})})($t);var En=$t.exports;const yn=Qt(En);function $n(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function Nn(r,e,n){let{className:t="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Dn extends ke{constructor(e){super(),Ee(this,e,Nn,$n,be,{className:0,strokeWidth:1})}}function Cn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function In(r,e,n){let{className:t="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Tn extends ke{constructor(e){super(),Ee(this,e,In,Cn,be,{className:0,strokeWidth:1})}}function Wn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function Vn(r,e,n){let{className:t="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Mn extends ke{constructor(e){super(),Ee(this,e,Vn,Wn,be,{className:0,strokeWidth:1})}}function zn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function Bn(r,e,n){let{className:t="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class jn extends ke{constructor(e){super(),Ee(this,e,Bn,zn,be,{className:0,strokeWidth:1})}}const Sn=r=>({}),at=r=>({});function An(r){let e;const n=r[8].default,t=_t(n,r,r[15],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&32768)&&vt(t,n,s,s[15],e?bt(n,s[15],l,null):wt(s[15]),null)},i(s){e||(C(t,s),e=!0)},o(s){V(t,s),e=!1},d(s){t&&t.d(s)}}}function Un(r){let e,n,t,s,l,a=r[5].t("Record")+"",o,f,m,_,h,u,g,k=r[5].t("Capture Audio")+"",N,E,j,O,W,G,A,z=r[5].t("Upload Audio")+"",R,D,ne,re;return t=new Mn({props:{className:"size-5",strokeWidth:"1.5"}}),h=new jn({props:{className:"size-5",strokeWidth:"1.5"}}),W=new pn({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=y("button"),n=y("div"),x(t.$$.fragment),s=Z(),l=y("div"),o=Ie(a),f=Z(),m=y("button"),_=y("div"),x(h.$$.fragment),u=Z(),g=y("div"),N=Ie(k),E=Z(),j=y("button"),O=y("div"),x(W.$$.fragment),G=Z(),A=y("div"),R=Ie(z),this.h()},l(M){e=$(M,"BUTTON",{class:!0});var Y=w(e);n=$(Y,"DIV",{class:!0});var p=w(n);L(t.$$.fragment,p),p.forEach(d),s=q(Y),l=$(Y,"DIV",{class:!0});var I=w(l);o=Te(I,a),I.forEach(d),Y.forEach(d),f=q(M),m=$(M,"BUTTON",{class:!0});var ee=w(m);_=$(ee,"DIV",{class:!0});var J=w(_);L(h.$$.fragment,J),J.forEach(d),u=q(ee),g=$(ee,"DIV",{class:!0});var me=w(g);N=Te(me,k),me.forEach(d),ee.forEach(d),E=q(M),j=$(M,"BUTTON",{class:!0});var oe=w(j);O=$(oe,"DIV",{class:!0});var ae=w(O);L(W.$$.fragment,ae),ae.forEach(d),G=q(oe),A=$(oe,"DIV",{class:!0});var De=w(A);R=Te(De,z),De.forEach(d),oe.forEach(d),this.h()},h(){i(n,"class","self-center mr-2"),i(l,"class","self-center truncate"),i(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(_,"class","self-center mr-2"),i(g,"class","self-center truncate"),i(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(O,"class","self-center mr-2"),i(A,"class","self-center truncate"),i(j,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(M,Y){U(M,e,Y),v(e,n),P(t,n,null),v(e,s),v(e,l),v(l,o),U(M,f,Y),U(M,m,Y),v(m,_),P(h,_,null),v(m,u),v(m,g),v(g,N),U(M,E,Y),U(M,j,Y),v(j,O),P(W,O,null),v(j,G),v(j,A),v(A,R),D=!0,ne||(re=[we(e,"click",r[9]),we(m,"click",r[10]),we(j,"click",r[11])],ne=!0)},p(M,Y){(!D||Y&32)&&a!==(a=M[5].t("Record")+"")&&ze(o,a),(!D||Y&32)&&k!==(k=M[5].t("Capture Audio")+"")&&ze(N,k),(!D||Y&32)&&z!==(z=M[5].t("Upload Audio")+"")&&ze(R,z)},i(M){D||(C(t.$$.fragment,M),C(h.$$.fragment,M),C(W.$$.fragment,M),D=!0)},o(M){V(t.$$.fragment,M),V(h.$$.fragment,M),V(W.$$.fragment,M),D=!1},d(M){M&&(d(e),d(f),d(m),d(E),d(j)),F(t),F(h),F(W),ne=!1,Xe(re)}}}function Rn(r){let e,n;return e=new hn({props:{class:"w-full "+r[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"start",transition:r[12],$$slots:{default:[Un]},$$scope:{ctx:r}}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const l={};s&2&&(l.class="w-full "+t[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&32829&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function On(r){let e,n,t;e=new mn({props:{$$slots:{default:[An]},$$scope:{ctx:r}}});const s=r[8].content,l=_t(s,r,r[15],at),a=l||Rn(r);return{c(){x(e.$$.fragment),n=Z(),a&&a.c()},l(o){L(e.$$.fragment,o),n=q(o),a&&a.l(o)},m(o,f){P(e,o,f),U(o,n,f),a&&a.m(o,f),t=!0},p(o,f){const m={};f&32768&&(m.$$scope={dirty:f,ctx:o}),e.$set(m),l?l.p&&(!t||f&32768)&&vt(l,s,o,o[15],t?bt(s,o[15],f,Sn):wt(o[15]),at):a&&a.p&&(!t||f&63)&&a.p(o,t?f:-1)},i(o){t||(C(e.$$.fragment,o),C(a,o),t=!0)},o(o){V(e.$$.fragment,o),V(a,o),t=!1},d(o){o&&d(n),F(e,o),a&&a.d(o)}}}function Hn(r){let e,n,t;function s(a){r[14](a)}let l={onOpenChange:r[13],$$slots:{default:[On]},$$scope:{ctx:r}};return r[0]!==void 0&&(l.open=r[0]),e=new dn({props:l}),He.push(()=>Le(e,"open",s)),{c(){x(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,o){P(e,a,o),t=!0},p(a,[o]){const f={};o&32831&&(f.$$scope={dirty:o,ctx:a}),!n&&o&1&&(n=!0,f.open=a[0],xe(()=>n=!1)),e.$set(f)},i(a){t||(C(e.$$.fragment,a),t=!0)},o(a){V(e.$$.fragment,a),t=!1},d(a){F(e,a)}}}function xn(r,e,n){let t,{$$slots:s={},$$scope:l}=e;const a=pt("i18n");Me(r,a,W=>n(5,t=W));let{show:o=!1}=e,{className:f="max-w-[160px]"}=e,{onRecord:m=()=>{}}=e,{onCaptureAudio:_=()=>{}}=e,{onUpload:h=()=>{}}=e;const u=Tt(),g=async()=>{m(),n(0,o=!1)},k=()=>{_(),n(0,o=!1)},N=()=>{h(),n(0,o=!1)},E=W=>gn(W,{duration:100}),j=W=>{u("change",W)};function O(W){o=W,n(0,o)}return r.$$set=W=>{"show"in W&&n(0,o=W.show),"className"in W&&n(1,f=W.className),"onRecord"in W&&n(2,m=W.onRecord),"onCaptureAudio"in W&&n(3,_=W.onCaptureAudio),"onUpload"in W&&n(4,h=W.onUpload),"$$scope"in W&&n(15,l=W.$$scope)},[o,f,m,_,h,t,a,u,s,g,k,N,E,j,O,l]}class Ln extends ke{constructor(e){super(),Ee(this,e,xn,Hn,be,{show:0,className:1,onRecord:2,onCaptureAudio:3,onUpload:4})}}function Pn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=w(e);n=ue(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"fill-rule","evenodd"),i(n,"d","M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z"),i(n,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function Fn(r,e,n){let{className:t="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Yn extends ke{constructor(e){super(),Ee(this,e,Fn,Pn,be,{className:0,strokeWidth:1})}}function Zn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function qn(r,e,n){let{className:t="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Gn extends ke{constructor(e){super(),Ee(this,e,qn,Zn,be,{className:0,strokeWidth:1})}}function Jn(r){let e,n;return{c(){e=ce("svg"),n=ce("path"),this.h()},l(t){e=ue(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=w(e);n=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(n).forEach(d),s.forEach(d),this.h()},h(){i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"d","m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(t,s){U(t,e,s),v(e,n)},p(t,[s]){s&2&&i(e,"stroke-width",t[1]),s&1&&i(e,"class",t[0])},i:le,o:le,d(t){t&&d(e)}}}function Qn(r,e,n){let{className:t="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&n(0,t=l.className),"strokeWidth"in l&&n(1,s=l.strokeWidth)},[t,s]}class Xn extends ke{constructor(e){super(),Ee(this,e,Qn,Jn,be,{className:0,strokeWidth:1})}}function it(r,e,n){const t=r.slice();return t[61]=e[n],t[63]=n,t}function ct(r,e,n){const t=r.slice();return t[64]=e[n],t}function Kn(r){let e,n=r[1].t("This will delete")+"",t,s,l,a=r[0].title+"",o,f;return{c(){e=y("div"),t=Ie(n),s=Z(),l=y("span"),o=Ie(a),f=Ie("."),this.h()},l(m){e=$(m,"DIV",{class:!0});var _=w(e);t=Te(_,n),s=q(_),l=$(_,"SPAN",{class:!0});var h=w(l);o=Te(h,a),h.forEach(d),f=Te(_,"."),_.forEach(d),this.h()},h(){i(l,"class","font-semibold"),i(e,"class","text-sm text-gray-500")},m(m,_){U(m,e,_),v(e,t),v(e,s),v(e,l),v(l,o),v(e,f)},p(m,_){_[0]&2&&n!==(n=m[1].t("This will delete")+"")&&ze(t,n),_[0]&1&&a!==(a=m[0].title+"")&&ze(o,a)},d(m){m&&d(e)}}}function ut(r){let e,n=r[64].name+"",t,s;return{c(){e=y("option"),t=Ie(n),this.h()},l(l){e=$(l,"OPTION",{class:!0});var a=w(e);t=Te(a,n),a.forEach(d),this.h()},h(){e.__value=s=r[64].id,Je(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,a){U(l,e,a),v(e,t)},p(l,a){a[0]&8192&&n!==(n=l[64].name+"")&&ze(t,n),a[0]&8192&&s!==(s=l[64].id)&&(e.__value=s,Je(e,e.__value))},d(l){l&&d(e)}}}function es(r){let e,n,t,s="Settings",l,a,o,f,m,_,h,u,g="Model",k,N,E,j,O,W;f=new wn({props:{className:"size-3",strokeWidth:"2.5"}});let G=Qe(r[13]),A=[];for(let z=0;z<G.length;z+=1)A[z]=ut(ct(r,G,z));return{c(){e=y("div"),n=y("div"),t=y("div"),t.textContent=s,l=Z(),a=y("div"),o=y("button"),x(f.$$.fragment),m=Z(),_=y("div"),h=y("div"),u=y("div"),u.textContent=g,k=Z(),N=y("div"),E=y("select");for(let z=0;z<A.length;z+=1)A[z].c();this.h()},l(z){e=$(z,"DIV",{class:!0});var R=w(e);n=$(R,"DIV",{class:!0});var D=w(n);t=$(D,"DIV",{class:!0,"data-svelte-h":!0}),nt(t)!=="svelte-1dw76ku"&&(t.textContent=s),l=q(D),a=$(D,"DIV",{class:!0});var ne=w(a);o=$(ne,"BUTTON",{class:!0});var re=w(o);L(f.$$.fragment,re),re.forEach(d),ne.forEach(d),D.forEach(d),m=q(R),_=$(R,"DIV",{class:!0});var M=w(_);h=$(M,"DIV",{});var Y=w(h);u=$(Y,"DIV",{class:!0,"data-svelte-h":!0}),nt(u)!=="svelte-vz1bvh"&&(u.textContent=g),k=q(Y),N=$(Y,"DIV",{class:!0});var p=w(N);E=$(p,"SELECT",{class:!0});var I=w(E);for(let ee=0;ee<A.length;ee+=1)A[ee].l(I);I.forEach(d),p.forEach(d),Y.forEach(d),M.forEach(d),R.forEach(d),this.h()},h(){i(t,"class","font-medium text-base"),i(o,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(a,"class","translate-x-1.5"),i(n,"class","flex justify-between items-center mb-2"),i(u,"class","text-xs font-medium mb-1"),i(E,"class","w-full bg-transparent text-sm outline-hidden"),r[4]===void 0&&zt(()=>r[25].call(E)),i(N,"class","w-full"),i(_,"class","mt-1"),i(e,"class","flex flex-col px-5 py-3 text-sm")},m(z,R){U(z,e,R),v(e,n),v(n,t),v(n,l),v(n,a),v(a,o),P(f,o,null),v(e,m),v(e,_),v(_,h),v(h,u),v(h,k),v(h,N),v(N,E);for(let D=0;D<A.length;D+=1)A[D]&&A[D].m(E,null);lt(E,r[4],!0),j=!0,O||(W=[we(o,"click",r[24]),we(E,"change",r[25])],O=!0)},p(z,R){if(R[0]&8192){G=Qe(z[13]);let D;for(D=0;D<G.length;D+=1){const ne=ct(z,G,D);A[D]?A[D].p(ne,R):(A[D]=ut(ne),A[D].c(),A[D].m(E,null))}for(;D<A.length;D+=1)A[D].d(1);A.length=G.length}R[0]&8208&&lt(E,z[4])},i(z){j||(C(f.$$.fragment,z),j=!0)},o(z){V(f.$$.fragment,z),j=!1},d(z){z&&d(e),F(f),kt(A,z),O=!1,Xe(W)}}}function ts(r){var Fe,Ye,Ze,qe;let e,n,t,s,l,a,o,f,m,_,h,u,g,k,N,E,j,O,W,G=Re(r[0].created_at/1e6).calendar()+"",A,z,R,D,ne,re,M="You",Y,p,I,ee,J,me,oe,ae,De,Oe,Q=((Ye=(Fe=r[0].data)==null?void 0:Fe.versions)==null?void 0:Ye.length)>0&&ft(r);m=new nn({props:{onDownload:r[30],onCopyToClipboard:r[31],onDelete:r[32],$$slots:{default:[ss]},$$scope:{ctx:r}}}),u=new bn({}),j=new Dn({props:{className:"size-3.5",strokeWidth:"2"}}),D=new Tn({props:{className:"size-3.5",strokeWidth:"2"}});let se=r[11]&&dt(r),X=r[2]&&r[2].length>0&&mt(r);function Ke(T){r[37](T)}let Pe={className:"input-prose-sm px-0.5",placeholder:r[1].t("Write something..."),html:(qe=(Ze=r[0].data)==null?void 0:Ze.content)==null?void 0:qe.html,json:!0,editable:r[3]===null&&!r[11],onChange:r[36]};return r[0].data.content.json!==void 0&&(Pe.value=r[0].data.content.json),J=new rn({props:Pe}),He.push(()=>Le(J,"value",Ke)),{c(){e=y("div"),n=y("div"),t=y("div"),s=y("input"),a=Z(),o=y("div"),Q&&Q.c(),f=Z(),x(m.$$.fragment),_=Z(),h=y("button"),x(u.$$.fragment),g=Z(),k=y("div"),N=y("div"),E=y("button"),x(j.$$.fragment),O=Z(),W=y("span"),A=Ie(G),z=Z(),R=y("button"),x(D.$$.fragment),ne=Z(),re=y("span"),re.textContent=M,Y=Z(),p=y("div"),se&&se.c(),I=Z(),X&&X.c(),ee=Z(),x(J.$$.fragment),this.h()},l(T){e=$(T,"DIV",{class:!0});var H=w(e);n=$(H,"DIV",{class:!0});var ye=w(n);t=$(ye,"DIV",{class:!0});var fe=w(t);s=$(fe,"INPUT",{class:!0,type:!0,placeholder:!0}),a=q(fe),o=$(fe,"DIV",{class:!0});var he=w(o);Q&&Q.l(he),f=q(he),L(m.$$.fragment,he),_=q(he),h=$(he,"BUTTON",{class:!0});var We=w(h);L(u.$$.fragment,We),We.forEach(d),he.forEach(d),fe.forEach(d),ye.forEach(d),g=q(H),k=$(H,"DIV",{class:!0});var Ve=w(k);N=$(Ve,"DIV",{class:!0});var $e=w(N);E=$($e,"BUTTON",{class:!0});var Se=w(E);L(j.$$.fragment,Se),O=q(Se),W=$(Se,"SPAN",{});var Ge=w(W);A=Te(Ge,G),Ge.forEach(d),Se.forEach(d),z=q($e),R=$($e,"BUTTON",{class:!0});var Ae=w(R);L(D.$$.fragment,Ae),ne=q(Ae),re=$(Ae,"SPAN",{"data-svelte-h":!0}),nt(re)!=="svelte-1lsvfg9"&&(re.textContent=M),Ae.forEach(d),$e.forEach(d),Ve.forEach(d),Y=q(H),p=$(H,"DIV",{class:!0,id:!0});var Ce=w(p);se&&se.l(Ce),I=q(Ce),X&&X.l(Ce),ee=q(Ce),L(J.$$.fragment,Ce),Ce.forEach(d),H.forEach(d),this.h()},h(){i(s,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),i(s,"type","text"),i(s,"placeholder",l=r[1].t("Title")),s.required=!0,i(h,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(o,"class","flex items-center gap-2 translate-x-1"),i(t,"class","w-full flex items-center"),i(n,"class","shrink-0 w-full flex justify-between items-center px-4.5 mb-1.5"),i(E,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(R,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(N,"class","flex gap-1 items-center text-xs font-medium text-gray-500 dark:text-gray-500"),i(k,"class","mb-2.5 px-3.5"),i(p,"class","flex-1 w-full h-full overflow-auto px-4 pb-20 relative"),i(p,"id","note-content-container"),i(e,"class",oe="w-full flex flex-col "+(r[10]?"opacity-20":""))},m(T,H){U(T,e,H),v(e,n),v(n,t),v(t,s),Je(s,r[0].title),v(t,a),v(t,o),Q&&Q.m(o,null),v(o,f),P(m,o,null),v(o,_),v(o,h),P(u,h,null),v(e,g),v(e,k),v(k,N),v(N,E),P(j,E,null),v(E,O),v(E,W),v(W,A),v(N,z),v(N,R),P(D,R,null),v(R,ne),v(R,re),v(e,Y),v(e,p),se&&se.m(p,null),v(p,I),X&&X.m(p,null),v(p,ee),P(J,p,null),ae=!0,De||(Oe=[we(s,"input",r[27]),we(h,"click",r[33])],De=!0)},p(T,H){var he,We,Ve,$e;(!ae||H[0]&2&&l!==(l=T[1].t("Title")))&&i(s,"placeholder",l),H[0]&1&&s.value!==T[0].title&&Je(s,T[0].title),((We=(he=T[0].data)==null?void 0:he.versions)==null?void 0:We.length)>0?Q?(Q.p(T,H),H[0]&1&&C(Q,1)):(Q=ft(T),Q.c(),C(Q,1),Q.m(o,f)):Q&&(Be(),V(Q,1,1,()=>{Q=null}),je());const ye={};H[0]&3&&(ye.onCopyToClipboard=T[31]),H[0]&256&&(ye.onDelete=T[32]),H[2]&32&&(ye.$$scope={dirty:H,ctx:T}),m.$set(ye),(!ae||H[0]&1)&&G!==(G=Re(T[0].created_at/1e6).calendar()+"")&&ze(A,G),T[11]?se?se.p(T,H):(se=dt(T),se.c(),se.m(p,I)):se&&(se.d(1),se=null),T[2]&&T[2].length>0?X?(X.p(T,H),H[0]&4&&C(X,1)):(X=mt(T),X.c(),C(X,1),X.m(p,ee)):X&&(Be(),V(X,1,1,()=>{X=null}),je());const fe={};H[0]&2&&(fe.placeholder=T[1].t("Write something...")),H[0]&1&&(fe.html=($e=(Ve=T[0].data)==null?void 0:Ve.content)==null?void 0:$e.html),H[0]&2056&&(fe.editable=T[3]===null&&!T[11]),H[0]&1&&(fe.onChange=T[36]),!me&&H[0]&1&&(me=!0,fe.value=T[0].data.content.json,xe(()=>me=!1)),J.$set(fe),(!ae||H[0]&1024&&oe!==(oe="w-full flex flex-col "+(T[10]?"opacity-20":"")))&&i(e,"class",oe)},i(T){ae||(C(Q),C(m.$$.fragment,T),C(u.$$.fragment,T),C(j.$$.fragment,T),C(D.$$.fragment,T),C(X),C(J.$$.fragment,T),ae=!0)},o(T){V(Q),V(m.$$.fragment,T),V(u.$$.fragment,T),V(j.$$.fragment,T),V(D.$$.fragment,T),V(X),V(J.$$.fragment,T),ae=!1},d(T){T&&d(e),Q&&Q.d(),F(m),F(u),F(j),F(D),se&&se.d(),X&&X.d(),F(J),De=!1,Xe(Oe)}}}function ns(r){let e,n,t,s;return t=new Et({}),{c(){e=y("div"),n=y("div"),x(t.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var a=w(e);n=$(a,"DIV",{class:!0});var o=w(n);L(t.$$.fragment,o),o.forEach(d),a.forEach(d),this.h()},h(){i(n,"class","m-auto"),i(e,"class","absolute top-0 bottom-0 left-0 right-0 flex")},m(l,a){U(l,e,a),v(e,n),P(t,n,null),s=!0},p:le,i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){V(t.$$.fragment,l),s=!1},d(l){l&&d(e),F(t)}}}function ft(r){let e,n,t,s,l,a,o,f,m,_,h,u;return s=new Gn({props:{className:"size-4"}}),f=new Xn({props:{className:"size-4"}}),{c(){e=y("div"),n=y("div"),t=y("button"),x(s.$$.fragment),a=Z(),o=y("button"),x(f.$$.fragment),this.h()},l(g){e=$(g,"DIV",{});var k=w(e);n=$(k,"DIV",{class:!0,dir:!0});var N=w(n);t=$(N,"BUTTON",{class:!0});var E=w(t);L(s.$$.fragment,E),E.forEach(d),a=q(N),o=$(N,"BUTTON",{class:!0});var j=w(o);L(f.$$.fragment,j),j.forEach(d),N.forEach(d),k.forEach(d),this.h()},h(){i(t,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),t.disabled=l=r[3]===null&&r[0].data.versions.length===0||r[3]===0,i(o,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),o.disabled=m=r[3]>=r[0].data.versions.length||r[3]===null,i(n,"class","flex items-center gap-0.5 self-center min-w-fit"),i(n,"dir","ltr")},m(g,k){U(g,e,k),v(e,n),v(n,t),P(s,t,null),v(n,a),v(n,o),P(f,o,null),_=!0,h||(u=[we(t,"click",r[28]),we(o,"click",r[29])],h=!0)},p(g,k){(!_||k[0]&9&&l!==(l=g[3]===null&&g[0].data.versions.length===0||g[3]===0))&&(t.disabled=l),(!_||k[0]&9&&m!==(m=g[3]>=g[0].data.versions.length||g[3]===null))&&(o.disabled=m)},i(g){_||(C(s.$$.fragment,g),C(f.$$.fragment,g),_=!0)},o(g){V(s.$$.fragment,g),V(f.$$.fragment,g),_=!1},d(g){g&&d(e),F(s),F(f),h=!1,Xe(u)}}}function ss(r){let e,n;return e=new _n({props:{className:"size-5"}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p:le,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function dt(r){let e,n;return{c(){e=y("div"),this.h()},l(t){e=$(t,"DIV",{class:!0}),w(e).forEach(d),this.h()},h(){i(e,"class",n="w-full h-full fixed top-0 left-0 "+(r[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")},m(t,s){U(t,e,s)},p(t,s){s[0]&4096&&n!==(n="w-full h-full fixed top-0 left-0 "+(t[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")&&i(e,"class",n)},d(t){t&&d(e)}}}function mt(r){let e,n,t=Qe(r[2]),s=[];for(let a=0;a<t.length;a+=1)s[a]=ht(it(r,t,a));const l=a=>V(s[a],1,1,()=>{s[a]=null});return{c(){e=y("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=$(a,"DIV",{class:!0});var o=w(e);for(let f=0;f<s.length;f+=1)s[f].l(o);o.forEach(d),this.h()},h(){i(e,"class","mb-3.5 mt-1.5 w-full flex gap-1 flex-wrap z-40")},m(a,o){U(a,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);n=!0},p(a,o){if(o[0]&5){t=Qe(a[2]);let f;for(f=0;f<t.length;f+=1){const m=it(a,t,f);s[f]?(s[f].p(m,o),C(s[f],1)):(s[f]=ht(m),s[f].c(),C(s[f],1),s[f].m(e,null))}for(Be(),f=t.length;f<s.length;f+=1)l(f);je()}},i(a){if(!n){for(let o=0;o<t.length;o+=1)C(s[o]);n=!0}},o(a){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)V(s[o]);n=!1},d(a){a&&d(e),kt(s,a)}}}function rs(r){var s;let e,n;function t(){return r[35](r[61])}return e=new un({props:{item:r[61],dismissible:!0,url:r[61].url,name:r[61].name,type:r[61].type,size:(s=r[61])==null?void 0:s.size,loading:r[61].status==="uploading"}}),e.$on("dismiss",t),{c(){x(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,a){P(e,l,a),n=!0},p(l,a){var f;r=l;const o={};a[0]&4&&(o.item=r[61]),a[0]&4&&(o.url=r[61].url),a[0]&4&&(o.name=r[61].name),a[0]&4&&(o.type=r[61].type),a[0]&4&&(o.size=(f=r[61])==null?void 0:f.size),a[0]&4&&(o.loading=r[61].status==="uploading"),e.$set(o)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){V(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function ls(r){let e,n;function t(){return r[34](r[63])}return e=new cn({props:{src:r[61].url,imageClassName:" max-h-96 rounded-lg",dismissible:!0,onDismiss:t}}),{c(){x(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,l){P(e,s,l),n=!0},p(s,l){r=s;const a={};l[0]&4&&(a.src=r[61].url),l[0]&5&&(a.onDismiss=t),e.$set(a)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){V(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function ht(r){let e,n,t,s,l;const a=[ls,rs],o=[];function f(m,_){return m[61].type==="image"?0:1}return n=f(r),t=o[n]=a[n](r),{c(){e=y("div"),t.c(),s=Z(),this.h()},l(m){e=$(m,"DIV",{class:!0});var _=w(e);t.l(_),s=q(_),_.forEach(d),this.h()},h(){i(e,"class","w-fit")},m(m,_){U(m,e,_),o[n].m(e,null),v(e,s),l=!0},p(m,_){let h=n;n=f(m),n===h?o[n].p(m,_):(Be(),V(o[h],1,1,()=>{o[h]=null}),je(),t=o[n],t?t.p(m,_):(t=o[n]=a[n](m),t.c()),C(t,1),t.m(e,s))},i(m){l||(C(t),l=!0)},o(m){V(t),l=!1},d(m){m&&d(e),o[n].d()}}}function os(r){let e,n,t,s,l;return e=new Ln({props:{onRecord:r[41],onCaptureAudio:r[42],onUpload:r[43],$$slots:{default:[cs]},$$scope:{ctx:r}}}),s=new yt({props:{content:r[1].t("Enhance"),placement:"top",$$slots:{default:[ds]},$$scope:{ctx:r}}}),{c(){x(e.$$.fragment),n=Z(),t=y("div"),x(s.$$.fragment),this.h()},l(a){L(e.$$.fragment,a),n=q(a),t=$(a,"DIV",{class:!0});var o=w(t);L(s.$$.fragment,o),o.forEach(d),this.h()},h(){i(t,"class","cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850 dark:bg-gray-850 transition shadow-xl")},m(a,o){P(e,a,o),U(a,n,o),U(a,t,o),P(s,t,null),l=!0},p(a,o){const f={};o[0]&98&&(f.onRecord=a[41]),o[0]&96&&(f.onCaptureAudio=a[42]),o[0]&2|o[2]&32&&(f.$$scope={dirty:o,ctx:a}),e.$set(f);const m={};o[0]&2&&(m.content=a[1].t("Enhance")),o[0]&2048|o[2]&32&&(m.$$scope={dirty:o,ctx:a}),s.$set(m)},i(a){l||(C(e.$$.fragment,a),C(s.$$.fragment,a),l=!0)},o(a){V(e.$$.fragment,a),V(s.$$.fragment,a),l=!1},d(a){a&&(d(n),d(t)),F(e,a),F(s)}}}function as(r){let e,n,t,s;function l(o){r[40](o)}let a={className:"p-1 w-full max-w-full",transcribe:!1,displayMedia:r[6],onCancel:r[38],onConfirm:r[39]};return r[5]!==void 0&&(a.recording=r[5]),n=new ln({props:a}),He.push(()=>Le(n,"recording",l)),{c(){e=y("div"),x(n.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var f=w(e);L(n.$$.fragment,f),f.forEach(d),this.h()},h(){i(e,"class","flex-1 w-full")},m(o,f){U(o,e,f),P(n,e,null),s=!0},p(o,f){const m={};f[0]&64&&(m.displayMedia=o[6]),f[0]&96&&(m.onCancel=o[38]),f[0]&96&&(m.onConfirm=o[39]),!t&&f[0]&32&&(t=!0,m.recording=o[5],xe(()=>t=!1)),n.$set(m)},i(o){s||(C(n.$$.fragment,o),s=!0)},o(o){V(n.$$.fragment,o),s=!1},d(o){o&&d(e),F(n)}}}function is(r){let e,n,t;return n=new on({props:{className:"size-4.5"}}),{c(){e=y("button"),x(n.$$.fragment),this.h()},l(s){e=$(s,"BUTTON",{class:!0,type:!0});var l=w(e);L(n.$$.fragment,l),l.forEach(d),this.h()},h(){i(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"),i(e,"type","button")},m(s,l){U(s,e,l),P(n,e,null),t=!0},p:le,i(s){t||(C(n.$$.fragment,s),t=!0)},o(s){V(n.$$.fragment,s),t=!1},d(s){s&&d(e),F(n)}}}function cs(r){let e,n;return e=new yt({props:{content:r[1].t("Record"),placement:"top",$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const l={};s[0]&2&&(l.content=t[1].t("Record")),s[2]&32&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function us(r){let e,n;return e=new Yn({}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function fs(r){let e,n;return e=new Et({props:{className:"size-5"}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ds(r){let e,n,t,s,l,a,o;const f=[fs,us],m=[];function _(h,u){return h[11]?0:1}return n=_(r),t=m[n]=f[n](r),{c(){e=y("button"),t.c(),this.h()},l(h){e=$(h,"BUTTON",{class:!0,type:!0});var u=w(e);t.l(u),u.forEach(d),this.h()},h(){i(e,"class",s=(r[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"),e.disabled=r[11],i(e,"type","button")},m(h,u){U(h,e,u),m[n].m(e,null),l=!0,a||(o=we(e,"click",r[44]),a=!0)},p(h,u){let g=n;n=_(h),n!==g&&(Be(),V(m[g],1,1,()=>{m[g]=null}),je(),t=m[n],t||(t=m[n]=f[n](h),t.c()),C(t,1),t.m(e,null)),(!l||u[0]&2048&&s!==(s=(h[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"))&&i(e,"class",s),(!l||u[0]&2048)&&(e.disabled=h[11])},i(h){l||(C(t),l=!0)},o(h){V(t),l=!1},d(h){h&&d(e),m[n].d(),a=!1,o()}}}function ms(r){let e,n,t,s,l,a,o,f,m,_,h,u,g,k,N,E,j,O;e=new fn({props:{show:r[9]}});function W(p){r[22](p)}let G={title:r[1].t("Delete note?"),$$slots:{default:[Kn]},$$scope:{ctx:r}};r[8]!==void 0&&(G.show=r[8]),t=new an({props:G}),He.push(()=>Le(t,"show",W)),t.$on("confirm",r[23]);function A(p){r[26](p)}let z={className:" bg-white dark:bg-gray-900",width:"300px",$$slots:{default:[es]},$$scope:{ctx:r}};r[7]!==void 0&&(z.show=r[7]),o=new vn({props:z}),He.push(()=>Le(o,"show",A));const R=[ns,ts],D=[];function ne(p,I){return p[10]?0:1}_=ne(r),h=D[_]=R[_](r);const re=[as,os],M=[];function Y(p,I){return p[5]?0:1}return N=Y(r),E=M[N]=re[N](r),{c(){x(e.$$.fragment),n=Z(),x(t.$$.fragment),l=Z(),a=y("div"),x(o.$$.fragment),m=Z(),h.c(),u=Z(),g=y("div"),k=y("div"),E.c(),this.h()},l(p){L(e.$$.fragment,p),n=q(p),L(t.$$.fragment,p),l=q(p),a=$(p,"DIV",{class:!0,id:!0});var I=w(a);L(o.$$.fragment,I),m=q(I),h.l(I),I.forEach(d),u=q(p),g=$(p,"DIV",{class:!0});var ee=w(g);k=$(ee,"DIV",{class:!0});var J=w(k);E.l(J),J.forEach(d),ee.forEach(d),this.h()},h(){i(a,"class","relative flex-1 w-full h-full flex justify-center"),i(a,"id","note-editor"),i(k,"class","flex gap-1 justify-between w-full max-w-full"),i(g,"class",j="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(r[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end")},m(p,I){P(e,p,I),U(p,n,I),P(t,p,I),U(p,l,I),U(p,a,I),P(o,a,null),v(a,m),D[_].m(a,null),U(p,u,I),U(p,g,I),v(g,k),M[N].m(k,null),O=!0},p(p,I){const ee={};I[0]&512&&(ee.show=p[9]),e.$set(ee);const J={};I[0]&2&&(J.title=p[1].t("Delete note?")),I[0]&3|I[2]&32&&(J.$$scope={dirty:I,ctx:p}),!s&&I[0]&256&&(s=!0,J.show=p[8],xe(()=>s=!1)),t.$set(J);const me={};I[0]&8336|I[2]&32&&(me.$$scope={dirty:I,ctx:p}),!f&&I[0]&128&&(f=!0,me.show=p[7],xe(()=>f=!1)),o.$set(me);let oe=_;_=ne(p),_===oe?D[_].p(p,I):(Be(),V(D[oe],1,1,()=>{D[oe]=null}),je(),h=D[_],h?h.p(p,I):(h=D[_]=R[_](p),h.c()),C(h,1),h.m(a,null));let ae=N;N=Y(p),N===ae?M[N].p(p,I):(Be(),V(M[ae],1,1,()=>{M[ae]=null}),je(),E=M[N],E?E.p(p,I):(E=M[N]=re[N](p),E.c()),C(E,1),E.m(k,null)),(!O||I[0]&16384&&j!==(j="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(p[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end"))&&i(g,"class",j)},i(p){O||(C(e.$$.fragment,p),C(t.$$.fragment,p),C(o.$$.fragment,p),C(h),C(E),O=!0)},o(p){V(e.$$.fragment,p),V(t.$$.fragment,p),V(o.$$.fragment,p),V(h),V(E),O=!1},d(p){p&&(d(n),d(l),d(a),d(u),d(g)),F(e,p),F(t,p),F(o),D[_].d(),M[N].d()}}}function st(r,e){return JSON.stringify(r)===JSON.stringify(e)}function gt(r){var t;const e={json:r.data.content.json,html:r.data.content.html,md:r.data.content.md},n=(t=r.data.versions)==null?void 0:t.at(-1);return!n||!st(n,e)?(r.data.versions=(r.data.versions??[]).concat(e),!0):!1}function hs(r,e,n){let t,s,l,a,o;Me(r,Rt,c=>n(46,t=c)),Me(r,Ot,c=>n(47,s=c)),Me(r,Ht,c=>n(13,a=c)),Me(r,xt,c=>n(14,o=c));const{saveAs:f}=jt,m=pt("i18n");Me(r,m,c=>n(1,l=c)),Re.extend(yn),Re.extend(Kt),Re.extend(Xt);async function _(c){for(const b of c)try{Re.locale(b);break}catch(B){console.error(`Could not load locale '${b}':`,B)}}let{id:h=null}=e,u=null,g=[],k=null,N=null,E=!1,j=!1,O=!1,W=!1,G=!1,A=!1,z=!1,R=!1;const D=async()=>{n(10,A=!0);const c=await en(localStorage.token,h).catch(b=>(ie.error(`${b}`),null));if(c)n(0,u=c),n(2,g=c.data.files||[]);else{ot("/");return}n(10,A=!1)};let ne=null;const re=()=>{ne&&clearTimeout(ne),ne=setTimeout(async()=>{!u||z||k!==null||(console.log("Saving note:",u),await sn(localStorage.token,h,{...u,title:u.title===""?l.t("Untitled"):u.title}).catch(c=>{ie.error(`${c}`)}))},200)};async function M(){if(N===""){ie.error(l.t("Please select a model."));return}const c=a.find(b=>b.id===N);if(!c){n(4,N="");return}n(11,z=!0),gt(u),await De(c),n(11,z=!1),n(3,k=null)}function Y(c){var te;if(!((te=u.data.versions)!=null&&te.length))return;let b=c;b===null&&(b=u.data.versions.length-1);const B=u.data.versions[b];if(n(0,u.data.content.json=B.json,u),n(0,u.data.content.html=B.html,u),n(0,u.data.content.md=B.md,u),c===null){const Ne=u.data.versions.at(-1),S=u.data.content;st(Ne,S)&&n(0,u.data.versions=u.data.versions.slice(0,-1),u)}}function p(c){if(!(!u.data.versions||u.data.versions.length===0)){if(k===null){const b=u.data.versions.at(-1),B=u.data.content;st(b,B)?n(3,k=u.data.versions.length):(gt(u),n(3,k=u.data.versions.length-1))}c==="prev"?k>0&&n(3,k-=1):c==="next"&&(k<u.data.versions.length-1?n(3,k+=1):n(3,k=null),k===u.data.versions.length-1&&n(3,k=null)),Y(k)}}const I=async c=>{var te,Ne;const b=Ft(),B={type:"file",file:"",id:null,url:"",name:c.name,collection_name:"",status:"uploading",size:c.size,error:"",itemId:b};if(B.size==0)return ie.error(l.t("You cannot upload an empty file.")),null;n(2,g=[...g,B]);try{const S=await Gt(localStorage.token,c);S?(console.log("File upload completed:",{id:S.id,name:B.name,collection:(te=S==null?void 0:S.meta)==null?void 0:te.collection_name}),S.error&&(console.warn("File upload warning:",S.error),ie.warning(S.error)),B.status="uploaded",B.file=S,B.id=S.id,B.collection_name=((Ne=S==null?void 0:S.meta)==null?void 0:Ne.collection_name)||(S==null?void 0:S.collection_name),B.url=`${Lt}/files/${S.id}`,n(2,g)):n(2,g=g.filter(K=>(K==null?void 0:K.itemId)!==b))}catch(S){ie.error(`${S}`),n(2,g=g.filter(K=>(K==null?void 0:K.itemId)!==b))}g.length>0?n(0,u.data.files=g,u):n(0,u.data.files=null,u)},ee=async c=>{console.log("Input files handler called with:",c),c.forEach(b=>{var B,te,Ne,S;if(console.log("Processing file:",{name:b.name,type:b.type,size:b.size,extension:b.name.split(".").at(-1)}),(((B=t==null?void 0:t.file)==null?void 0:B.max_size)??null)!==null&&b.size>(((te=t==null?void 0:t.file)==null?void 0:te.max_size)??0)*1024*1024){console.log("File exceeds max size limit:",{fileSize:b.size,maxSize:(((Ne=t==null?void 0:t.file)==null?void 0:Ne.max_size)??0)*1024*1024}),ie.error(l.t("File size should not exceed {{maxSize}} MB.",{maxSize:(S=t==null?void 0:t.file)==null?void 0:S.max_size}));return}if(["image/gif","image/webp","image/jpeg","image/png","image/avif"].includes(b.type)){let K=new FileReader;K.onload=async pe=>{var de,ge;let _e=pe.target.result;if((s==null?void 0:s.imageCompression)??!1){const ve=((de=s==null?void 0:s.imageCompressionSize)==null?void 0:de.width)??null,Ue=((ge=s==null?void 0:s.imageCompressionSize)==null?void 0:ge.height)??null;(ve||Ue)&&(_e=await qt(_e,ve,Ue))}n(2,g=[...g,{type:"image",url:`${_e}`}]),n(0,u.data.files=g,u)},K.readAsDataURL(b)}else I(b)})},J=async c=>{if(console.log("downloadHandler",c),c==="md"){const b=new Blob([u.data.content.md],{type:"text/markdown"});f(b,`${u.title}.md`)}else c==="pdf"&&await me(u)},me=async c=>{var b,B;try{const S=((B=(b=c.data)==null?void 0:b.content)==null?void 0:B.html)??"";let K;S instanceof HTMLElement?K=S:(K=document.createElement("div"),K.innerHTML=S,document.body.appendChild(K));const pe=await St(K,{useCORS:!0,scale:2,width:1024,windowWidth:1024,windowHeight:1400});S instanceof HTMLElement||document.body.removeChild(K);const _e=pe.toDataURL("image/png"),de=new At("p","mm","a4"),ge=210,ve=297,Ue=pe.height*ge/pe.width;let et=Ue,tt=0;for(de.addImage(_e,"PNG",0,tt,ge,Ue),et-=ve;et>0;)tt-=ve,de.addPage(),de.addImage(_e,"PNG",0,tt,ge,Ue),et-=ve;de.save(`${c.title}.pdf`)}catch(te){console.error("Error generating PDF",te),ie.error(`${te}`)}},oe=async c=>{await tn(localStorage.token,c).catch(B=>(ie.error(`${B}`),null))?(ie.success(l.t("Note deleted successfully")),ot("/notes")):ie.error(l.t("Failed to delete note"))},ae=()=>{const c=document.getElementById("note-content-container");c&&(c.scrollTop=c==null?void 0:c.scrollHeight)},De=async c=>{let b={json:null,html:"",md:""};const B=`Enhance existing notes using additional context provided from audio transcription or uploaded file content. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[te,Ne]=await kn(localStorage.token,{model:c.id,stream:!0,messages:[{role:"system",content:B},{role:"user",content:`<notes>${u.data.content.md}</notes>`+(g&&g.length>0?`
<context>${g.map(S=>{var K,pe;return`${S.name}: ${((pe=(K=S==null?void 0:S.file)==null?void 0:K.data)==null?void 0:pe.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Pt}/api`);if(await rt(),n(12,R=!0),te&&te.ok){const S=te.body.pipeThrough(new TextDecoderStream).pipeThrough(Yt(`
`)).getReader();for(;;){const{value:K,done:pe}=await S.read();if(pe)break;try{let _e=K.split(`
`);for(const de of _e)if(de!=="")if(console.log(de),de==="data: [DONE]")console.log(de);else{let ge=JSON.parse(de.replace(/^data: /,""));if(console.log(ge),ge.choices&&ge.choices.length>0){const ve=ge.choices[0];ve.delta&&ve.delta.content&&(b.md+=ve.delta.content,b.html=Ut.parse(b.md),n(0,u.data.content.md=b.md,u),n(0,u.data.content.html=b.html,u),n(0,u.data.content.json=null,u),ae())}}}catch(_e){console.log(_e)}}}n(12,R=!1)},Oe=c=>{var b,B;c.preventDefault(),(B=(b=c.dataTransfer)==null?void 0:b.types)!=null&&B.includes("Files")?n(9,G=!0):n(9,G=!1)},Q=()=>{n(9,G=!1)},se=async c=>{var b,B;if(c.preventDefault(),console.log(c),(b=c.dataTransfer)!=null&&b.files){const te=Array.from((B=c.dataTransfer)==null?void 0:B.files);te&&te.length>0&&(console.log(te),ee(te))}n(9,G=!1)};Wt(async()=>{await rt(),s!=null&&s.models?n(4,N=s==null?void 0:s.models[0]):t!=null&&t.default_models?n(4,N=t==null?void 0:t.default_models.split(",")[0]):n(4,N="");const c=document.getElementById("note-editor");c==null||c.addEventListener("dragover",Oe),c==null||c.addEventListener("drop",se),c==null||c.addEventListener("dragleave",Q)}),Vt(()=>{console.log("destroy");const c=document.getElementById("note-editor");c&&(c==null||c.removeEventListener("dragover",Oe),c==null||c.removeEventListener("drop",se),c==null||c.removeEventListener("dragleave",Q))});function X(c){W=c,n(8,W)}const Ke=()=>{oe(u.id),n(8,W=!1)},Pe=()=>{n(7,O=!O)};function Fe(){N=Mt(this),n(4,N)}function Ye(c){O=c,n(7,O)}function Ze(){u.title=this.value,n(0,u)}const qe=()=>{p("prev")},T=()=>{p("next")},H=c=>{J(c)},ye=async()=>{await Zt(u.data.content.md).catch(b=>(ie.error(`${b}`),null))&&ie.success(l.t("Copied to clipboard"))},fe=()=>{n(8,W=!0)},he=()=>{n(7,O=!O)},We=c=>{n(2,g=g.filter((b,B)=>B!==c)),n(0,u.data.files=g.length>0?g:null,u)},Ve=c=>{n(2,g=g.filter(b=>(b==null?void 0:b.id)!==c.id)),n(0,u.data.files=g.length>0?g:null,u)},$e=c=>{n(0,u.data.content.html=c.html,u),n(0,u.data.content.md=c.md,u)};function Se(c){r.$$.not_equal(u.data.content.json,c)&&(u.data.content.json=c,n(0,u))}const Ge=()=>{n(5,E=!1),n(6,j=!1)},Ae=c=>{c!=null&&c.file&&I(c==null?void 0:c.file),n(5,E=!1),n(6,j=!1)};function Ce(c){E=c,n(5,E)}const Nt=async()=>{n(6,j=!1);try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(b){return ie.error(l.t("Permission denied when accessing microphone: {{error}}",{error:b})),null});c&&(n(5,E=!0),c.getTracks().forEach(B=>B.stop())),c=null}catch{ie.error(l.t("Permission denied when accessing microphone"))}},Dt=async()=>{n(6,j=!0),n(5,E=!0)},Ct=async()=>{const c=document.createElement("input");c.type="file",c.accept="audio/*",c.multiple=!1,c.click(),c.onchange=async b=>{const B=b.target.files;B&&B.length>0&&await I(B[0])}},It=()=>{M()};return r.$$set=c=>{"id"in c&&n(21,h=c.id)},r.$$.update=()=>{r.$$.dirty[0]&2&&_(l.languages),r.$$.dirty[0]&1&&u&&re(),r.$$.dirty[0]&2097152&&h&&D()},[u,l,g,k,N,E,j,O,W,G,A,z,R,a,o,m,M,p,I,J,oe,h,X,Ke,Pe,Fe,Ye,Ze,qe,T,H,ye,fe,he,We,Ve,$e,Se,Ge,Ae,Ce,Nt,Dt,Ct,It]}class gs extends ke{constructor(e){super(),Ee(this,e,hs,ms,be,{id:21},null,[-1,-1,-1])}}function ps(r){let e,n;return e=new gs({props:{id:r[0].params.id}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,[s]){const l={};s&1&&(l.id=t[0].params.id),e.$set(l)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function _s(r,e,n){let t;return Me(r,Bt,s=>n(0,t=s)),[t]}class Gs extends ke{constructor(e){super(),Ee(this,e,_s,ps,be,{})}}export{Gs as component};
//# sourceMappingURL=20.Didy0ZQ5.js.map
