import{l as c}from"./CGwCSIWv.js";import{g as s,i as l,j as r,U as i}from"./Bfpbg74R.js";const g=async t=>{const e=c(`${s}`||void 0,{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,randomizationFactor:.5,path:"/ws/socket.io",transports:t?["websocket"]:["polling","websocket"],auth:{token:localStorage.token}});await l.set(e),e.on("connect_error",o=>{console.log("connect_error",o)}),e.on("connect",()=>{console.log("connected",e.id)}),e.on("reconnect_attempt",o=>{console.log("reconnect_attempt",o)}),e.on("reconnect_failed",()=>{console.log("reconnect_failed")}),e.on("disconnect",(o,n)=>{console.log(`Socket ${e.id} disconnected due to ${o}`),n&&console.log("Additional details:",n)}),e.on("user-list",o=>{console.log("user-list",o),r.set(o.user_ids)}),e.on("usage",o=>{console.log("usage",o),i.set(o.models)})};export{g as s};
//# sourceMappingURL=CApsgvDX.js.map
