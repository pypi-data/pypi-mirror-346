import{s as Ee,E as fe,F as ue,a as b,d,f as i,i as R,g as _,n as ae,z as He,B as Le,p as _t,j as ze,M as Wt,r as vt,k as Z,o as q,v as wt,w as bt,x as kt,e as N,t as Ce,c as D,b as Ie,u as ke,h as We,I as Xe,q as Vt,D as rt,N as Mt,R as zt,G as nt,C as Pe,P as Bt,O as lt,Q as Et}from"../chunks/BDiUIGvQ.js";import{S as ye,i as $e,f as xe,b as L,d as P,m as x,t as I,a as B,e as F,g as Be,c as je}from"../chunks/CMw2dQw9.js";import{p as jt}from"../chunks/mLBWZbNZ.js";import{e as Qe}from"../chunks/DgmbscGK.js";import{f as St}from"../chunks/CyTOOynw.js";import{h as At,E as Ut}from"../chunks/MzMpT8ak.js";import{m as Ot}from"../chunks/5uy4Zm2q.js";import{t as ce}from"../chunks/CCWCPRcv.js";import{m as Rt,c as Ht,b as Lt,s as Pt,e as xt,g as Ft}from"../chunks/zXyoBDYa.js";import{g as ot}from"../chunks/DyIRbSX7.js";import{v as Yt,h as Zt,m as qt,p as Gt}from"../chunks/DBlB6aBr.js";import{u as Jt}from"../chunks/DslyITgB.js";import{c as Qt,g as Xt,d as Oe,r as Kt}from"../chunks/I1CDPYOB.js";import{d as en}from"../chunks/B5vguJUR.js";import{a as tn,d as nn,N as sn,u as rn}from"../chunks/BfUcZW3D.js";import{R as ln,V as on}from"../chunks/DD1pH8IM.js";import{S as yt}from"../chunks/B8jKL4d6.js";import{M as an}from"../chunks/B3QIbQzD.js";import{C as cn}from"../chunks/79Rinja3.js";import{I as fn}from"../chunks/D1DWuATg.js";import{F as un}from"../chunks/DIyl-qLT.js";import{F as dn}from"../chunks/BvCBwGeX.js";import"../chunks/Ce19VtxD.js";import{M as mn,a as hn,b as gn}from"../chunks/Db3fZeOE.js";import{f as pn}from"../chunks/ZLcEirMF.js";import{C as _n}from"../chunks/CAe12bDn.js";import{E as vn}from"../chunks/ChutD0tV.js";import{T as $t}from"../chunks/DZF3XBRY.js";import{S as wn,A as bn}from"../chunks/DLnqdjgO.js";import{C as kn}from"../chunks/BH7sd9hM.js";import{c as En}from"../chunks/Ceh97fp6.js";var Nt={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Qt,function(){return function(t,n,s){var l="h:mm A",o={lastDay:"[Yesterday at] "+l,sameDay:"[Today at] "+l,nextDay:"[Tomorrow at] "+l,nextWeek:"dddd [at] "+l,lastWeek:"[Last] dddd [at] "+l,sameElse:"MM/DD/YYYY"};n.prototype.calendar=function(a,u){var m=u||this.$locale().calendar||o,v=s(a||void 0).startOf("d"),h=this.diff(v,"d",!0),f="sameElse",p=h<-6?f:h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":f,E=m[p]||o[p];return typeof E=="function"?E.call(this,s()):this.format(E)}}})})(Nt);var yn=Nt.exports;const $n=Xt(yn);function Nn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Dn(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Cn extends ye{constructor(e){super(),$e(this,e,Dn,Nn,Ee,{className:0,strokeWidth:1})}}function In(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Tn(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Wn extends ye{constructor(e){super(),$e(this,e,Tn,In,Ee,{className:0,strokeWidth:1})}}function Vn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Mn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class zn extends ye{constructor(e){super(),$e(this,e,Mn,Vn,Ee,{className:0,strokeWidth:1})}}function Bn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function jn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Sn extends ye{constructor(e){super(),$e(this,e,jn,Bn,Ee,{className:0,strokeWidth:1})}}const An=r=>({}),at=r=>({});function Un(r){let e;const t=r[8].default,n=vt(t,r,r[15],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&32768)&&wt(n,t,s,s[15],e?kt(t,s[15],l,null):bt(s[15]),null)},i(s){e||(I(n,s),e=!0)},o(s){B(n,s),e=!1},d(s){n&&n.d(s)}}}function On(r){let e,t,n,s,l,o=r[5].t("Record")+"",a,u,m,v,h,f,p,E=r[5].t("Capture Audio")+"",k,y,W,U,T,K,J,ne=r[5].t("Upload Audio")+"",Q,A,O,j;return n=new zn({props:{className:"size-5",strokeWidth:"1.5"}}),h=new Sn({props:{className:"size-5",strokeWidth:"1.5"}}),T=new _n({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=N("button"),t=N("div"),L(n.$$.fragment),s=Z(),l=N("div"),a=Ce(o),u=Z(),m=N("button"),v=N("div"),L(h.$$.fragment),f=Z(),p=N("div"),k=Ce(E),y=Z(),W=N("button"),U=N("div"),L(T.$$.fragment),K=Z(),J=N("div"),Q=Ce(ne),this.h()},l($){e=D($,"BUTTON",{class:!0});var V=b(e);t=D(V,"DIV",{class:!0});var g=b(t);P(n.$$.fragment,g),g.forEach(d),s=q(V),l=D(V,"DIV",{class:!0});var M=b(l);a=Ie(M,o),M.forEach(d),V.forEach(d),u=q($),m=D($,"BUTTON",{class:!0});var se=b(m);v=D(se,"DIV",{class:!0});var Y=b(v);P(h.$$.fragment,Y),Y.forEach(d),f=q(se),p=D(se,"DIV",{class:!0});var ie=b(p);k=Ie(ie,E),ie.forEach(d),se.forEach(d),y=q($),W=D($,"BUTTON",{class:!0});var re=b(W);U=D(re,"DIV",{class:!0});var le=b(U);P(T.$$.fragment,le),le.forEach(d),K=q(re),J=D(re,"DIV",{class:!0});var he=b(J);Q=Ie(he,ne),he.forEach(d),re.forEach(d),this.h()},h(){i(t,"class","self-center mr-2"),i(l,"class","self-center truncate"),i(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(v,"class","self-center mr-2"),i(p,"class","self-center truncate"),i(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(U,"class","self-center mr-2"),i(J,"class","self-center truncate"),i(W,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m($,V){R($,e,V),_(e,t),x(n,t,null),_(e,s),_(e,l),_(l,a),R($,u,V),R($,m,V),_(m,v),x(h,v,null),_(m,f),_(m,p),_(p,k),R($,y,V),R($,W,V),_(W,U),x(T,U,null),_(W,K),_(W,J),_(J,Q),A=!0,O||(j=[ke(e,"click",r[9]),ke(m,"click",r[10]),ke(W,"click",r[11])],O=!0)},p($,V){(!A||V&32)&&o!==(o=$[5].t("Record")+"")&&We(a,o),(!A||V&32)&&E!==(E=$[5].t("Capture Audio")+"")&&We(k,E),(!A||V&32)&&ne!==(ne=$[5].t("Upload Audio")+"")&&We(Q,ne)},i($){A||(I(n.$$.fragment,$),I(h.$$.fragment,$),I(T.$$.fragment,$),A=!0)},o($){B(n.$$.fragment,$),B(h.$$.fragment,$),B(T.$$.fragment,$),A=!1},d($){$&&(d(e),d(u),d(m),d(y),d(W)),F(n),F(h),F(T),O=!1,Xe(j)}}}function Rn(r){let e,t;return e=new gn({props:{class:"w-full "+r[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"start",transition:r[12],$$slots:{default:[On]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.class="w-full "+n[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&32829&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Hn(r){let e,t,n;e=new hn({props:{$$slots:{default:[Un]},$$scope:{ctx:r}}});const s=r[8].content,l=vt(s,r,r[15],at),o=l||Rn(r);return{c(){L(e.$$.fragment),t=Z(),o&&o.c()},l(a){P(e.$$.fragment,a),t=q(a),o&&o.l(a)},m(a,u){x(e,a,u),R(a,t,u),o&&o.m(a,u),n=!0},p(a,u){const m={};u&32768&&(m.$$scope={dirty:u,ctx:a}),e.$set(m),l?l.p&&(!n||u&32768)&&wt(l,s,a,a[15],n?kt(s,a[15],u,An):bt(a[15]),at):o&&o.p&&(!n||u&63)&&o.p(a,n?u:-1)},i(a){n||(I(e.$$.fragment,a),I(o,a),n=!0)},o(a){B(e.$$.fragment,a),B(o,a),n=!1},d(a){a&&d(t),F(e,a),o&&o.d(a)}}}function Ln(r){let e,t,n;function s(o){r[14](o)}let l={onOpenChange:r[13],$$slots:{default:[Hn]},$$scope:{ctx:r}};return r[0]!==void 0&&(l.open=r[0]),e=new mn({props:l}),He.push(()=>xe(e,"open",s)),{c(){L(e.$$.fragment)},l(o){P(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,[a]){const u={};a&32831&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.open=o[0],Le(()=>t=!1)),e.$set(u)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Pn(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const o=_t("i18n");ze(r,o,T=>t(5,n=T));let{show:a=!1}=e,{className:u="max-w-[160px]"}=e,{onRecord:m=()=>{}}=e,{onCaptureAudio:v=()=>{}}=e,{onUpload:h=()=>{}}=e;const f=Wt(),p=async()=>{m(),t(0,a=!1)},E=()=>{v(),t(0,a=!1)},k=()=>{h(),t(0,a=!1)},y=T=>pn(T,{duration:100}),W=T=>{f("change",T)};function U(T){a=T,t(0,a)}return r.$$set=T=>{"show"in T&&t(0,a=T.show),"className"in T&&t(1,u=T.className),"onRecord"in T&&t(2,m=T.onRecord),"onCaptureAudio"in T&&t(3,v=T.onCaptureAudio),"onUpload"in T&&t(4,h=T.onUpload),"$$scope"in T&&t(15,l=T.$$scope)},[a,u,m,v,h,n,o,f,s,p,E,k,y,W,U,l]}class xn extends ye{constructor(e){super(),$e(this,e,Pn,Ln,Ee,{show:0,className:1,onRecord:2,onCaptureAudio:3,onUpload:4})}}function Fn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=b(e);t=ue(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Yn(r,e,t){let{className:n="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Zn extends ye{constructor(e){super(),$e(this,e,Yn,Fn,Ee,{className:0,strokeWidth:1})}}function qn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Gn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Jn extends ye{constructor(e){super(),$e(this,e,Gn,qn,Ee,{className:0,strokeWidth:1})}}function Qn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){R(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Xn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Kn extends ye{constructor(e){super(),$e(this,e,Xn,Qn,Ee,{className:0,strokeWidth:1})}}function it(r,e,t){const n=r.slice();return n[61]=e[t],n[63]=t,n}function ct(r,e,t){const n=r.slice();return n[64]=e[t],n}function es(r){let e,t=r[1].t("This will delete")+"",n,s,l,o=r[0].title+"",a,u;return{c(){e=N("div"),n=Ce(t),s=Z(),l=N("span"),a=Ce(o),u=Ce("."),this.h()},l(m){e=D(m,"DIV",{class:!0});var v=b(e);n=Ie(v,t),s=q(v),l=D(v,"SPAN",{class:!0});var h=b(l);a=Ie(h,o),h.forEach(d),u=Ie(v,"."),v.forEach(d),this.h()},h(){i(l,"class","font-semibold"),i(e,"class","text-sm text-gray-500")},m(m,v){R(m,e,v),_(e,n),_(e,s),_(e,l),_(l,a),_(e,u)},p(m,v){v[0]&2&&t!==(t=m[1].t("This will delete")+"")&&We(n,t),v[0]&1&&o!==(o=m[0].title+"")&&We(a,o)},d(m){m&&d(e)}}}function ft(r){let e,t=r[64].name+"",n,s;return{c(){e=N("option"),n=Ce(t),this.h()},l(l){e=D(l,"OPTION",{class:!0});var o=b(e);n=Ie(o,t),o.forEach(d),this.h()},h(){e.__value=s=r[64].id,Pe(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,o){R(l,e,o),_(e,n)},p(l,o){o[0]&8192&&t!==(t=l[64].name+"")&&We(n,t),o[0]&8192&&s!==(s=l[64].id)&&(e.__value=s,Pe(e,e.__value))},d(l){l&&d(e)}}}function ts(r){let e,t,n,s="Settings",l,o,a,u,m,v,h,f,p="Model",E,k,y,W,U=r[1].t("Select a model")+"",T,K,J,ne,Q;u=new bn({props:{className:"size-3",strokeWidth:"2.5"}});let A=Qe(r[13].filter(pt)),O=[];for(let j=0;j<A.length;j+=1)O[j]=ft(ct(r,A,j));return{c(){e=N("div"),t=N("div"),n=N("div"),n.textContent=s,l=Z(),o=N("div"),a=N("button"),L(u.$$.fragment),m=Z(),v=N("div"),h=N("div"),f=N("div"),f.textContent=p,E=Z(),k=N("div"),y=N("select"),W=N("option"),T=Ce(U),K=Z();for(let j=0;j<O.length;j+=1)O[j].c();this.h()},l(j){e=D(j,"DIV",{class:!0});var $=b(e);t=D($,"DIV",{class:!0});var V=b(t);n=D(V,"DIV",{class:!0,"data-svelte-h":!0}),nt(n)!=="svelte-1dw76ku"&&(n.textContent=s),l=q(V),o=D(V,"DIV",{class:!0});var g=b(o);a=D(g,"BUTTON",{class:!0});var M=b(a);P(u.$$.fragment,M),M.forEach(d),g.forEach(d),V.forEach(d),m=q($),v=D($,"DIV",{class:!0});var se=b(v);h=D(se,"DIV",{});var Y=b(h);f=D(Y,"DIV",{class:!0,"data-svelte-h":!0}),nt(f)!=="svelte-vz1bvh"&&(f.textContent=p),E=q(Y),k=D(Y,"DIV",{class:!0});var ie=b(k);y=D(ie,"SELECT",{class:!0});var re=b(y);W=D(re,"OPTION",{class:!0});var le=b(W);T=Ie(le,U),K=q(le),le.forEach(d);for(let he=0;he<O.length;he+=1)O[he].l(re);re.forEach(d),ie.forEach(d),Y.forEach(d),se.forEach(d),$.forEach(d),this.h()},h(){i(n,"class","font-medium text-base"),i(a,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(o,"class","translate-x-1.5"),i(t,"class","flex justify-between items-center mb-2"),i(f,"class","text-xs font-medium mb-1"),W.__value="",Pe(W,W.__value),i(W,"class","bg-gray-50 dark:bg-gray-700"),W.disabled=!0,i(y,"class","w-full bg-transparent text-sm outline-hidden"),r[4]===void 0&&Bt(()=>r[25].call(y)),i(k,"class","w-full"),i(v,"class","mt-1"),i(e,"class","flex flex-col px-5 py-3 text-sm")},m(j,$){R(j,e,$),_(e,t),_(t,n),_(t,l),_(t,o),_(o,a),x(u,a,null),_(e,m),_(e,v),_(v,h),_(h,f),_(h,E),_(h,k),_(k,y),_(y,W),_(W,T),_(W,K);for(let V=0;V<O.length;V+=1)O[V]&&O[V].m(y,null);lt(y,r[4],!0),J=!0,ne||(Q=[ke(a,"click",r[24]),ke(y,"change",r[25])],ne=!0)},p(j,$){if((!J||$[0]&2)&&U!==(U=j[1].t("Select a model")+"")&&We(T,U),$[0]&8192){A=Qe(j[13].filter(pt));let V;for(V=0;V<A.length;V+=1){const g=ct(j,A,V);O[V]?O[V].p(g,$):(O[V]=ft(g),O[V].c(),O[V].m(y,null))}for(;V<O.length;V+=1)O[V].d(1);O.length=A.length}$[0]&8208&&lt(y,j[4])},i(j){J||(I(u.$$.fragment,j),J=!0)},o(j){B(u.$$.fragment,j),J=!1},d(j){j&&d(e),F(u),Et(O,j),ne=!1,Xe(Q)}}}function ns(r){var Ye,Ze,qe,Ge;let e,t,n,s,l,o,a,u,m,v,h,f,p,E,k,y,W,U,T,K=Oe(r[0].created_at/1e6).calendar()+"",J,ne,Q,A,O,j,$="You",V,g,M,se,Y,ie,re,le,he,Re,X=((Ze=(Ye=r[0].data)==null?void 0:Ye.versions)==null?void 0:Ze.length)>0&&ut(r);m=new sn({props:{onDownload:r[30],onCopyToClipboard:r[31],onDelete:r[32],$$slots:{default:[rs]},$$scope:{ctx:r}}}),f=new kn({}),W=new Cn({props:{className:"size-3.5",strokeWidth:"2"}}),A=new Wn({props:{className:"size-3.5",strokeWidth:"2"}});let oe=r[11]&&dt(r),ee=r[2]&&r[2].length>0&&mt(r);function Ke(z){r[37](z)}let Fe={className:"input-prose-sm px-0.5",placeholder:r[1].t("Write something..."),html:(Ge=(qe=r[0].data)==null?void 0:qe.content)==null?void 0:Ge.html,json:!0,editable:r[3]===null&&!r[11],onChange:r[36]};return r[0].data.content.json!==void 0&&(Fe.value=r[0].data.content.json),Y=new ln({props:Fe}),He.push(()=>xe(Y,"value",Ke)),{c(){e=N("div"),t=N("div"),n=N("div"),s=N("input"),o=Z(),a=N("div"),X&&X.c(),u=Z(),L(m.$$.fragment),v=Z(),h=N("button"),L(f.$$.fragment),p=Z(),E=N("div"),k=N("div"),y=N("button"),L(W.$$.fragment),U=Z(),T=N("span"),J=Ce(K),ne=Z(),Q=N("button"),L(A.$$.fragment),O=Z(),j=N("span"),j.textContent=$,V=Z(),g=N("div"),oe&&oe.c(),M=Z(),ee&&ee.c(),se=Z(),L(Y.$$.fragment),this.h()},l(z){e=D(z,"DIV",{class:!0});var H=b(e);t=D(H,"DIV",{class:!0});var Ne=b(t);n=D(Ne,"DIV",{class:!0});var de=b(n);s=D(de,"INPUT",{class:!0,type:!0,placeholder:!0}),o=q(de),a=D(de,"DIV",{class:!0});var pe=b(a);X&&X.l(pe),u=q(pe),P(m.$$.fragment,pe),v=q(pe),h=D(pe,"BUTTON",{class:!0});var Ve=b(h);P(f.$$.fragment,Ve),Ve.forEach(d),pe.forEach(d),de.forEach(d),Ne.forEach(d),p=q(H),E=D(H,"DIV",{class:!0});var Me=b(E);k=D(Me,"DIV",{class:!0});var De=b(k);y=D(De,"BUTTON",{class:!0});var Se=b(y);P(W.$$.fragment,Se),U=q(Se),T=D(Se,"SPAN",{});var Je=b(T);J=Ie(Je,K),Je.forEach(d),Se.forEach(d),ne=q(De),Q=D(De,"BUTTON",{class:!0});var Ae=b(Q);P(A.$$.fragment,Ae),O=q(Ae),j=D(Ae,"SPAN",{"data-svelte-h":!0}),nt(j)!=="svelte-1lsvfg9"&&(j.textContent=$),Ae.forEach(d),De.forEach(d),Me.forEach(d),V=q(H),g=D(H,"DIV",{class:!0,id:!0});var Te=b(g);oe&&oe.l(Te),M=q(Te),ee&&ee.l(Te),se=q(Te),P(Y.$$.fragment,Te),Te.forEach(d),H.forEach(d),this.h()},h(){i(s,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),i(s,"type","text"),i(s,"placeholder",l=r[1].t("Title")),s.required=!0,i(h,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(a,"class","flex items-center gap-2 translate-x-1"),i(n,"class","w-full flex items-center"),i(t,"class","shrink-0 w-full flex justify-between items-center px-4.5 mb-1.5"),i(y,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(Q,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(k,"class","flex gap-1 items-center text-xs font-medium text-gray-500 dark:text-gray-500"),i(E,"class","mb-2.5 px-3.5"),i(g,"class","flex-1 w-full h-full overflow-auto px-4 pb-20 relative"),i(g,"id","note-content-container"),i(e,"class",re="w-full flex flex-col "+(r[10]?"opacity-20":""))},m(z,H){R(z,e,H),_(e,t),_(t,n),_(n,s),Pe(s,r[0].title),_(n,o),_(n,a),X&&X.m(a,null),_(a,u),x(m,a,null),_(a,v),_(a,h),x(f,h,null),_(e,p),_(e,E),_(E,k),_(k,y),x(W,y,null),_(y,U),_(y,T),_(T,J),_(k,ne),_(k,Q),x(A,Q,null),_(Q,O),_(Q,j),_(e,V),_(e,g),oe&&oe.m(g,null),_(g,M),ee&&ee.m(g,null),_(g,se),x(Y,g,null),le=!0,he||(Re=[ke(s,"input",r[27]),ke(h,"click",r[33])],he=!0)},p(z,H){var pe,Ve,Me,De;(!le||H[0]&2&&l!==(l=z[1].t("Title")))&&i(s,"placeholder",l),H[0]&1&&s.value!==z[0].title&&Pe(s,z[0].title),((Ve=(pe=z[0].data)==null?void 0:pe.versions)==null?void 0:Ve.length)>0?X?(X.p(z,H),H[0]&1&&I(X,1)):(X=ut(z),X.c(),I(X,1),X.m(a,u)):X&&(Be(),B(X,1,1,()=>{X=null}),je());const Ne={};H[0]&3&&(Ne.onCopyToClipboard=z[31]),H[0]&256&&(Ne.onDelete=z[32]),H[2]&32&&(Ne.$$scope={dirty:H,ctx:z}),m.$set(Ne),(!le||H[0]&1)&&K!==(K=Oe(z[0].created_at/1e6).calendar()+"")&&We(J,K),z[11]?oe?oe.p(z,H):(oe=dt(z),oe.c(),oe.m(g,M)):oe&&(oe.d(1),oe=null),z[2]&&z[2].length>0?ee?(ee.p(z,H),H[0]&4&&I(ee,1)):(ee=mt(z),ee.c(),I(ee,1),ee.m(g,se)):ee&&(Be(),B(ee,1,1,()=>{ee=null}),je());const de={};H[0]&2&&(de.placeholder=z[1].t("Write something...")),H[0]&1&&(de.html=(De=(Me=z[0].data)==null?void 0:Me.content)==null?void 0:De.html),H[0]&2056&&(de.editable=z[3]===null&&!z[11]),H[0]&1&&(de.onChange=z[36]),!ie&&H[0]&1&&(ie=!0,de.value=z[0].data.content.json,Le(()=>ie=!1)),Y.$set(de),(!le||H[0]&1024&&re!==(re="w-full flex flex-col "+(z[10]?"opacity-20":"")))&&i(e,"class",re)},i(z){le||(I(X),I(m.$$.fragment,z),I(f.$$.fragment,z),I(W.$$.fragment,z),I(A.$$.fragment,z),I(ee),I(Y.$$.fragment,z),le=!0)},o(z){B(X),B(m.$$.fragment,z),B(f.$$.fragment,z),B(W.$$.fragment,z),B(A.$$.fragment,z),B(ee),B(Y.$$.fragment,z),le=!1},d(z){z&&d(e),X&&X.d(),F(m),F(f),F(W),F(A),oe&&oe.d(),ee&&ee.d(),F(Y),he=!1,Xe(Re)}}}function ss(r){let e,t,n,s;return n=new yt({}),{c(){e=N("div"),t=N("div"),L(n.$$.fragment),this.h()},l(l){e=D(l,"DIV",{class:!0});var o=b(e);t=D(o,"DIV",{class:!0});var a=b(t);P(n.$$.fragment,a),a.forEach(d),o.forEach(d),this.h()},h(){i(t,"class","m-auto"),i(e,"class","absolute top-0 bottom-0 left-0 right-0 flex")},m(l,o){R(l,e,o),_(e,t),x(n,t,null),s=!0},p:ae,i(l){s||(I(n.$$.fragment,l),s=!0)},o(l){B(n.$$.fragment,l),s=!1},d(l){l&&d(e),F(n)}}}function ut(r){let e,t,n,s,l,o,a,u,m,v,h,f;return s=new Jn({props:{className:"size-4"}}),u=new Kn({props:{className:"size-4"}}),{c(){e=N("div"),t=N("div"),n=N("button"),L(s.$$.fragment),o=Z(),a=N("button"),L(u.$$.fragment),this.h()},l(p){e=D(p,"DIV",{});var E=b(e);t=D(E,"DIV",{class:!0,dir:!0});var k=b(t);n=D(k,"BUTTON",{class:!0});var y=b(n);P(s.$$.fragment,y),y.forEach(d),o=q(k),a=D(k,"BUTTON",{class:!0});var W=b(a);P(u.$$.fragment,W),W.forEach(d),k.forEach(d),E.forEach(d),this.h()},h(){i(n,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),n.disabled=l=r[3]===null&&r[0].data.versions.length===0||r[3]===0,i(a,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),a.disabled=m=r[3]>=r[0].data.versions.length||r[3]===null,i(t,"class","flex items-center gap-0.5 self-center min-w-fit"),i(t,"dir","ltr")},m(p,E){R(p,e,E),_(e,t),_(t,n),x(s,n,null),_(t,o),_(t,a),x(u,a,null),v=!0,h||(f=[ke(n,"click",r[28]),ke(a,"click",r[29])],h=!0)},p(p,E){(!v||E[0]&9&&l!==(l=p[3]===null&&p[0].data.versions.length===0||p[3]===0))&&(n.disabled=l),(!v||E[0]&9&&m!==(m=p[3]>=p[0].data.versions.length||p[3]===null))&&(a.disabled=m)},i(p){v||(I(s.$$.fragment,p),I(u.$$.fragment,p),v=!0)},o(p){B(s.$$.fragment,p),B(u.$$.fragment,p),v=!1},d(p){p&&d(e),F(s),F(u),h=!1,Xe(f)}}}function rs(r){let e,t;return e=new vn({props:{className:"size-5"}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},p:ae,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function dt(r){let e,t;return{c(){e=N("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){i(e,"class",t="w-full h-full fixed top-0 left-0 "+(r[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")},m(n,s){R(n,e,s)},p(n,s){s[0]&4096&&t!==(t="w-full h-full fixed top-0 left-0 "+(n[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")&&i(e,"class",t)},d(n){n&&d(e)}}}function mt(r){let e,t,n=Qe(r[2]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ht(it(r,n,o));const l=o=>B(s[o],1,1,()=>{s[o]=null});return{c(){e=N("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var a=b(e);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(d),this.h()},h(){i(e,"class","mb-3.5 mt-1.5 w-full flex gap-1 flex-wrap z-40")},m(o,a){R(o,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);t=!0},p(o,a){if(a[0]&5){n=Qe(o[2]);let u;for(u=0;u<n.length;u+=1){const m=it(o,n,u);s[u]?(s[u].p(m,a),I(s[u],1)):(s[u]=ht(m),s[u].c(),I(s[u],1),s[u].m(e,null))}for(Be(),u=n.length;u<s.length;u+=1)l(u);je()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)I(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)B(s[a]);t=!1},d(o){o&&d(e),Et(s,o)}}}function ls(r){var s;let e,t;function n(){return r[35](r[61])}return e=new un({props:{item:r[61],dismissible:!0,url:r[61].url,name:r[61].name,type:r[61].type,size:(s=r[61])==null?void 0:s.size,loading:r[61].status==="uploading"}}),e.$on("dismiss",n),{c(){L(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,o){x(e,l,o),t=!0},p(l,o){var u;r=l;const a={};o[0]&4&&(a.item=r[61]),o[0]&4&&(a.url=r[61].url),o[0]&4&&(a.name=r[61].name),o[0]&4&&(a.type=r[61].type),o[0]&4&&(a.size=(u=r[61])==null?void 0:u.size),o[0]&4&&(a.loading=r[61].status==="uploading"),e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function os(r){let e,t;function n(){return r[34](r[63])}return e=new fn({props:{src:r[61].url,imageClassName:" max-h-96 rounded-lg",dismissible:!0,onDismiss:n}}),{c(){L(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,l){x(e,s,l),t=!0},p(s,l){r=s;const o={};l[0]&4&&(o.src=r[61].url),l[0]&5&&(o.onDismiss=n),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function ht(r){let e,t,n,s,l;const o=[os,ls],a=[];function u(m,v){return m[61].type==="image"?0:1}return t=u(r),n=a[t]=o[t](r),{c(){e=N("div"),n.c(),s=Z(),this.h()},l(m){e=D(m,"DIV",{class:!0});var v=b(e);n.l(v),s=q(v),v.forEach(d),this.h()},h(){i(e,"class","w-fit")},m(m,v){R(m,e,v),a[t].m(e,null),_(e,s),l=!0},p(m,v){let h=t;t=u(m),t===h?a[t].p(m,v):(Be(),B(a[h],1,1,()=>{a[h]=null}),je(),n=a[t],n?n.p(m,v):(n=a[t]=o[t](m),n.c()),I(n,1),n.m(e,s))},i(m){l||(I(n),l=!0)},o(m){B(n),l=!1},d(m){m&&d(e),a[t].d()}}}function as(r){let e,t,n,s,l;return e=new xn({props:{onRecord:r[41],onCaptureAudio:r[42],onUpload:r[43],$$slots:{default:[fs]},$$scope:{ctx:r}}}),s=new $t({props:{content:r[1].t("Enhance"),placement:"top",$$slots:{default:[ms]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment),t=Z(),n=N("div"),L(s.$$.fragment),this.h()},l(o){P(e.$$.fragment,o),t=q(o),n=D(o,"DIV",{class:!0});var a=b(n);P(s.$$.fragment,a),a.forEach(d),this.h()},h(){i(n,"class","cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850 dark:bg-gray-850 transition shadow-xl")},m(o,a){x(e,o,a),R(o,t,a),R(o,n,a),x(s,n,null),l=!0},p(o,a){const u={};a[0]&98&&(u.onRecord=o[41]),a[0]&96&&(u.onCaptureAudio=o[42]),a[0]&2|a[2]&32&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const m={};a[0]&2&&(m.content=o[1].t("Enhance")),a[0]&2048|a[2]&32&&(m.$$scope={dirty:a,ctx:o}),s.$set(m)},i(o){l||(I(e.$$.fragment,o),I(s.$$.fragment,o),l=!0)},o(o){B(e.$$.fragment,o),B(s.$$.fragment,o),l=!1},d(o){o&&(d(t),d(n)),F(e,o),F(s)}}}function is(r){let e,t,n,s;function l(a){r[40](a)}let o={className:"p-1 w-full max-w-full",transcribe:!1,displayMedia:r[6],onCancel:r[38],onConfirm:r[39]};return r[5]!==void 0&&(o.recording=r[5]),t=new on({props:o}),He.push(()=>xe(t,"recording",l)),{c(){e=N("div"),L(t.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var u=b(e);P(t.$$.fragment,u),u.forEach(d),this.h()},h(){i(e,"class","flex-1 w-full")},m(a,u){R(a,e,u),x(t,e,null),s=!0},p(a,u){const m={};u[0]&64&&(m.displayMedia=a[6]),u[0]&96&&(m.onCancel=a[38]),u[0]&96&&(m.onConfirm=a[39]),!n&&u[0]&32&&(n=!0,m.recording=a[5],Le(()=>n=!1)),t.$set(m)},i(a){s||(I(t.$$.fragment,a),s=!0)},o(a){B(t.$$.fragment,a),s=!1},d(a){a&&d(e),F(t)}}}function cs(r){let e,t,n;return t=new an({props:{className:"size-4.5"}}),{c(){e=N("button"),L(t.$$.fragment),this.h()},l(s){e=D(s,"BUTTON",{class:!0,type:!0});var l=b(e);P(t.$$.fragment,l),l.forEach(d),this.h()},h(){i(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"),i(e,"type","button")},m(s,l){R(s,e,l),x(t,e,null),n=!0},p:ae,i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){s&&d(e),F(t)}}}function fs(r){let e,t;return e=new $t({props:{content:r[1].t("Record"),placement:"top",$$slots:{default:[cs]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},p(n,s){const l={};s[0]&2&&(l.content=n[1].t("Record")),s[2]&32&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function us(r){let e,t;return e=new Zn({}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ds(r){let e,t;return e=new yt({props:{className:"size-5"}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ms(r){let e,t,n,s,l,o,a;const u=[ds,us],m=[];function v(h,f){return h[11]?0:1}return t=v(r),n=m[t]=u[t](r),{c(){e=N("button"),n.c(),this.h()},l(h){e=D(h,"BUTTON",{class:!0,type:!0});var f=b(e);n.l(f),f.forEach(d),this.h()},h(){i(e,"class",s=(r[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"),e.disabled=r[11],i(e,"type","button")},m(h,f){R(h,e,f),m[t].m(e,null),l=!0,o||(a=ke(e,"click",r[44]),o=!0)},p(h,f){let p=t;t=v(h),t!==p&&(Be(),B(m[p],1,1,()=>{m[p]=null}),je(),n=m[t],n||(n=m[t]=u[t](h),n.c()),I(n,1),n.m(e,null)),(!l||f[0]&2048&&s!==(s=(h[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"))&&i(e,"class",s),(!l||f[0]&2048)&&(e.disabled=h[11])},i(h){l||(I(n),l=!0)},o(h){B(n),l=!1},d(h){h&&d(e),m[t].d(),o=!1,a()}}}function hs(r){let e,t,n,s,l,o,a,u,m,v,h,f,p,E,k,y,W,U;e=new dn({props:{show:r[9]}});function T(g){r[22](g)}let K={title:r[1].t("Delete note?"),$$slots:{default:[es]},$$scope:{ctx:r}};r[8]!==void 0&&(K.show=r[8]),n=new cn({props:K}),He.push(()=>xe(n,"show",T)),n.$on("confirm",r[23]);function J(g){r[26](g)}let ne={className:" bg-white dark:bg-gray-900",width:"300px",$$slots:{default:[ts]},$$scope:{ctx:r}};r[7]!==void 0&&(ne.show=r[7]),a=new wn({props:ne}),He.push(()=>xe(a,"show",J));const Q=[ss,ns],A=[];function O(g,M){return g[10]?0:1}v=O(r),h=A[v]=Q[v](r);const j=[is,as],$=[];function V(g,M){return g[5]?0:1}return k=V(r),y=$[k]=j[k](r),{c(){L(e.$$.fragment),t=Z(),L(n.$$.fragment),l=Z(),o=N("div"),L(a.$$.fragment),m=Z(),h.c(),f=Z(),p=N("div"),E=N("div"),y.c(),this.h()},l(g){P(e.$$.fragment,g),t=q(g),P(n.$$.fragment,g),l=q(g),o=D(g,"DIV",{class:!0,id:!0});var M=b(o);P(a.$$.fragment,M),m=q(M),h.l(M),M.forEach(d),f=q(g),p=D(g,"DIV",{class:!0});var se=b(p);E=D(se,"DIV",{class:!0});var Y=b(E);y.l(Y),Y.forEach(d),se.forEach(d),this.h()},h(){i(o,"class","relative flex-1 w-full h-full flex justify-center"),i(o,"id","note-editor"),i(E,"class","flex gap-1 justify-between w-full max-w-full"),i(p,"class",W="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(r[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end")},m(g,M){x(e,g,M),R(g,t,M),x(n,g,M),R(g,l,M),R(g,o,M),x(a,o,null),_(o,m),A[v].m(o,null),R(g,f,M),R(g,p,M),_(p,E),$[k].m(E,null),U=!0},p(g,M){const se={};M[0]&512&&(se.show=g[9]),e.$set(se);const Y={};M[0]&2&&(Y.title=g[1].t("Delete note?")),M[0]&3|M[2]&32&&(Y.$$scope={dirty:M,ctx:g}),!s&&M[0]&256&&(s=!0,Y.show=g[8],Le(()=>s=!1)),n.$set(Y);const ie={};M[0]&8338|M[2]&32&&(ie.$$scope={dirty:M,ctx:g}),!u&&M[0]&128&&(u=!0,ie.show=g[7],Le(()=>u=!1)),a.$set(ie);let re=v;v=O(g),v===re?A[v].p(g,M):(Be(),B(A[re],1,1,()=>{A[re]=null}),je(),h=A[v],h?h.p(g,M):(h=A[v]=Q[v](g),h.c()),I(h,1),h.m(o,null));let le=k;k=V(g),k===le?$[k].p(g,M):(Be(),B($[le],1,1,()=>{$[le]=null}),je(),y=$[k],y?y.p(g,M):(y=$[k]=j[k](g),y.c()),I(y,1),y.m(E,null)),(!U||M[0]&16384&&W!==(W="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(g[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end"))&&i(p,"class",W)},i(g){U||(I(e.$$.fragment,g),I(n.$$.fragment,g),I(a.$$.fragment,g),I(h),I(y),U=!0)},o(g){B(e.$$.fragment,g),B(n.$$.fragment,g),B(a.$$.fragment,g),B(h),B(y),U=!1},d(g){g&&(d(t),d(l),d(o),d(f),d(p)),F(e,g),F(n,g),F(a),A[v].d(),$[k].d()}}}function st(r,e){return JSON.stringify(r)===JSON.stringify(e)}function gt(r){var n;const e={json:r.data.content.json,html:r.data.content.html,md:r.data.content.md},t=(n=r.data.versions)==null?void 0:n.at(-1);return!t||!st(t,e)?(r.data.versions=(r.data.versions??[]).concat(e),!0):!1}const pt=r=>{var e,t;return!(((t=(e=r==null?void 0:r.info)==null?void 0:e.meta)==null?void 0:t.hidden)??!1)};function gs(r,e,t){let n,s,l,o,a;ze(r,Rt,c=>t(13,n=c)),ze(r,Ht,c=>t(46,s=c)),ze(r,Lt,c=>t(47,l=c)),ze(r,Pt,c=>t(14,a=c));const{saveAs:u}=St,m=_t("i18n");ze(r,m,c=>t(1,o=c)),Oe.extend($n),Oe.extend(en),Oe.extend(Kt);async function v(c){for(const w of c)try{Oe.locale(w);break}catch(C){console.error(`Could not load locale '${w}':`,C)}}let{id:h=null}=e,f=null,p=[],E=null,k=null,y=!1,W=!1,U=!1,T=!1,K=!1,J=!1,ne=!1,Q=!1;const A=async()=>{t(10,J=!0);const c=await tn(localStorage.token,h).catch(w=>(ce.error(`${w}`),null));if(c)t(0,f=c),t(2,p=c.data.files||[]);else{ot("/");return}t(10,J=!1)};let O=null;const j=()=>{O&&clearTimeout(O),O=setTimeout(async()=>{!f||ne||E!==null||(console.log("Saving note:",f),await rn(localStorage.token,h,{...f,title:f.title===""?o.t("Untitled"):f.title}).catch(c=>{ce.error(`${c}`)}))},200)};async function $(){if(k===""){ce.error(o.t("Please select a model."));return}const c=n.filter(w=>{var C,G;return w.id===k&&!(((G=(C=w==null?void 0:w.info)==null?void 0:C.meta)==null?void 0:G.hidden)??!1)}).find(w=>w.id===k);if(!c){t(4,k="");return}t(11,ne=!0),gt(f),await he(c),t(11,ne=!1),t(3,E=null)}function V(c){var G;if(!((G=f.data.versions)!=null&&G.length))return;let w=c;w===null&&(w=f.data.versions.length-1);const C=f.data.versions[w];if(t(0,f.data.content.json=C.json,f),t(0,f.data.content.html=C.html,f),t(0,f.data.content.md=C.md,f),c===null){const ge=f.data.versions.at(-1),S=f.data.content;st(ge,S)&&t(0,f.data.versions=f.data.versions.slice(0,-1),f)}}function g(c){if(!(!f.data.versions||f.data.versions.length===0)){if(E===null){const w=f.data.versions.at(-1),C=f.data.content;st(w,C)?t(3,E=f.data.versions.length):(gt(f),t(3,E=f.data.versions.length-1))}c==="prev"?E>0&&t(3,E-=1):c==="next"&&(E<f.data.versions.length-1?t(3,E+=1):t(3,E=null),E===f.data.versions.length-1&&t(3,E=null)),V(E)}}const M=async c=>{var G,ge;const w=Yt(),C={type:"file",file:"",id:null,url:"",name:c.name,collection_name:"",status:"uploading",size:c.size,error:"",itemId:w};if(C.size==0)return ce.error(o.t("You cannot upload an empty file.")),null;t(2,p=[...p,C]);try{const S=await Jt(localStorage.token,c);S?(console.log("File upload completed:",{id:S.id,name:C.name,collection:(G=S==null?void 0:S.meta)==null?void 0:G.collection_name}),S.error&&(console.warn("File upload warning:",S.error),ce.warning(S.error)),C.status="uploaded",C.file=S,C.id=S.id,C.collection_name=((ge=S==null?void 0:S.meta)==null?void 0:ge.collection_name)||(S==null?void 0:S.collection_name),C.url=`${xt}/files/${S.id}`,t(2,p)):t(2,p=p.filter(te=>(te==null?void 0:te.itemId)!==w))}catch(S){ce.error(`${S}`),t(2,p=p.filter(te=>(te==null?void 0:te.itemId)!==w))}p.length>0?t(0,f.data.files=p,f):t(0,f.data.files=null,f)},se=async c=>{console.log("Input files handler called with:",c),c.forEach(w=>{var C,G,ge,S;if(console.log("Processing file:",{name:w.name,type:w.type,size:w.size,extension:w.name.split(".").at(-1)}),(((C=s==null?void 0:s.file)==null?void 0:C.max_size)??null)!==null&&w.size>(((G=s==null?void 0:s.file)==null?void 0:G.max_size)??0)*1024*1024){console.log("File exceeds max size limit:",{fileSize:w.size,maxSize:(((ge=s==null?void 0:s.file)==null?void 0:ge.max_size)??0)*1024*1024}),ce.error(o.t("File size should not exceed {{maxSize}} MB.",{maxSize:(S=s==null?void 0:s.file)==null?void 0:S.max_size}));return}if(["image/gif","image/webp","image/jpeg","image/png","image/avif"].includes(w.type)){let te=new FileReader;te.onload=async ve=>{var me,_e;let we=ve.target.result;if((l==null?void 0:l.imageCompression)??!1){const be=((me=l==null?void 0:l.imageCompressionSize)==null?void 0:me.width)??null,Ue=((_e=l==null?void 0:l.imageCompressionSize)==null?void 0:_e.height)??null;(be||Ue)&&(we=await Gt(we,be,Ue))}t(2,p=[...p,{type:"image",url:`${we}`}]),t(0,f.data.files=p,f)},te.readAsDataURL(w)}else M(w)})},Y=async c=>{if(console.log("downloadHandler",c),c==="md"){const w=new Blob([f.data.content.md],{type:"text/markdown"});u(w,`${f.title}.md`)}else c==="pdf"&&await ie(f)},ie=async c=>{var w,C;try{const S=((C=(w=c.data)==null?void 0:w.content)==null?void 0:C.html)??"";let te;S instanceof HTMLElement?te=S:(te=document.createElement("div"),te.innerHTML=S,document.body.appendChild(te));const ve=await At(te,{useCORS:!0,scale:2,width:1024,windowWidth:1024,windowHeight:1400});S instanceof HTMLElement||document.body.removeChild(te);const we=ve.toDataURL("image/png"),me=new Ut("p","mm","a4"),_e=210,be=297,Ue=ve.height*_e/ve.width;let et=Ue,tt=0;for(me.addImage(we,"PNG",0,tt,_e,Ue),et-=be;et>0;)tt-=be,me.addPage(),me.addImage(we,"PNG",0,tt,_e,Ue),et-=be;me.save(`${c.title}.pdf`)}catch(G){console.error("Error generating PDF",G),ce.error(`${G}`)}},re=async c=>{await nn(localStorage.token,c).catch(C=>(ce.error(`${C}`),null))?(ce.success(o.t("Note deleted successfully")),ot("/notes")):ce.error(o.t("Failed to delete note"))},le=()=>{const c=document.getElementById("note-content-container");c&&(c.scrollTop=c==null?void 0:c.scrollHeight)},he=async c=>{let w={json:null,html:"",md:""};const C=`Enhance existing notes using additional context provided from audio transcription or uploaded file content. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[G,ge]=await En(localStorage.token,{model:c.id,stream:!0,messages:[{role:"system",content:C},{role:"user",content:`<notes>${f.data.content.md}</notes>`+(p&&p.length>0?`
<context>${p.map(S=>{var te,ve;return`${S.name}: ${((ve=(te=S==null?void 0:S.file)==null?void 0:te.data)==null?void 0:ve.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Ft}/api`);if(await rt(),t(12,Q=!0),G&&G.ok){const S=G.body.pipeThrough(new TextDecoderStream).pipeThrough(Zt(`
`)).getReader();for(;;){const{value:te,done:ve}=await S.read();if(ve)break;try{let we=te.split(`
`);for(const me of we)if(me!=="")if(console.log(me),me==="data: [DONE]")console.log(me);else{let _e=JSON.parse(me.replace(/^data: /,""));if(console.log(_e),_e.choices&&_e.choices.length>0){const be=_e.choices[0];be.delta&&be.delta.content&&(w.md+=be.delta.content,w.html=Ot.parse(w.md),t(0,f.data.content.md=w.md,f),t(0,f.data.content.html=w.html,f),t(0,f.data.content.json=null,f),le())}}}catch(we){console.log(we)}}}t(12,Q=!1)},Re=c=>{var w,C;c.preventDefault(),(C=(w=c.dataTransfer)==null?void 0:w.types)!=null&&C.includes("Files")?t(9,K=!0):t(9,K=!1)},X=()=>{t(9,K=!1)},oe=async c=>{var w,C;if(c.preventDefault(),console.log(c),(w=c.dataTransfer)!=null&&w.files){const G=Array.from((C=c.dataTransfer)==null?void 0:C.files);G&&G.length>0&&(console.log(G),se(G))}t(9,K=!1)};Vt(async()=>{await rt(),l!=null&&l.models?t(4,k=l==null?void 0:l.models[0]):s!=null&&s.default_models?t(4,k=s==null?void 0:s.default_models.split(",")[0]):t(4,k=""),k&&(n.filter(C=>{var G,ge;return C.id===k&&!(((ge=(G=C==null?void 0:C.info)==null?void 0:G.meta)==null?void 0:ge.hidden)??!1)}).find(C=>C.id===k)||t(4,k=""));const c=document.getElementById("note-editor");c==null||c.addEventListener("dragover",Re),c==null||c.addEventListener("drop",oe),c==null||c.addEventListener("dragleave",X)}),Mt(()=>{console.log("destroy");const c=document.getElementById("note-editor");c&&(c==null||c.removeEventListener("dragover",Re),c==null||c.removeEventListener("drop",oe),c==null||c.removeEventListener("dragleave",X))});function ee(c){T=c,t(8,T)}const Ke=()=>{re(f.id),t(8,T=!1)},Fe=()=>{t(7,U=!U)};function Ye(){k=zt(this),t(4,k)}function Ze(c){U=c,t(7,U)}function qe(){f.title=this.value,t(0,f)}const Ge=()=>{g("prev")},z=()=>{g("next")},H=c=>{Y(c)},Ne=async()=>{await qt(f.data.content.md).catch(w=>(ce.error(`${w}`),null))&&ce.success(o.t("Copied to clipboard"))},de=()=>{t(8,T=!0)},pe=()=>{t(7,U=!U)},Ve=c=>{t(2,p=p.filter((w,C)=>C!==c)),t(0,f.data.files=p.length>0?p:null,f)},Me=c=>{t(2,p=p.filter(w=>(w==null?void 0:w.id)!==c.id)),t(0,f.data.files=p.length>0?p:null,f)},De=c=>{t(0,f.data.content.html=c.html,f),t(0,f.data.content.md=c.md,f)};function Se(c){r.$$.not_equal(f.data.content.json,c)&&(f.data.content.json=c,t(0,f))}const Je=()=>{t(5,y=!1),t(6,W=!1)},Ae=c=>{c!=null&&c.file&&M(c==null?void 0:c.file),t(5,y=!1),t(6,W=!1)};function Te(c){y=c,t(5,y)}const Dt=async()=>{t(6,W=!1);try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(w){return ce.error(o.t("Permission denied when accessing microphone: {{error}}",{error:w})),null});c&&(t(5,y=!0),c.getTracks().forEach(C=>C.stop())),c=null}catch{ce.error(o.t("Permission denied when accessing microphone"))}},Ct=async()=>{t(6,W=!0),t(5,y=!0)},It=async()=>{const c=document.createElement("input");c.type="file",c.accept="audio/*",c.multiple=!1,c.click(),c.onchange=async w=>{const C=w.target.files;C&&C.length>0&&await M(C[0])}},Tt=()=>{$()};return r.$$set=c=>{"id"in c&&t(21,h=c.id)},r.$$.update=()=>{r.$$.dirty[0]&2&&v(o.languages),r.$$.dirty[0]&1&&f&&j(),r.$$.dirty[0]&2097152&&h&&A()},[f,o,p,E,k,y,W,U,T,K,J,ne,Q,n,a,m,$,g,M,Y,re,h,ee,Ke,Fe,Ye,Ze,qe,Ge,z,H,Ne,de,pe,Ve,Me,De,Se,Je,Ae,Te,Dt,Ct,It,Tt]}class ps extends ye{constructor(e){super(),$e(this,e,gs,hs,Ee,{id:21},null,[-1,-1,-1])}}function _s(r){let e,t;return e=new ps({props:{id:r[0].params.id}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){x(e,n,s),t=!0},p(n,[s]){const l={};s&1&&(l.id=n[0].params.id),e.$set(l)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function vs(r,e,t){let n;return ze(r,jt,s=>t(0,n=s)),[n]}class Js extends ye{constructor(e){super(),$e(this,e,vs,_s,Ee,{})}}export{Js as component};
//# sourceMappingURL=20.tlrbHy4z.js.map
