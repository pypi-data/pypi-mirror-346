# Generated by Django 3.2.19 on 2023-06-07 10:39

from django.db import migrations, models
import django.utils.timezone
import model_utils.fields


class Migration(migrations.Migration):

    dependencies = [
        ('openedx_webhooks', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Webfilter',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created', model_utils.fields.AutoCreatedField(default=django.utils.timezone.now, editable=False, verbose_name='created')),
                ('modified', model_utils.fields.AutoLastModifiedField(default=django.utils.timezone.now, editable=False, verbose_name='modified')),
                ('description', models.TextField(blank=True, default='', help_text='Description')),
                ('event', models.CharField(choices=[('StudentRegistrationRequested', 'Student Registration Requested'), ('StudentLoginRequested', 'Student Login Requested'), ('CourseEnrollmentStarted', 'Course Enrollment Started'), ('CourseUnenrollmentStarted', 'Course Unenrollment Started'), ('CertificateCreationRequested', 'Certificate Creation Requested'), ('CertificateRenderStarted', 'Certificate Render Started'), ('CohortChangeRequested', 'Cohort Change Requested'), ('CohortAssignmentRequested', 'Cohort Assignment Requested'), ('Course_aboutRenderStarted', 'Course_about Render Started'), ('DashboardRenderStarted', 'Dashboard Render Started'), ('Veritical_block_childRenderStarted', 'Veritical_block_child Render Started'), ('Veritical_blockRenderCompleted', 'Veritical_block Render Completed')], default='', help_text='Event type', max_length=50)),
                ('webhook_url', models.URLField(help_text='URL to call when the event is triggered', max_length=255)),
                ('enabled', models.BooleanField(default=True, verbose_name='Enabled')),
                ('disable_halt', models.BooleanField(default=False, help_text="Don't stop the process.", verbose_name='Disable halting')),
                ('halt_on_4xx', models.BooleanField(default=False, help_text='Halt the process if the server returns a status response of 4xx (client error).', verbose_name='Halt on 4xx')),
                ('redirect_on_4xx', models.URLField(blank=True, help_text='URL to redirect on result code 4xx (client error)', max_length=255)),
                ('halt_on_5xx', models.BooleanField(default=False, help_text='Halt the process if the server returns a status response of 5xx (server error).', verbose_name='Halt on 4xx')),
                ('redirect_on_5xx', models.URLField(blank=True, help_text='URL to redirect on result code 5XX (server error)', max_length=255)),
                ('halt_on_request_exception', models.BooleanField(default=False, help_text="Halt the process if the server doesn't response or there is an exception sending the request.", verbose_name='Halt on request exception')),
                ('redirect_on_request_exception', models.URLField(blank=True, help_text='URL to redirect on request exception', max_length=255)),
            ],
            options={
                'abstract': False,
            },
        ),
    ]
