(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return e(22406)}])},812:function(n,t,e){"use strict";e.d(t,{D4:function(){return o.D4},MM:function(){return g},Ot:function(){return c},c6:function(){return r},cj:function(){return p},e$:function(){return a},fn:function(){return s},iC:function(){return f},nU:function(){return d},tB:function(){return u}});var i,r,o=e(19043);let l="An unexpected error occurred. Please try again.",a=function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(n)){if((0,o.hE)(n.data))return n.data.detail;if((0,o.cz)(n.data)){var e;let t=null===(e=n.data.detail)||void 0===e?void 0:e[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===n.status&&(0,o.Dy)(n.data)||404===n.status&&(0,o.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return t};function s(n){return"object"==typeof n&&null!=n&&"status"in n}function c(n){return"object"==typeof n&&null!=n&&"data"in n&&"string"==typeof n.data.detail}function u(n){return"object"==typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}let d=function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(n))return{status:n.originalStatus,message:n.data};if((0,o.Bw)(n)){let{status:e}=n;return{status:e,message:a(n,t.message)}}return t},g=n=>Object.entries(n).map(n=>({value:n[1],label:n[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let f={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},p=n=>{let t=n.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},22406:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return L}});var i,r,o,l,a=e(24246),s=e(91942),c=e(27378),u=e(7617),d=e(18225),g=e(77213),f=e(58754),p=e(14207),x=e(8133),h=e(68964),m=e(15987),j=e(75595),v=n=>{let{integrationType:t,onConfigure:e,onCancel:i}=n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{integration:null==t?void 0:t.placeholder,onConfigureClick:e}),null==t?void 0:t.overview,(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:i,children:"Cancel"})]})]})},C=e(25980);(i=o||(o={})).ALL="All",i.DATABASE="Database",i.DATA_CATALOG="Data Catalog",i.DATA_WAREHOUSE="Data Warehouse",i.IDENTITY_PROVIDER="Identity Provider",i.WEBSITE="Website";var y=n=>{var t;let e=Object.values(o),[i,r]=(0,c.useState)(0),l=e[i],[a,s]=(0,c.useState)(!1),u="All"!==l,d=null!==(t=null==n?void 0:n.filter(n=>!u||n.category===l))&&void 0!==t?t:[];return{tabs:e,tabIndex:i,anyFiltersApplied:u,isFiltering:a,onChangeFilter:n=>{s(!0),r(n),setTimeout(()=>s(!1),100)},filteredTypes:d}},b=n=>{let{onCancel:t,onDetailClick:e,onConfigureClick:i}=n,{tabIndex:r,onChangeFilter:o,isFiltering:l,filteredTypes:c,tabs:g}=y(h.FO),{flags:{oktaMonitor:f}}=(0,C.Vb)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.mQc,{index:r,onChange:o,mb:4,children:(0,a.jsx)(s.tdY,{children:g.map(n=>(0,a.jsx)(u.q,{label:n},n))})}),l?(0,a.jsx)(d.Z,{}):(0,a.jsx)(s.kCb,{direction:"column",children:c.map(n=>f||"okta"!==n.placeholder.connection_type?(0,a.jsx)(j.Z,{integration:n.placeholder,onConfigureClick:()=>i(n),otherButtons:(0,a.jsx)(s.wpx,{onClick:()=>e(n),children:"Details"})},n.placeholder.key):null)}),(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:t,children:"Cancel"})]})]})},A=e(64176);(r=l||(l={})).LIST_VIEW="list-view",r.DETAIL="detail",r.FORM="form";var _=n=>{let{isOpen:t,onClose:e}=n,[i,r]=(0,c.useState)("list-view"),[o,l]=(0,c.useState)(),s=(0,A.Z)(null==o?void 0:o.placeholder.connection_type),{description:u}=(0,h.ZP)(null==o?void 0:o.placeholder.connection_type),d=()=>{r("list-view"),l(void 0),e()},g=o?"".concat(o.placeholder.name," Integration"):"Add integration";return(0,a.jsxs)(x.Z,{size:"2xl",isOpen:t,onClose:d,title:g,children:["list-view"===i&&(0,a.jsx)(b,{onCancel:d,onDetailClick:n=>{r("detail"),l(n)},onConfigureClick:n=>{r("form"),l(n)}}),"detail"===i&&(0,a.jsx)(v,{integrationType:o,onConfigure:()=>r("form"),onCancel:d}),"form"===i&&(0,a.jsx)(m.Z,{connectionOption:s,onCancel:d,description:u})]})},k=e(86677),w=e(77830),T=n=>{let{isFiltered:t,onOpenAddModal:e}=n;return(0,a.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,a.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:t?"No integrations match your filters":"You have not configured any integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,a.jsx)(s.wpx,{type:"primary",onClick:e,className:"mt-4",children:"Add integration"})]})},D=n=>{let{integrations:t,isFiltered:e,onOpenAddModal:i}=n,r=(0,k.useRouter)();return(0,a.jsx)(s.xuv,{marginTop:"24px",children:t.length?t.map(n=>(0,a.jsx)(j.Z,{integration:n,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:()=>r.push("".concat(w.KH,"/").concat(n.key))},n.key)):(0,a.jsx)(T,{onOpenAddModal:i,isFiltered:e})})},L=()=>{var n,t;let{data:e,isLoading:i}=(0,p.AZ)({connection_type:h.jq}),{onOpen:r,isOpen:o,onClose:l}=(0,s.qY0)(),{tabIndex:c,onChangeFilter:x,anyFiltersApplied:m,isFiltering:j,filteredTypes:v,tabs:C}=y(null==e?void 0:null===(n=e.items)||void 0===n?void 0:n.map(n=>(0,h.ZP)(n.connection_type))),b=null!==(t=null==e?void 0:e.items.filter(n=>v.some(t=>t.placeholder.connection_type===n.connection_type)))&&void 0!==t?t:[];return(0,a.jsxs)(g.Z,{title:"Integrations",children:[(0,a.jsx)(f.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations"}]}),(0,a.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,a.jsx)(s.mQc,{index:c,onChange:x,w:"full",children:(0,a.jsx)(s.tdY,{children:C.map(n=>(0,a.jsx)(u.q,{label:n},n))})}),(0,a.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,a.jsx)(s.wpx,{onClick:r,"data-testid":"add-integration-btn",icon:(0,a.jsx)(s.xPt,{}),iconPosition:"end",children:"Add Integration"})})]}),i||j?(0,a.jsx)(d.Z,{}):(0,a.jsx)(D,{integrations:b,onOpenAddModal:r,isFiltered:m}),(0,a.jsx)(_,{isOpen:o,onClose:l})]})}},19043:function(n,t,e){"use strict";e.d(t,{Bw:function(){return l},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return u},hE:function(){return a},oK:function(){return o}});var i=e(76649);let r=n=>"error"in n,o=n=>(0,i.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status,l=n=>(0,i.Ln)({status:"number",data:{}},n),a=n=>(0,i.Ln)({detail:"string"},n),s=n=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n),c=n=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n),u=n=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)}},function(n){n.O(0,[2858,2866,9278,6834,5973,2888,9774,179],function(){return n(n.s=9387)}),_N_E=n.O()}]);