[build-system]
requires = ["poetry-core>=2.0.0"]
build-backend = "poetry.core.masonry.api"

[project]
name = "jambazid-logging"
version = "0.0.5" # <CHANGE THIS>
requires-python = ">=3.11"
description = "A minimal Python project template built with Poetry." # <CHANGE THIS>
authors = [
    {name = "Jambazid PyPI", email = "pypi@jambazid.dev"},
]
maintainers = [
    {name = "Jambazid PyPI", email = "pypi@jambazid.dev"},
]
readme = {file = "src/README.md", content-type = "text/markdown"}
license = "MIT" # TODO: think about this! See https://opensource.guide/legal/#which-open-source-license-is-appropriate-for-my-project
classifiers = [
    "Development Status :: 2 - Pre-Alpha",
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: Testing",
    "Topic :: Documentation",
]
dynamic = [ "dependencies" ]

[project.urls]
Repository = "https://github.com/jambazid/python-poetry-template"
Homepage = "https://poetry-demo.python.jambazid.dev"
"Bug Tracker" = "https://github.com/jambazid/python-poetry-template/issues"

[tool.poetry]
packages = [
    { include = "jambazid", from = "src" },
    { include = "jambazid/**/py.typed", from = "src" },
]
include = ["jambazid/**/data/**/*"]


# PACKAGE SOURCES:


[[tool.poetry.source]]
name = "PyPI"
priority = "primary"


# CLIs:


[tool.poetry.scripts]
# jambazid-demo = "jambazid.demo.cli:main"


# DEPENDENCIES:


[tool.poetry.dependencies]
python = "^3.11"

[tool.poetry.group.test.dependencies]
coverage = ">= 7.3.3, < 8"
pytest = ">= 7.4.3"
pytest-asyncio = ">= 0.23.2"
pytest-env = ">= 1.1.3, < 2"
pytest-html = ">= 4.1.1, < 5"
hypothesis = ">= 6.92.2, < 7"

[tool.poetry.group.dev.dependencies]
mypy = ">= 1.7.1"
ruff = ">= 0.6.9"
black = ">= 24.10.0, < 25"
httpx = ">= 0.25.2, < 2"
pylint = ">= 3.0.3"
pdoc = ">= 14.2.0, < 15"
commitizen = ">= 4.4.1, < 5"
pre-commit = ">= 4.2.0, < 5"
twine = ">= 5.1.1, < 6"


# TEST HARNESS:


[tool.pytest.ini_options]
log_cli = true
log_cli_level = "INFO"
env = ['HYPOTHESIS_PROFILE=light']

[tool.coverage.run]
source = ["src"]
branch = true
omit = ["tests/**/*"]

[tool.coverage.report]
omit = ["tests/**/*"]

[tool.coverage.html]
directory = "reports/html"

[tool.coverage.xml]
output = "reports/coverage.xml"


# LINTING:


[tool.black]
color = true
line-length = 150
target-version = ['py311']
skip-string-normalization = false
skip-magic-trailing-comma = false

[tool.isort]
profile = "black"

[tool.pylint.format]
max-line-length = 150

[tool.pyright]
include = ['src/jambazid']
typeCheckingMode = "standard"
reportUnnecessaryTypeIgnoreComment = true

[tool.ruff]
target-version = 'py311'
line-length = 150
lint.select = [
    "E", # pycodestyle errors
    "W", # pycodestyle warnings
    "F", # pyflakes
    # "I", # isort
    "C",  # flake8-comprehensions
    "B",  # flake8-bugbear
    "UP",
]
lint.ignore = [
    "E501", # line too long, handled by black
    "B008", # do not perform function calls in argument defaults
    "C901", # too complex
    "E722", # bare `except`
    "E731", # assigning a `lambda`
    "C408", # Unnecessary `dict` call (rewrite as a literal)
]
