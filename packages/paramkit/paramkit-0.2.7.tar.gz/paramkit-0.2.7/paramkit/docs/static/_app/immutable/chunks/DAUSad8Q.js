var e=Object.defineProperty,t=(t,a,r)=>((t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r)(t,"symbol"!=typeof a?a+"":a,r);import{X as a,Y as r,p as s,a as o,d as n,Z as i,m as l,i as c,e as d,g as p,s as u,r as h,h as y,j as g,V as v,J as b,v as m,w as f,x as T,C,f as k,$ as w,a0 as x,c as E,a1 as R}from"./RH_uCN0_.js";const D=new class{constructor(e={}){t(this,"instance"),t(this,"abortControllerMap"),this.instance=this.createAxiosInstance(e),this.abortControllerMap=new Map,this.setupInterceptors()}createAxiosInstance(e){return a.create({timeout:15e3,headers:{"Content-Type":"application/json",...e.headers},...e})}setupInterceptors(){this.instance.interceptors.request.use(this.handleRequest.bind(this)),this.instance.interceptors.response.use(this.handleResponse.bind(this),this.handleError.bind(this))}handleRequest(e){const t=e,a=new AbortController,r=this.generateRequestKey(e);if(e.signal=a.signal,this.abortControllerMap.set(r,a),!1!==t.withToken){const e=((e,t,a="local")=>{if("undefined"==typeof window)return t;try{const r=("local"===a?localStorage:sessionStorage).getItem(e);return r?JSON.parse(r):t}catch(r){return t}})("token");e&&(t.headers.Authorization=`Bearer ${e}`)}return t.isMock&&(t.baseURL=t.baseURL),t.data instanceof FormData&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="multipart/form-data"),t}generateRequestKey(e){var t;return`${null==(t=e.method)?void 0:t.toUpperCase()}:${e.url}?${JSON.stringify(e.params)}`}handleResponse(e){const t=this.generateRequestKey(e.config);if(this.abortControllerMap.delete(t),200!==e.data.code)throw new r(e.data.message||"业务错误","BUSINESS_ERROR",e.config,e.request,e);return e}handleError(e){if(!a.isAxiosError(e))return Promise.reject(e);const t=e.config,r=t?this.generateRequestKey(t):"";if(this.abortControllerMap.delete(r),null==t?void 0:t.errorHandler)return t.errorHandler(e),Promise.reject(e);if(e.response){const{status:t,data:a}=e.response;let r=e.message;return r="BUSINESS_ERROR"===e.code?a.message||"业务错误":`请求错误：${t}`,401===t&&window.location.replace("/login"),Promise.reject(new Error(r))}return e.request?Promise.reject(new Error("网络连接异常")):Promise.reject(e)}async request(e){try{return(await this.instance.request(e)).data}catch(t){if(e.retryCount&&e.retryCount>0)return this.retryRequest(e);throw t}}get(e,t){return this.request({...t,method:"GET",url:e})}post(e,t,a){return this.request({...a,method:"POST",url:e,data:t})}cancelRequest(e,t){(Array.isArray(e)?e:[e]).forEach((e=>{var a;const r=this.generateRequestKey({method:t,url:e,params:{},headers:{}});null==(a=this.abortControllerMap.get(r))||a.abort(),this.abortControllerMap.delete(r)}))}async retryRequest(e){let t=e.retryCount||0;for(;t>0;)try{return(await this.instance.request(e)).data}catch(a){if(t--,0===t)throw a;await new Promise((e=>setTimeout(e,1e3*(t-t+1))))}return Promise.reject("重试失败")}}({timeout:15e3,retryCount:2,headers:{"X-Client-Version":"1.0.0"}});function A(e,t){if(!e||"string"!=typeof e)throw new Error("Invalid domain parameter");if(e.startsWith("http://")||e.startsWith("https://")||(e=`https://${e}`),!t)return e;try{return new URL(t,e).href}catch(a){return e}}function q(e=8){const t="abcdefghjkmnpqrstuvwxyz",a=t+"ABCDEFGHJKMNPQRSTUVWXYZ23456789_-",r=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(r);else for(let o=0;o<e;o++)r[o]=Math.floor(256*Math.random());let s=t[r[0]%23];for(let o=1;o<e;o++)s+=a[r[o]%56];return s}const P=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS","CONNECT","TRACE"],S={GET:"sky",POST:"emerald",PUT:"amber",DELETE:"rose",HEAD:"indigo",OPTIONS:"cyan",PATCH:"lime",CONNECT:"gray",TRACE:"violet"},j=[{method:"GET",bgClass:"bg-sky-500 dark:bg-sky-700",textClass:"text-white dark:text-sky-100",hoverClass:"hover:bg-sky-600 dark:hover:bg-sky-800"},{method:"POST",bgClass:"bg-emerald-500 dark:bg-emerald-700",textClass:"text-white dark:text-emerald-100",hoverClass:"hover:bg-emerald-600 dark:hover:bg-emerald-800"},{method:"PUT",bgClass:"bg-amber-400 dark:bg-amber-700",textClass:"text-gray-900 dark:text-amber-100",hoverClass:"hover:bg-amber-500 dark:hover:bg-amber-800"},{method:"DELETE",bgClass:"bg-rose-500 dark:bg-rose-700",textClass:"text-white dark:text-rose-100",hoverClass:"hover:bg-rose-600 dark:hover:bg-rose-800"},{method:"PATCH",bgClass:"bg-lime-400 dark:bg-lime-700",textClass:"text-gray-900 dark:text-lime-100",hoverClass:"hover:bg-lime-500 dark:hover:bg-lime-800"},{method:"HEAD",bgClass:"bg-indigo-500 dark:bg-indigo-700",textClass:"text-white dark:text-indigo-100",hoverClass:"hover:bg-indigo-600 dark:hover:bg-indigo-800"},{method:"OPTIONS",bgClass:"bg-cyan-500 dark:bg-cyan-700",textClass:"text-white dark:text-cyan-100",hoverClass:"hover:bg-cyan-600 dark:hover:bg-cyan-800"},{method:"CONNECT",bgClass:"bg-gray-500 dark:bg-gray-700",textClass:"text-white dark:text-gray-100",hoverClass:"hover:bg-gray-600 dark:hover:bg-gray-800"},{method:"TRACE",bgClass:"bg-purple-500 dark:bg-purple-700",textClass:"text-white dark:text-purple-100",hoverClass:"hover:bg-purple-600 dark:hover:bg-purple-800"}],O=[{isDefault:!0,valid:!0,key:"Accept",value:"*/*"},{isDefault:!0,valid:!0,key:"User-Agent",value:"Mozilla/5.0 (兼容所有; 通用客户端)"},{isDefault:!0,valid:!0,key:"Host",value:"example.com"},{isDefault:!0,valid:!0,key:"Connection",value:"keep-alive"},{isDefault:!0,valid:!0,key:"Accept-Encoding",value:"gzip, deflate, br, zstd"},{isDefault:!0,valid:!0,key:"Accept-Language",value:"*"},{isDefault:!0,valid:!0,key:"Content-Type",value:"application/octet-stream"},{isDefault:!0,valid:!0,key:"Authorization",value:"Basic <credentials>"},{isDefault:!0,valid:!0,key:"Origin",value:"https://your-domain.com"},{isDefault:!0,valid:!0,key:"Access-Control-Request-Method",value:"*"},{isDefault:!0,valid:!0,key:"Access-Control-Request-Headers",value:"*"},{isDefault:!0,valid:!0,key:"Cache-Control",value:"no-cache"},{isDefault:!0,valid:!0,key:"Pragma",value:"no-cache"},{isDefault:!0,valid:!0,key:"If-None-Match",value:"*"},{isDefault:!0,valid:!0,key:"If-Modified-Since",value:"0"},{isDefault:!0,valid:!0,key:"X-Requested-With",value:"XMLHttpRequest"},{isDefault:!0,valid:!0,key:"Sec-Fetch-Dest",value:"empty"},{isDefault:!0,valid:!0,key:"DNT",value:"1"},{isDefault:!0,valid:!0,key:"TE",value:"trailers"}],M=[{rawType:"json",contentType:"application/json",selected:!0},{rawType:"xml",contentType:"application/xml"},{rawType:"html",contentType:"text/html"},{rawType:"plaintext",contentType:"text/plain"},{rawType:"javascript",contentType:"application/javascript"},{rawType:"yaml",contentType:"application/yaml"},{rawType:"csv",contentType:"text/csv"},{rawType:"graphql",contentType:"application/json"},{rawType:"markdown",contentType:"text/markdown"},{rawType:"binary",contentType:"application/octet-stream"},{rawType:"edn",contentType:"application/edn"},{rawType:"protobuf",contentType:"application/x-protobuf"},{rawType:"msgpack",contentType:"application/x-msgpack"},{rawType:"jwt",contentType:"application/jwt"},{rawType:"geojson",contentType:"application/geo+json"},{rawType:"cbor",contentType:"application/cbor"}],N=Symbol();var I=n(" <!>",1),$=n("<span><!> <!></span>");function H(e,t){s(t,!0);let a=o(t,"text",7),r=o(t,"successText",3,"Copied"),n=o(t,"copyIconClass",3,"w-5 h-5 text-orange-300 dark:text-orange-400 hover:text-orange-600"),R=o(t,"copiedIconClass",3,"w-5 h-5"),D=o(t,"tips",3,"Copy"),A=o(t,"recoverDuration",3,2e3),P=u(!1);const S=async()=>{try{let e="";switch(typeof a()){case"function":e=a()();break;case"string":e=a();break;default:e=a(JSON.stringify(a(),null,4))}await navigator.clipboard.writeText(e),E(P,!0),setTimeout((()=>E(P,!1)),A())}catch(e){}},j=q();var O=$();i(O,"id",j);var M=l(O),N=e=>{v(e,{position:"left",offset:6,triggeredBy:`#${j??""}`,children:(e,t)=>{b();var a=m();f((()=>T(a,D()))),y(e,a)},$$slots:{default:!0}})};c(M,(e=>{D()&&e(N)}));var H=d(M,2),U=e=>{C(e,{color:"green",children:(e,t)=>{b();var a=I(),s=k(a),o=d(s);w(o,{get class(){return R()}}),f((()=>T(s,`${r()??""} `))),y(e,a)},$$slots:{default:!0}})},L=e=>{x(e,{onclick:S,get class(){return n()}})};c(H,(e=>{p(P)?e(U):e(L,!1)})),h(O),y(e,O),g()}const U=R(null),L=R({headers:{},params:{},data:{},body:""}),B=e=>{L.update((t=>({...t,headers:{...e}})))},z=e=>{L.update((t=>({...t,params:{...e}})))},K=e=>{L.update((t=>({...t,data:{...e}})))},G=R(""),J=R({});export{J as A,N as B,H as C,G as F,D as a,q as b,S as c,K as d,M as e,O as f,B as g,j as h,A as i,P as j,L as r,U as s,z as u};
