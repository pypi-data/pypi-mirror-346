(()=>{var e={};e.id=214,e.ids=[214],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26252:(e,r,s)=>{"use strict";s.d(r,{AddDatasetDialog:()=>a});let a=(0,s(18445).registerClientReference)(function(){throw Error("Attempted to call AddDatasetDialog() from the server but AddDatasetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/add-dataset-dialog.tsx","AddDatasetDialog")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31998:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var a=s(76939),t=s(62861),d=s(87170),n=s.n(d),i=s(35848),l=s(83203),o=s(6761),c=s(42067),u=s(26252),h=s(67519),x=s(65479),p=s(5654);async function m(){let e=await (await (0,i.K)()).GET("/datasets/");if(e.error)return(0,a.jsx)(h.ErrorCard,{error:e.error.detail});let r=e.data;return(0,a.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,a.jsx)(p.Qp,{className:"w-full pt-4",children:(0,a.jsxs)(p.AB,{children:[(0,a.jsx)(p.J5,{children:(0,a.jsx)(p.w1,{href:"/",children:"Home"})}),(0,a.jsx)(p.tH,{}),(0,a.jsx)(p.J5,{children:(0,a.jsx)(p.tJ,{children:"Datasets"})})]})}),(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"Datasets"}),r.length>0?(0,a.jsx)(x.Zp,{className:"w-full",children:(0,a.jsx)(x.Wu,{children:(0,a.jsxs)(t.XI,{children:[(0,a.jsx)(t.A0,{children:(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nd,{children:"ID"}),(0,a.jsx)(t.nd,{className:"min-w-[200px]",children:"Name"}),(0,a.jsx)(t.nd,{children:"Created"})]})}),(0,a.jsx)(t.BF,{children:r.map(e=>(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nA,{className:"font-mono text-xs",children:(0,a.jsx)(n(),{href:`/datasets/${e.id}`,children:e.id})}),(0,a.jsx)(t.nA,{children:e.name}),(0,a.jsx)(t.nA,{children:(0,l.v)(e.created_at)})]},e.id))})]})})}):(0,a.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Nothing here yet."}),(0,a.jsx)("div",{className:"w-full flex justify-end gap-2",children:(0,a.jsx)(u.AddDatasetDialog,{children:(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(o.A,{}),"Dataset"]})})})]})]})}},33873:e=>{"use strict";e.exports=require("path")},51325:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,9452,23)),Promise.resolve().then(s.bind(s,95990)),Promise.resolve().then(s.bind(s,36493))},56061:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,87170,23)),Promise.resolve().then(s.bind(s,26252)),Promise.resolve().then(s.bind(s,67519))},60653:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o});var a=s(14125),t=s(29466),d=s(63940),n=s.n(d),i=s(339),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let o={children:["",{children:["datasets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,31998)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,74723)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7376,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,97801,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,31318,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/datasets/page",pathname:"/datasets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74019:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"4016a5837d8d1e0df9c231a03d9a25ddddc86ed4ed":()=>n});var a=s(61025);s(37133);var t=s(95705),d=s(95806);async function n(e){let r=e.get("name"),s=e.get("uidColumnName");if(!r)return{success:!1,error:"Name is required"};try{let e=await (await (0,t.K)()).POST("/datasets/",{body:{name:r,uid_column_name:s}});if(e.error){let r="Unknown error";return"string"==typeof e.error.detail&&(r=e.error.detail),{success:!1,error:r}}return(0,d.revalidatePath)("/datasets"),{success:!0,data:e.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,s(51221).D)([n]),(0,a.A)(n,"4016a5837d8d1e0df9c231a03d9a25ddddc86ed4ed",null)},95990:(e,r,s)=>{"use strict";s.d(r,{AddDatasetDialog:()=>m});var a=s(59777),t=s(98580),d=s(96114),n=s(56787),i=s(87813),l=s(32171),o=s(16887),c=s(20459),u=s(70116),h=s(40605);let x=(0,h.createServerReference)("4016a5837d8d1e0df9c231a03d9a25ddddc86ed4ed",h.callServer,void 0,h.findSourceMapURL,"createDataset");function p(){let{pending:e}=(0,i.useFormStatus)();return(0,a.jsx)(l.$,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}function m({children:e}){let[r,s]=(0,t.useState)(!1),i=(0,t.useRef)(null),l=(0,n.useRouter)(),h=async e=>{let r=await x(e);r.success?(d.oR.success("Dataset added successfully"),s(!1),i.current?.reset(),l.refresh()):d.oR.error(`Failed to add dataset: ${r.error}`)};return(0,a.jsxs)(o.lG,{open:r,onOpenChange:s,children:[(0,a.jsx)(o.zM,{asChild:!0,children:e}),(0,a.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"New dataset"}),(0,a.jsx)(o.rr,{children:"Add a new dataset."})]}),(0,a.jsxs)("form",{ref:i,action:h,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u.J,{htmlFor:"name",className:"text-right",children:"Name"}),(0,a.jsx)(c.p,{id:"name",name:"name",className:"col-span-3",placeholder:"my-dataset",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u.J,{htmlFor:"uidColumnName",className:"text-right",children:"UID Column"}),(0,a.jsx)(c.p,{id:"uidColumnName",name:"uidColumnName",className:"col-span-3",placeholder:"id"})]})]}),(0,a.jsx)(o.Es,{children:(0,a.jsx)(p,{})})]})]})]})}}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[232,238,745,939,111,631,719,978],()=>s(60653));module.exports=a})();