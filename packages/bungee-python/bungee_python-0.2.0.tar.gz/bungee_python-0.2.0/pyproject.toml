[build-system]
requires = ["scikit-build-core", "pybind11"]
build-backend = "scikit_build_core.build"

[project]
name = "bungee-python"
requires-python = ">=3.7"
version = "0.2.0"
description = "Python bindings for the Bungee time/pitch stretching library"
readme = "README.md"
license = { text = "MPL-2.0" }

[tool.scikit-build]
cmake.source-dir = "."
wheel.packages = ["src/bungee_python"]

[tool.pixi.project]
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]

[tool.pixi.feature.build.dependencies]
cmake = ">=3.15,<4"
python = ">=3.7,<4"
cxx-compiler = ">=1.5,<2"
make = ">=4.4.1,<5"
ninja = ">=1.12.1,<2"
scikit-build-core = ">=0.10.7,<0.11"
uv = ">=0.4.25,<0.5"

[tool.pixi.feature.build.tasks.build]
cmd = ["uv", "build"]

[tool.pixi.feature.dev.dependencies]
ipython = ">=7.31.0,<8"
numpy = "*"
ipykernel = "*"
pysoundfile = "*"

[tool.pixi.environments]
build = ["build"]
default = ["build", "dev"]

[tool.pixi.dependencies]
pip = ">=25.1.1,<26"
matplotlib = ">=3.10.1,<4"
