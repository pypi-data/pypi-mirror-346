var _=Object.defineProperty;var tt=(t,e,n)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>tt(t,typeof e!="symbol"?e+"":e,n);import{d as A,x as j,i as B,l as F,e as f,m as v,P as L,u as c,w as u,h as T,ai as K,o as s,f as C,g as k,t as O,c as $,F as M,k as W,v as S,E as et}from"./@vue-BLHK5bzG.js";import{V as Y,s as nt,e as R,j as rt,l as it,n as X,q as ot,o as lt,ap as at,ao as ct,aq as st,a3 as ut}from"./vuetify-DCY3YVk7.js";const x=class x{constructor(e,n){if(!e)throw new Error("Error during initialization : app is required");if(x.app=e,!e._context.mixins.find(r=>r.computed&&r.computed.$vuetify))throw new Error("Error during initialization : vuetify is required. Please declare it with Vue.use(Vuetify)");n&&(x.pluginOptions=n)}static getPluginOptions(){return x.pluginOptions}static getApp(){return x.app}};P(x,"pluginOptions"),P(x,"app");let d=x;var I=A({__name:"Card",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})}},emits:["buttonClicked"],setup(t,{emit:e}){const n=t,i=e,r=B(()=>n.buttons&&n.buttons.length>0?n.buttons:[{key:"cancel",title:"Annuler",value:"cancel",color:"grey",variant:"text"},{key:"ok",title:"OK",value:"ok",color:n.level,variant:"tonal"}]),o=B(()=>{if(n.icon)return n.icon;switch(n.level){case"info":return"mdi-information";case"warning":return"mdi-alert";case"error":return"mdi-alert-circle";case"success":return"mdi-check-circle";default:return"mdi-information"}}),l=B(()=>n.level==="info"?"primary":n.level);function a(m){i("buttonClicked",m)}return(m,g)=>(s(),f(c(X),v({class:"vuetify3-dialog-card"},t.cardOptions),{default:u(()=>[C(c(Y),{class:"d-flex align-center"},{default:u(()=>[C(c(nt),{color:l.value,class:"mr-2"},{default:u(()=>[k(O(o.value),1)]),_:1},8,["color"]),k(O(t.title),1)]),_:1}),C(c(R),null,{default:u(()=>[k(O(t.text),1)]),_:1}),C(c(rt),null,{default:u(()=>[(s(!0),$(M,null,W(r.value,h=>(s(),f(c(it),v({key:h.key},h,{color:h.color||l.value,onClick:w=>a(h.key)}),{default:u(()=>[k(O(h.title),1)]),_:2},1040,["color","onClick"]))),128))]),_:1})]),_:1},16))}});I.__file="src/components/Card.vue";var G=A({__name:"BottomSheet",props:{bottomSheetOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,required:!1},items:{type:Array,required:!1},title:{type:String,required:!1},text:{type:String,required:!1}},emits:["closeBottomSheet"],setup(t,{emit:e}){const n=t,i=e;let r=j(!0);const o=B(()=>n.items&&n.items.length>0?n.items:[]);F(()=>r,a=>{a||i("closeBottomSheet")});function l(a){r.value=!1,i("closeBottomSheet",a)}return(a,m)=>(s(),f(c(at),v({class:"vuetify3-dialog-bottom-sheet"},t.bottomSheetOptions,{modelValue:c(r),"onUpdate:modelValue":m[0]||(m[0]=g=>L(r)?r.value=g:r=g)}),{default:u(()=>[t.dialogOptions?(s(),f(I,v({key:1},t.dialogOptions,{title:t.dialogOptions.title,text:t.dialogOptions.text,onButtonClicked:l}),null,16,["title","text"])):(s(),f(c(X),{key:0},{default:u(()=>[t.title?(s(),f(c(Y),{key:0},{default:u(()=>[k(O(t.title),1)]),_:1})):S("v-if",!0),t.text?(s(),f(c(R),{key:1},{default:u(()=>[k(O(t.text),1)]),_:1})):S("v-if",!0),t.items?(s(),f(c(ot),{key:2},{default:u(()=>[(s(!0),$(M,null,W(o.value,g=>(s(),f(c(lt),{title:g.title,key:g.value,onClick:h=>l(g.value)},null,8,["title","onClick"]))),128))]),_:1})):S("v-if",!0)]),_:1}))]),_:1},16,["modelValue"]))}});G.__file="src/components/BottomSheet.vue";class dt{static initContext(){d.getApp().config.globalProperties.$bottomSheet={create:J,createList:ft}}}function ft(t,e){return t.forEach(n=>{if(!D(n.title))throw new Error("title is required for each item");if(!D(n.value))throw new Error("value is required for each item")}),J({items:t,...e})}function J(t){try{if(t.items&&t.dialogOptions)throw new Error("You can not use items and dialogOptions together");if(t.dialogOptions){if(!D(t.dialogOptions.title))throw new Error("title is required");if(!D(t.dialogOptions.text))throw new Error("text is required")}const e=document.createElement("div");return new Promise((n,i)=>{var l,a;const r={bottomSheetOptions:(t==null?void 0:t.bottomSheetOptions)||((a=(l=d.getPluginOptions())==null?void 0:l.defaults)==null?void 0:a.bottomSheet)||void 0,dialogOptions:t==null?void 0:t.dialogOptions,items:t==null?void 0:t.items,title:t==null?void 0:t.title,text:t==null?void 0:t.text,onCloseBottomSheet:m=>{n(m)}},o=T(G,r);o.appContext=d.getApp()._context,K(o,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function D(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}var Q=A({__name:"Dialog",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,default:()=>({})},customComponent:{type:Object,required:!1}},emits:["closeDialog"],setup(t,{emit:e}){const n=e;let i=j(!0);function r(o){i.value=!1,n("closeDialog",o)}return F(i,o=>{o||r(!1)}),(o,l)=>(s(),f(c(ct),v({class:"vuetify3-dialog-popup",modelValue:c(i),"onUpdate:modelValue":l[0]||(l[0]=a=>L(i)?i.value=a:i=a)},t.dialogOptions),{default:u(()=>[t.customComponent?(s(),f(et(t.customComponent.component),v({key:0},t.customComponent.props,{onCloseDialog:r,ref:"custom-component"}),null,16)):(s(),f(I,v({key:1},t.cardOptions,{title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,onButtonClicked:r}),null,16,["title","text","buttons","icon","level"]))]),_:1},16,["modelValue"]))}});Q.__file="src/components/Dialog.vue";class mt{static initContext(){d.getApp().config.globalProperties.$dialog={create:b,confirm:vt,warn:gt,error:yt,info:ht,success:xt}}}function b(t){try{const e=document.createElement("div");if(t.customComponent)t.title=t.title||"",t.text=t.text||"";else{if(!N(t.title))throw new Error("title is required");if(!N(t.text))throw new Error("text is required")}return t.buttons&&t.buttons.forEach(Ot),new Promise((n,i)=>{var l,a,m,g,h,w;const r={title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,customComponent:t.customComponent,dialogOptions:t.dialogOptions||((m=(a=(l=d.getPluginOptions())==null?void 0:l.defaults)==null?void 0:a.dialog)==null?void 0:m.component)||{width:"400px"},cardOptions:t.cardOptions||((w=(h=(g=d.getPluginOptions())==null?void 0:g.defaults)==null?void 0:h.dialog)==null?void 0:w.card)||void 0,onCloseDialog:V=>{n(V)}},o=T(Q,r);o.appContext=d.getApp()._context,K(o,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function gt(t){return b({title:t.title||"Warning",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"warning",...t.buttonOptions}],level:"warning",cardOptions:t.cardOptions})}function yt(t){return b({title:t.title||"Error",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"error",...t.buttonOptions}],level:"error",cardOptions:t.cardOptions})}function ht(t){return b({title:t.title||"Info",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"info",...t.buttonOptions}],level:"info",cardOptions:t.cardOptions})}function xt(t){return b({title:t.title||"Success",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"success",...t.buttonOptions}],level:"success",cardOptions:t.cardOptions})}function vt(t){return b({title:t.title,text:t.text,buttons:[{key:!1,title:t.cancelText||"Cancel",color:"grey",...t.cancelButtonOptions},{key:!0,title:t.confirmationText||"Confirm",color:"warning",...t.confirmationButtonOptions}],icon:t.icon,level:t.level,cardOptions:t.cardOptions})}function Ot(t,e){if(!t)throw new Error(`button at index ${e} is not defined`);if(!N(t.key))throw new Error(`button at index ${e} has no key`);if(!N(t.title))throw new Error(`button at index ${e} has no title`)}function N(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}const kt={key:0},bt=["innerHTML"];var Z=A({__name:"Snackbar",props:{text:{type:String,required:!1},htmlContent:{type:String,required:!1},location:{type:String,required:!0},level:{type:String,default:"info"},notifyOptions:{type:Object,default:()=>({})}},emits:["closeSnackbar"],setup(t,{emit:e}){const n=e;let i=j(!0);function r(){i.value=!1,n("closeSnackbar")}return(o,l)=>(s(),f(c(ut),null,{default:u(()=>[C(c(st),v({class:"vuetify3-dialog-snackbar"},t.notifyOptions,{modelValue:c(i),"onUpdate:modelValue":[l[0]||(l[0]=a=>L(i)?i.value=a:i=a),l[1]||(l[1]=a=>r())],color:t.level,location:t.location,"location-strategy":"static",dark:t.level==="warning"||t.level==="error"}),{default:u(()=>[t.text?(s(),$("span",kt,O(t.text),1)):S("v-if",!0),t.htmlContent?(s(),$("div",{key:1,innerHTML:t.htmlContent},null,8,bt)):S("v-if",!0)]),_:1},16,["modelValue","color","location","dark"])]),_:1}))}});Z.__file="src/components/Snackbar.vue";class wt{static initContext(){d.getApp().config.globalProperties.$notify={create:E,warn:pt,error:Ct,info:St,success:Et}}}function pt(t,e){return E({text:t,level:"warning",notifyOptions:e})}function Ct(t,e){return E({text:t,level:"error",notifyOptions:e})}function St(t,e){return E({text:t,level:"info",notifyOptions:e})}function Et(t,e){return E({text:t,level:"success",notifyOptions:e})}function E(t){var e,n,i,r;try{const o=t.location||((e=t.notifyOptions)==null?void 0:e.location)||((r=(i=(n=d.getPluginOptions())==null?void 0:n.defaults)==null?void 0:i.notify)==null?void 0:r.location)||"top right";let l=o.split(" ")[0]||"top",a=o.split(" ")[1]||"right",m=document.createElement("div");if(!z(t.text)&&!z(t.htmlContent))throw new Error("text or htmlContent is required");return new Promise((g,h)=>{var H,U;const w={text:t.text,htmlContent:t.htmlContent,level:t.level,location:o,notifyOptions:t.notifyOptions||((U=(H=d.getPluginOptions())==null?void 0:H.defaults)==null?void 0:U.notify)||void 0,onCloseSnackbar:()=>{g(!0)}},V=T(Z,w);V.appContext=d.getApp()._context,K(V,m);const y=document.querySelector(".v-overlay-container");let q=0;if((y==null?void 0:y.childElementCount)>1)for(let p of y.children)p===y.lastElementChild||!(p.classList.contains("v-snackbar--"+a)&&p.classList.contains("v-snackbar--"+l))||p.lastElementChild&&(q+=p.lastElementChild.offsetHeight+12);if(q>0)switch(l){case"top":(y==null?void 0:y.lastElementChild).style.marginTop=`${q+12}px`;break;case"bottom":(y==null?void 0:y.lastElementChild).style.marginBottom=`${q+12}px`;break;default:throw new Error("location must be top or bottom")}})}catch(o){console.error(`[Vuetify3Dialog] ${o.message} [${o.stack}]`)}}function z(t){return t!=null&&t.trim().length>0&&t!==""}const $t={install(t,e){try{new d(t,e),mt.initContext(),wt.initContext(),dt.initContext()}catch(n){console.error(`[Vuetify3Dialog] ${n.message} [${n.stack}]`)}}};export{$t as V,E as a,b as c,yt as e};
