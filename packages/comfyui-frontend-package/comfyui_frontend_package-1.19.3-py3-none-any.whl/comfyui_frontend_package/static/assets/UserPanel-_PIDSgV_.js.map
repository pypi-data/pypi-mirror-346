{"version":3,"file":"UserPanel-_PIDSgV_.js","sources":["../../src/components/dialog/content/setting/UserPanel.vue"],"sourcesContent":["<template>\n  <TabPanel value=\"User\" class=\"user-settings-container h-full\">\n    <div class=\"flex flex-col h-full\">\n      <h2 class=\"text-2xl font-bold mb-2\">{{ $t('userSettings.title') }}</h2>\n      <Divider class=\"mb-3\" />\n\n      <div v-if=\"user\" class=\"flex flex-col gap-2\">\n        <UserAvatar\n          v-if=\"user.photoURL\"\n          :photo-url=\"user.photoURL\"\n          shape=\"circle\"\n          size=\"large\"\n        />\n\n        <div class=\"flex flex-col gap-0.5\">\n          <h3 class=\"font-medium\">\n            {{ $t('userSettings.name') }}\n          </h3>\n          <div class=\"text-muted\">\n            {{ user.displayName || $t('userSettings.notSet') }}\n          </div>\n        </div>\n\n        <div class=\"flex flex-col gap-0.5\">\n          <h3 class=\"font-medium\">\n            {{ $t('userSettings.email') }}\n          </h3>\n          <a :href=\"'mailto:' + user.email\" class=\"hover:underline\">\n            {{ user.email }}\n          </a>\n        </div>\n\n        <div class=\"flex flex-col gap-0.5\">\n          <h3 class=\"font-medium\">\n            {{ $t('userSettings.provider') }}\n          </h3>\n          <div class=\"text-muted flex items-center gap-1\">\n            <i :class=\"providerIcon\" />\n            {{ providerName }}\n            <Button\n              v-if=\"isEmailProvider\"\n              v-tooltip=\"{\n                value: $t('userSettings.updatePassword'),\n                showDelay: 300\n              }\"\n              icon=\"pi pi-pen-to-square\"\n              severity=\"secondary\"\n              text\n              @click=\"dialogService.showUpdatePasswordDialog()\"\n            />\n          </div>\n        </div>\n\n        <ProgressSpinner\n          v-if=\"loading\"\n          class=\"w-8 h-8 mt-4\"\n          style=\"--pc-spinner-color: #000\"\n        />\n        <Button\n          v-else\n          class=\"mt-4 w-32\"\n          severity=\"secondary\"\n          :label=\"$t('auth.signOut.signOut')\"\n          icon=\"pi pi-sign-out\"\n          @click=\"handleSignOut\"\n        />\n      </div>\n\n      <!-- Login Section -->\n      <div v-else class=\"flex flex-col gap-4\">\n        <p class=\"text-gray-600\">\n          {{ $t('auth.login.title') }}\n        </p>\n\n        <Button\n          class=\"w-52\"\n          severity=\"primary\"\n          :loading=\"loading\"\n          :label=\"$t('auth.login.signInOrSignUp')\"\n          icon=\"pi pi-user\"\n          @click=\"handleSignIn\"\n        />\n      </div>\n    </div>\n  </TabPanel>\n</template>\n\n<script setup lang=\"ts\">\nimport Button from 'primevue/button'\nimport Divider from 'primevue/divider'\nimport ProgressSpinner from 'primevue/progressspinner'\nimport TabPanel from 'primevue/tabpanel'\nimport { computed } from 'vue'\n\nimport UserAvatar from '@/components/common/UserAvatar.vue'\nimport { useDialogService } from '@/services/dialogService'\nimport { useCommandStore } from '@/stores/commandStore'\nimport { useFirebaseAuthStore } from '@/stores/firebaseAuthStore'\n\nconst dialogService = useDialogService()\nconst authStore = useFirebaseAuthStore()\nconst commandStore = useCommandStore()\nconst user = computed(() => authStore.currentUser)\nconst loading = computed(() => authStore.loading)\n\nconst providerName = computed(() => {\n  const providerId = user.value?.providerData[0]?.providerId\n  if (providerId?.includes('google')) {\n    return 'Google'\n  }\n  if (providerId?.includes('github')) {\n    return 'GitHub'\n  }\n  return providerId\n})\n\nconst providerIcon = computed(() => {\n  const providerId = user.value?.providerData[0]?.providerId\n  if (providerId?.includes('google')) {\n    return 'pi pi-google'\n  }\n  if (providerId?.includes('github')) {\n    return 'pi pi-github'\n  }\n  return 'pi pi-user'\n})\n\nconst isEmailProvider = computed(() => {\n  const providerId = user.value?.providerData[0]?.providerId\n  return providerId === 'password'\n})\n\nconst handleSignOut = async () => {\n  await commandStore.execute('Comfy.User.SignOut')\n}\n\nconst handleSignIn = async () => {\n  await commandStore.execute('Comfy.User.OpenSignInDialog')\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA,UAAM,gBAAgB;AACtB,UAAM,YAAY;AAClB,UAAM,eAAe;AACrB,UAAM,OAAO,SAAS,MAAM,UAAU,WAAW;AACjD,UAAM,UAAU,SAAS,MAAM,UAAU,OAAO;AAE1C,UAAA,eAAe,SAAS,MAAM;AAClC,YAAM,aAAa,KAAK,OAAO,aAAa,CAAC,GAAG;AAC5C,UAAA,YAAY,SAAS,QAAQ,GAAG;AAC3B,eAAA;AAAA,MACT;AACI,UAAA,YAAY,SAAS,QAAQ,GAAG;AAC3B,eAAA;AAAA,MACT;AACO,aAAA;AAAA,IAAA,CACR;AAEK,UAAA,eAAe,SAAS,MAAM;AAClC,YAAM,aAAa,KAAK,OAAO,aAAa,CAAC,GAAG;AAC5C,UAAA,YAAY,SAAS,QAAQ,GAAG;AAC3B,eAAA;AAAA,MACT;AACI,UAAA,YAAY,SAAS,QAAQ,GAAG;AAC3B,eAAA;AAAA,MACT;AACO,aAAA;AAAA,IAAA,CACR;AAEK,UAAA,kBAAkB,SAAS,MAAM;AACrC,YAAM,aAAa,KAAK,OAAO,aAAa,CAAC,GAAG;AAChD,aAAO,eAAe;AAAA,IAAA,CACvB;AAED,UAAM,gBAAgB,mCAAY;AAC1B,YAAA,aAAa,QAAQ,oBAAoB;AAAA,IAAA,GAD3B;AAItB,UAAM,eAAe,mCAAY;AACzB,YAAA,aAAa,QAAQ,6BAA6B;AAAA,IAAA,GADrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}