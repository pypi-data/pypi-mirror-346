

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer installation &mdash; IntegronFinder 2.0.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/_css/custom.css?v=b89f2dfc" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=3e466467"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Architecture Overview" href="overview.html" />
    <link rel="prev" title="Developer Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IntegronFinder
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/installation.html#integronfinder-dependencies">IntegronFinder dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/installation.html#installation-procedure">Installation procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/installation.html#from-version-2-0">From Version 2.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/installation.html#from-version-1-5-1-and-after">From Version 1.5.1 and after</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/installation.html#for-version-1-5-and-before">For Version 1.5 and before</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/installation.html#uninstallation-procedure">Uninstallation procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/installation.html#id2">From Version 1.5.1 and after</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/installation.html#from-version-1-0-to-version-1-5">From Version 1.0 to Version 1.5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/installation.html#how-to-install-python">How to install Python</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/changes.html">What’s new ?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/changes.html#v2-0-6">V2.0.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/changes.html#v2-0-5">V2.0.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/changes.html#v2-0-3">V2.0.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/changes.html#in-version-2-0">In Version 2.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/tutorial.html">Quick start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tutorial.html#for-impatient">For impatient</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tutorial.html#input-and-outputs">Input and Outputs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#inputs">Inputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#custom-protein-file">Custom protein file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#outputs">Outputs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tutorial.html#for-everyone">For everyone</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#thorough-local-detection">Thorough local detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#calin-detection">CALIN detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#functional-annotation">Functional annotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#search-for-promoter-and-atti-sites">Search for promoter and <em>attI</em> sites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#keep-intermediate-results">Keep intermediate results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#topology">Topology</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tutorial.html#for-big-data-people">For big data people</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#parallelization">Parallelization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/tutorial.html#for-integron-diggers">For integron diggers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#clustering-of-elements">Clustering of elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#integrase">Integrase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#attc-evalue"><em>attC</em> evalue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#attc-size"><em>attC</em> size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#palindromes">Palindromes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/tutorial.html#attc-alignements"><em>attC</em> alignements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/webserver.html">web server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/webserver.html#galaxy">Galaxy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/webserver.html#how-to-use-it">How to use it</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_guide/webserver.html#results">Results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/references.html">References</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Developer installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#integron-finder-testing-procedures">Integron_Finder testing procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#coverage">Coverage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-new-release">Build a new release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#send-changes-to-upstream-repository">Send changes to upstream repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">Architecture Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#project-files-and-directories">Project files and directories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="overview.html#files">Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="overview.html#directories">Directories</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#technical-overview">Technical overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/index.html">Integron_finder API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/annotation.html">annotation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/annotation.html#integron_finder.annotation.add_feature"><code class="docutils literal notranslate"><span class="pre">add_feature()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/annotation.html#integron_finder.annotation.func_annot"><code class="docutils literal notranslate"><span class="pre">func_annot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/attc.html">attc</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/attc.html#integron_finder.attc.find_attc_max"><code class="docutils literal notranslate"><span class="pre">find_attc_max()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/attc.html#integron_finder.attc.search_attc"><code class="docutils literal notranslate"><span class="pre">search_attc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/config.html">config</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/config.html#integron_finder.config.Config"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/hmm.html">hmm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/hmm.html#integron_finder.hmm.read_hmm"><code class="docutils literal notranslate"><span class="pre">read_hmm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/hmm.html#integron_finder.hmm.scan_hmm_bank"><code class="docutils literal notranslate"><span class="pre">scan_hmm_bank()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/infernal.html">infernal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/infernal.html#integron_finder.infernal.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/infernal.html#integron_finder.infernal.find_attc"><code class="docutils literal notranslate"><span class="pre">find_attc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/infernal.html#integron_finder.infernal.local_max"><code class="docutils literal notranslate"><span class="pre">local_max()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/infernal.html#integron_finder.infernal.read_infernal"><code class="docutils literal notranslate"><span class="pre">read_infernal()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/integrase.html">integrase</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/integrase.html#integron_finder.integrase.find_integrase"><code class="docutils literal notranslate"><span class="pre">find_integrase()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/integron.html">integron</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/integron.html#integron_finder.integron.Integron"><code class="docutils literal notranslate"><span class="pre">Integron</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/integron.html#integron_finder.integron.find_integron"><code class="docutils literal notranslate"><span class="pre">find_integron()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/prot_db.html">prot_db</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/prot_db.html#integron_finder.prot_db.GembaseDB"><code class="docutils literal notranslate"><span class="pre">GembaseDB</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/prot_db.html#integron_finder.prot_db.ProdigalDB"><code class="docutils literal notranslate"><span class="pre">ProdigalDB</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/prot_db.html#integron_finder.prot_db.ProteinDB"><code class="docutils literal notranslate"><span class="pre">ProteinDB</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/prot_db.html#integron_finder.prot_db.SeqDesc"><code class="docutils literal notranslate"><span class="pre">SeqDesc</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/results.html">results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/results.html#integron_finder.results._log"><code class="docutils literal notranslate"><span class="pre">_log</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/results.html#integron_finder.results.filter_calin"><code class="docutils literal notranslate"><span class="pre">filter_calin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/results.html#integron_finder.results.integrons_report"><code class="docutils literal notranslate"><span class="pre">integrons_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/results.html#integron_finder.results.merge_results"><code class="docutils literal notranslate"><span class="pre">merge_results()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/results.html#integron_finder.results.summary"><code class="docutils literal notranslate"><span class="pre">summary()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/topology.html">topology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/topology.html#integron_finder.topology.Topology"><code class="docutils literal notranslate"><span class="pre">Topology</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/utils.html">utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/utils.html#integron_finder.utils.FastaIterator"><code class="docutils literal notranslate"><span class="pre">FastaIterator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/utils.html#integron_finder.utils.MultiFastaReader"><code class="docutils literal notranslate"><span class="pre">MultiFastaReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/utils.html#integron_finder.utils.get_name_from_path"><code class="docutils literal notranslate"><span class="pre">get_name_from_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/utils.html#integron_finder.utils.log_level"><code class="docutils literal notranslate"><span class="pre">log_level()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/utils.html#integron_finder.utils.model_len"><code class="docutils literal notranslate"><span class="pre">model_len()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IntegronFinder</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Developer Guide</a></li>
      <li class="breadcrumb-item active">Developer installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developer_guide/dev_guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>This part is for developers, who want to work on IntegronFinder scripts.</p>
<section id="developer-installation">
<span id="install-dev"></span><h1>Developer installation<a class="headerlink" href="#developer-installation" title="Link to this heading"></a></h1>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h2>
<p><strong>Python version &gt;=3.10</strong> is required to run Integron_Finder: <a class="reference external" href="https://docs.python.org/3.10/index.html">https://docs.python.org/3.10/index.html</a></p>
<p>Integron_Finder has one program dependency:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <em>HMMER</em> program, version 3.1 or greater (<a class="reference external" href="http://hmmer.org/">http://hmmer.org/</a>).</p></li>
<li><p>The Infernal program version 1.1.2 or greater (<a class="reference external" href="http://eddylab.org/infernal/">http://eddylab.org/infernal/</a>)</p></li>
<li><p>The Prodigal program version 2.6.2 or greater (<a class="reference external" href="https://github.com/hyattpd/Prodigal">https://github.com/hyattpd/Prodigal</a>)</p></li>
</ul>
</div></blockquote>
<p>The <em>hmmsearch, cmsearch and prodigal</em> programs should be installed (<em>e.g.</em>, in the PATH) in order to use integron_finder.
Otherwise, the paths to these executables must be specified via the command-line: see options <cite>–hmmsearch</cite> <cite>–cmsearch</cite> <cite>–prodigal</cite></p>
<p>Integron_Finder also relies on some Python library dependencies:</p>
<blockquote>
<div><ul class="simple">
<li><p>colorlog</p></li>
<li><p>pandas</p></li>
<li><p>matplotlib</p></li>
<li><p>sphinx</p></li>
<li><p>sphinx_rtd_theme</p></li>
<li><p>coverage</p></li>
<li><p>build</p></li>
<li><p>ruff</p></li>
<li><p>pre-commit</p></li>
</ul>
</div></blockquote>
<p>These dependencies will be automatically retrieved and installed when using <cite>pip</cite> for installation (see below).</p>
<p>If you are not part of the project, start by forking IntegronFinder repository.
For that, sign in to your account on github, and go to <a class="reference external" href="https://github.com/gem-pasteur/Integron_Finder">https://github.com/gem-pasteur/Integron_Finder</a>.
Then, click on ‘Fork’ (under your account icon).
This will create a copy of the repository, but with your username instead of ‘gem-pasteur’.</p>
<p>create a virtual environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span> <span class="n">Integron_Finder</span>
</pre></div>
</div>
<p>activate you virtualenv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">Integron_Finder</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>then install integron_finder in developer mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;git+https://github.com/gem-pasteur/Integron_Finder#egg=integron_finder[dev]&quot;</span>
</pre></div>
</div>
<p>or clone your repository manually, then install it</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">src</span>
<span class="n">cd</span> <span class="n">src</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gem</span><span class="o">-</span><span class="n">pasteur</span><span class="o">/</span><span class="n">Integron_Finder</span>
<span class="n">cd</span> <span class="n">Integron_Finder</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;.[dev]&quot;</span>
</pre></div>
</div>
<p>install tools to ensure coding style:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span>
</pre></div>
</div>
<p>It installs the requirements and create a directory in the virtualenv src/integron_finder
and create links in the virtualenv. So <code class="docutils literal notranslate"><span class="pre">integron_finder</span></code> is runnable and you can modify the sources and run it again
without to reinstall the project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>[dev]</cite> allow to install extra dependencies to generate documentation, compute test coverage …</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>from 2.0.6 version, <em>Integron_Finder</em> has adopted <a class="reference external" href="https://docs.astral.sh/ruff/">ruff</a> as linter
and <em>pre-commit</em> to ensure the coding style.
please read <a class="reference external" href="https://github.com/gem-pasteur/macsyfinder/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a> guide lines.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Debian/Ubuntu distribution <cite>–user</cite> is the default. So the <cite>–prefix</cite> option does not work
and the <cite>–root</cite> option has unexpected behavior. Therefore the best solution is to use <cite>–user</cite> or a virtualenv.</p>
</div>
</section>
<section id="integron-finder-testing-procedures">
<span id="tests"></span><h2>Integron_Finder testing procedures<a class="headerlink" href="#integron-finder-testing-procedures" title="Link to this heading"></a></h2>
<p>Integron_Finder project use <cite>unittest</cite> framework (included in the standard library) to test the code.</p>
<p>All tests stuff is in <cite>tests</cite> directory.</p>
<ul class="simple">
<li><p>The data directory contains data needed by the tests</p></li>
<li><p>in the __init__.py file a IntegronTest class is defined and should be the base of all testcase use in the project</p></li>
<li><p>each test_*.py represent a file containing unit or functional tests</p></li>
</ul>
<p>To run all the tests (in the virtualenv)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>discover
</pre></div>
</div>
<p>To increase verbosity of output</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>discover<span class="w"> </span>-vv
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>test_integron_1elem_int (tests.test_add_feature.TestAddFeature.test_integron_1elem_int) ... ok
test_integron_1elem_prom (tests.test_add_feature.TestAddFeature.test_integron_1elem_prom) ... ok
test_integron_1elem_prot (tests.test_add_feature.TestAddFeature.test_integron_1elem_prot) ... ok
test_integron_2int_nelem (tests.test_add_feature.TestAddFeature.test_integron_2int_nelem) ... ok
test_integron_long_seqname (tests.test_add_feature.TestAddFeature.test_integron_long_seqname) ... ok
test_integron_nelem (tests.test_add_feature.TestAddFeature.test_integron_nelem) ... ok
test_config (tests.test_config.TestConfig.test_config) ... ok
test_default_topology (tests.test_config.TestConfig.test_default_topology) ... ok
test_func_annot_path (tests.test_config.TestConfig.test_func_annot_path) ... ok
test_getattr (tests.test_config.TestConfig.test_getattr) ... ok
test_input_dir (tests.test_config.TestConfig.test_input_dir) ... ok
test_log_level (tests.test_config.TestConfig.test_log_level) ... ok
test_model_attc_name (tests.test_config.TestConfig.test_model_attc_name) ... ok
test_model_attc_path (tests.test_config.TestConfig.test_model_attc_path) ... ok
test_model_dir (tests.test_config.TestConfig.test_model_dir) ... ok
test_model_integrase (tests.test_config.TestConfig.test_model_integrase) ... ok
test_model_len (tests.test_config.TestConfig.test_model_len) ... ok
test_model_phage_int (tests.test_config.TestConfig.test_model_phage_int) ... ok
...

----------------------------------------------------------------------
Ran 246 tests in 400.863s

OK
</pre></div>
</div>
<p>The tests must be in python file (<cite>.py</cite>) starting with with <cite>test_</cite> It’s possible to specify one or several test files, one module, or one class in a module or a method in a Test class.</p>
<p>Test the <cite>test_pprot_db</cite> module</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>-vv<span class="w"> </span>tests.test_prot_db
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>test_ProteinDB (tests.test_prot_db.TestCustomDB.test_ProteinDB) ... ok
test_ProteinDB_bad_parser (tests.test_prot_db.TestCustomDB.test_ProteinDB_bad_parser) ... ok
test_coding_prot_ids (tests.test_prot_db.TestCustomDB.test_coding_prot_ids) ... ok
test_get_description (tests.test_prot_db.TestCustomDB.test_get_description) ... ok
test_get_description_lazy_parser (tests.test_prot_db.TestCustomDB.test_get_description_lazy_parser) ... ok
test_get_description_stupid_parser (tests.test_prot_db.TestCustomDB.test_get_description_stupid_parser) ... ok
test_get_description_stupid_parser2 (tests.test_prot_db.TestCustomDB.test_get_description_stupid_parser2) ... ok
test_getitem (tests.test_prot_db.TestCustomDB.test_getitem) ... ok
test_iter (tests.test_prot_db.TestCustomDB.test_iter) ... ok
test_protfile (tests.test_prot_db.TestCustomDB.test_protfile) ... ok
test_ProteinDB (tests.test_prot_db.TestGemBase.test_ProteinDB) ... ok
test_codig_prot_ids (tests.test_prot_db.TestGemBase.test_codig_prot_ids) ... ok
test_find_gembase_file_basename (tests.test_prot_db.TestGemBase.test_find_gembase_file_basename) ... ok
...
test_ProteinDB_no_prodigal (tests.test_prot_db.TestProdigalDB.test_ProteinDB_no_prodigal) ... ok
test_coding_prot_ids (tests.test_prot_db.TestProdigalDB.test_coding_prot_ids) ... ok
test_get_description (tests.test_prot_db.TestProdigalDB.test_get_description) ... ok
test_getitem (tests.test_prot_db.TestProdigalDB.test_getitem) ... ok
test_iter (tests.test_prot_db.TestProdigalDB.test_iter) ... ok
test_make_protfile (tests.test_prot_db.TestProdigalDB.test_make_protfile) ... ok
test_make_protfile_no_dir (tests.test_prot_db.TestProdigalDB.test_make_protfile_no_dir) ... ok
test_make_protfile_prodigal_failed (tests.test_prot_db.TestProdigalDB.test_make_protfile_prodigal_failed) ... ok
test_protfile (tests.test_prot_db.TestProdigalDB.test_protfile) ... ok
test_str (tests.test_prot_db.TestRepliconType.test_str) ... ok

----------------------------------------------------------------------
Ran 41 tests in 5.249s

OK
</pre></div>
</div>
<p>Test only the class <cite>TestProdigalDB</cite> (this module contains 5 classes)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>-vv<span class="w"> </span>tests.test_prot_db.TestProdigalDB
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>test_ProteinDB (tests.test_prot_db.TestProdigalDB.test_ProteinDB) ... ok
test_ProteinDB_no_prodigal (tests.test_prot_db.TestProdigalDB.test_ProteinDB_no_prodigal) ... ok
test_coding_prot_ids (tests.test_prot_db.TestProdigalDB.test_coding_prot_ids) ... ok
test_get_description (tests.test_prot_db.TestProdigalDB.test_get_description) ... ok
test_getitem (tests.test_prot_db.TestProdigalDB.test_getitem) ... ok
test_iter (tests.test_prot_db.TestProdigalDB.test_iter) ... ok
test_make_protfile (tests.test_prot_db.TestProdigalDB.test_make_protfile) ... ok
test_make_protfile_no_dir (tests.test_prot_db.TestProdigalDB.test_make_protfile_no_dir) ... ok
test_make_protfile_prodigal_failed (tests.test_prot_db.TestProdigalDB.test_make_protfile_prodigal_failed) ... ok
test_protfile (tests.test_prot_db.TestProdigalDB.test_protfile) ... ok

----------------------------------------------------------------------
Ran 10 tests in 0.857s

OK
</pre></div>
</div>
<p>Test only the method <cite>test_protfile</cite> from the test Class <cite>TestProdigalDB</cite> in module <cite>test_prot_db</cite></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>unittest<span class="w"> </span>-vv<span class="w"> </span>tests.test_prot_db.TestProdigalDB.test_protfile
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>test_protfile (tests.test_prot_db.TestProdigalDB.test_protfile) ... ok

----------------------------------------------------------------------
Ran 1 test in 0.112s

OK
</pre></div>
</div>
<section id="coverage">
<h3>Coverage<a class="headerlink" href="#coverage" title="Link to this heading"></a></h3>
<p>To compute the tests coverage, we use the <a class="reference external" href="https://pypi.org/project/coverage/">coverage</a> package.
The package is automatically installed if you have installed <cite>integron_finder</cite> with the <cite>dev</cite> target see <a class="reference internal" href="#install-dev"><span class="std std-ref">installation</span></a>
The coverage package is setup in the <cite>pyproject.toml</cite> configuration file</p>
<p>To compute the coverage</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage<span class="w"> </span>run
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>...
test_w_chunk (tests.test_split.TestMain.test_w_chunk) ... ok
test_wo_chunk (tests.test_split.TestMain.test_wo_chunk) ... ok
test_mute (tests.test_split.TestParseArgs.test_mute) ... ok
test_parse_chunk (tests.test_split.TestParseArgs.test_parse_chunk) ... ok
test_parse_outdir (tests.test_split.TestParseArgs.test_parse_outdir) ... ok
test_parse_replicon (tests.test_split.TestParseArgs.test_parse_replicon) ... ok
test_quiet (tests.test_split.TestParseArgs.test_quiet) ... ok
test_verbose (tests.test_split.TestParseArgs.test_verbose) ... ok
test_split_avoid_overwriting (tests.test_split.TestSplit.test_split_avoid_overwriting) ... ok
test_split_w_chunk (tests.test_split.TestSplit.test_split_w_chunk) ... ok
test_split_wo_chunk (tests.test_split.TestSplit.test_split_wo_chunk) ... ok
test_getitem (tests.test_topology.TestTopology.test_getitem) ... ok
test_getitem_cmdline_topofile (tests.test_topology.TestTopology.test_getitem_cmdline_topofile) ... ok
test_getitem_gembase (tests.test_topology.TestTopology.test_getitem_gembase) ... ok
test_parse (tests.test_topology.TestTopology.test_parse) ... ok
test_parse_topology (tests.test_topology.TestTopology.test_parse_topology) ... ok
test_FastaIterator (tests.test_utils.TestUtils.test_FastaIterator) ... ok
test_FastaIterator_test_topologies (tests.test_utils.TestUtils.test_FastaIterator_test_topologies) ... ok
test_get_name_from_path (tests.test_utils.TestUtils.test_get_name_from_path) ... ok
test_log_level (tests.test_utils.TestUtils.test_log_level) ... ok
test_model_len (tests.test_utils.TestUtils.test_model_len) ... ok
test_read_multi_prot_fasta (tests.test_utils.TestUtils.test_read_multi_prot_fasta) ... ok

----------------------------------------------------------------------
Ran 246 tests in 400.863s

OK
</pre></div>
</div>
<p>Then display a report</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage<span class="w"> </span>report
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Name                                  Stmts   Miss Branch BrPart  Cover
-----------------------------------------------------------------------
integron_finder/__init__.py              81     12     18      4    84%
integron_finder/annotation.py            84      0     30      0   100%
integron_finder/argparse_utils.py        14      1      2      1    88%
integron_finder/attc.py                 152      0     62      4    98%
integron_finder/config.py               104      2     48      2    97%
integron_finder/hmm.py                   89      0     28      1    99%
integron_finder/infernal.py             147      0     60      2    99%
integron_finder/integrase.py             33      0     12      2    96%
integron_finder/integron.py             403     11    146      8    97%
integron_finder/prot_db.py              374     17    122      7    95%
integron_finder/results.py               45      0     10      0   100%
integron_finder/scripts/__init__.py       0      0      0      0   100%
integron_finder/scripts/finder.py       284     28    116     19    87%
integron_finder/scripts/merge.py         82      3     30      4    94%
integron_finder/scripts/split.py         76      5     28      6    89%
integron_finder/topology.py              39      0     22      1    98%
integron_finder/utils.py                 96      1     26      2    98%
-----------------------------------------------------------------------
TOTAL                                  2103     80    760     63    95%
</pre></div>
</div>
<p>or generate a html report</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage<span class="w"> </span>html
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Wrote HTML report to htmlcov/index.html
</pre></div>
</div>
<p>The results are in the <cite>htmlcov</cite> directory. With you favourite web browser, open the <cite>index.html</cite> file.
for more options please refer to the <a class="reference external" href="https://coverage.readthedocs.io/en/latest/">coverage documentation</a> .</p>
</section>
</section>
<section id="documentation">
<span id="id2"></span><h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h2>
<p>Documentation is done using <code class="docutils literal notranslate"><span class="pre">sphinx</span></code>. Source files are located in <code class="docutils literal notranslate"><span class="pre">doc/sources</span></code>.
To generate the documentation you just have to run the makefile located in <em>doc</em> directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>To generate the documentation in <em>html</em> format or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">latexpdf</span>
</pre></div>
</div>
<p>to generate the documentation in pdf format (for this option you need to have latex installed on your compute)</p>
<p>You can complete them.</p>
</section>
<section id="build-a-new-release">
<h2>Build a new release<a class="headerlink" href="#build-a-new-release" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>activate the virtualenv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">Integron_Finder</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
</li>
<li><p>Go to the root of the project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Integron_Finder</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">Integron_Finder</span>
</pre></div>
</div>
</li>
<li><p>Te build the new release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">.</span>
</pre></div>
</div>
</li>
</ol>
<p>it will create a source <em>tar.gz</em> distribution and a <em>wheel</em></p>
</section>
<section id="send-changes-to-upstream-repository">
<h2>Send changes to upstream repository<a class="headerlink" href="#send-changes-to-upstream-repository" title="Link to this heading"></a></h2>
<p>If you want to integrate your code in the upstream (main) repository, you need to
create a pull request.</p>
<ol class="arabic">
<li><p>Read the <a class="reference external" href="https://github.com/gem-pasteur/Integron_Finder/blob/master/CONTRIBUTING.md">Contibuting guide</a></p></li>
<li><p>Create a new branch with <code class="docutils literal notranslate"><span class="pre">&lt;your</span> <span class="pre">branch</span> <span class="pre">name&gt;</span></code> a descriptive name
(e.g. ‘adding-xx-feature’, ‘fixing-typos’, etc.), so that others understand what your are working on.</p></li>
<li><p>Work on it</p></li>
<li><p>Test that your work does not break the tests.
add tests corresponding to your code</p></li>
<li><p>Push your local branch on your integron_finder clone on github</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">branch</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>ask for pull request</p>
<blockquote>
<div><ul class="simple">
<li><p>Go to your forked repository on github <cite>https://github.com/&lt;your_login&gt;/Integron_Finder/pulls</cite></p></li>
<li><p>Click on ‘New pull request’</p></li>
<li><p>Choose your repository and the branch on which you did your changes in ‘head fork’ (right-hand side),
and choose ‘gem-pasteur/Integron_Finder’ with the branch on which you want to merge
(probably master) in ‘base fork’ (left-hand side).</p></li>
<li><p>A green ‘Able to merge’ text should appear if git is able to automatically merge the 2 branches.
In that case, click on ‘Create pull request’, write your comments on the changes you made, why etc,
and save. We will receive the pull request.</p></li>
</ul>
</div></blockquote>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="overview.html" class="btn btn-neutral float-right" title="Architecture Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2025 Institut Pasteur, Paris, CNRS..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  

<div class="licensing">
  <p>
    This documentation is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License
      <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">.
    </a>
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<a href="https://github.com/gem-pasteur/Integron_Finder">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
         src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
         alt="Fork me on GitHub"
         data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
</a>



</body>
</html>