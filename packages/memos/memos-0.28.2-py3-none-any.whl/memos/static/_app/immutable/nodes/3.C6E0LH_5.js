var Gr=Object.defineProperty;var mr=d=>{throw TypeError(d)};var Kr=(d,s,m)=>s in d?Gr(d,s,{enumerable:!0,configurable:!0,writable:!0,value:m}):d[s]=m;var Dt=(d,s,m)=>Kr(d,typeof s!="symbol"?s+"":s,m),hr=(d,s,m)=>s.has(d)||mr("Cannot "+m);var ee=(d,s,m)=>(hr(d,s,"read from private field"),m?m.call(d):s.get(d)),tt=(d,s,m)=>s.has(d)?mr("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(d):s.set(d,m),br=(d,s,m,$)=>(hr(d,s,"write to private field"),$?$.call(d,m):s.set(d,m),m);import{c as be,a,t as A,r as Yr,s as i,e as Xr,b as F}from"../chunks/D9Txqq8_.js";import{i as Qr}from"../chunks/CjoqR22t.js";import{p as Me,f as ce,a as He,n as ct,a4 as ke,c as n,b as I,a6 as w,A as Zr,H as e,I as t,G as u,j as es,at as ts,g as xr,a3 as Tr,au as rs,J as o,av as $r,l as Yt,B as yr,a8 as ss,aw as R}from"../chunks/BFJ4JqcU.js";import{g as os}from"../chunks/CgeLMrxr.js";import{i as Se,b as Qt}from"../chunks/Dq-u_esy.js";import{I as Mt,s as Ye,d as zt,c as Sr,f as Ft,h as Xt}from"../chunks/BpaaLetL.js";import{s as Ht,r as nt,p as De,a as Ir,b as zr}from"../chunks/CspzVKmK.js";import{C as ns,u as Zt,g as er,a as tr,S as as,E as is,b as ls,w as ds,c as cs,d as rr,n as vs,e as dt,m as sr,P as us,f as fs,h as or,i as gs,B as rt,j as ps,k as it,L as J,I as ie}from"../chunks/CC1IcP6M.js";function _s(d,s){Me(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);Mt(d,Ht({name:"arrow-left"},()=>m,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(r,L)=>{var b=be(),O=ce(b);Ye(O,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function mt(d,s){Me(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);Mt(d,Ht({name:"chevron-down"},()=>m,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(r,L)=>{var b=be(),O=ce(b);Ye(O,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function ht(d,s){Me(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);Mt(d,Ht({name:"chevron-up"},()=>m,{iconNode:[["path",{d:"m18 15-6-6-6 6"}]],children:(r,L)=>{var b=be(),O=ce(b);Ye(O,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function ms(d,s){Me(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);Mt(d,Ht({name:"rotate-cw"},()=>m,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]],children:(r,L)=>{var b=be(),O=ce(b);Ye(O,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function hs(d,s){Me(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);Mt(d,Ht({name:"save"},()=>m,{iconNode:[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]],children:(r,L)=>{var b=be(),O=ce(b);Ye(O,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}const bs="data-collapsible-root",xs="data-collapsible-content",$s="data-collapsible-trigger";var jt,Ot;class ys{constructor(s){Dt(this,"opts");tt(this,jt,ke(null));tt(this,Ot,w(()=>({id:this.opts.id.current,"data-state":tr(this.opts.open.current),"data-disabled":er(this.opts.disabled.current),[bs]:""})));this.opts=s,this.toggleOpen=this.toggleOpen.bind(this),Zt(s)}get contentNode(){return n(ee(this,jt))}set contentNode(s){I(ee(this,jt),s,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}get props(){return n(ee(this,Ot))}set props(s){I(ee(this,Ot),s)}}jt=new WeakMap,Ot=new WeakMap;var Ct,Tt,St,It,Nt,Rt,At;class ws{constructor(s,m){Dt(this,"opts");Dt(this,"root");tt(this,Ct);tt(this,Tt,ke(!1));tt(this,St,ke(0));tt(this,It,ke(0));tt(this,Nt,w(()=>this.opts.forceMount.current||this.root.opts.open.current));tt(this,Rt,w(()=>({open:this.root.opts.open.current})));tt(this,At,w(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":n(ee(this,It))?`${n(ee(this,It))}px`:void 0,"--bits-collapsible-content-width":n(ee(this,St))?`${n(ee(this,St))}px`:void 0},"data-state":tr(this.root.opts.open.current),"data-disabled":er(this.root.opts.disabled.current),[xs]:""})));this.opts=s,this.root=m,I(ee(this,Tt),m.opts.open.current,!0),Zt({...s,deps:()=>this.present,onRefChange:$=>{this.root.contentNode=$}}),Zr(()=>{const $=requestAnimationFrame(()=>{I(ee(this,Tt),!1)});return()=>{cancelAnimationFrame($)}}),ds([()=>this.opts.ref.current,()=>this.present],([$])=>{$&&cs(()=>{if(!this.opts.ref.current)return;br(this,Ct,ee(this,Ct)||{transitionDuration:$.style.transitionDuration,animationName:$.style.animationName}),$.style.transitionDuration="0s",$.style.animationName="none";const r=$.getBoundingClientRect();if(I(ee(this,It),r.height,!0),I(ee(this,St),r.width,!0),!n(ee(this,Tt))){const{animationName:L,transitionDuration:b}=ee(this,Ct);$.style.transitionDuration=b,$.style.animationName=L}})})}get present(){return n(ee(this,Nt))}set present(s){I(ee(this,Nt),s)}get snippetProps(){return n(ee(this,Rt))}set snippetProps(s){I(ee(this,Rt),s)}get props(){return n(ee(this,At))}set props(s){I(ee(this,At),s)}}Ct=new WeakMap,Tt=new WeakMap,St=new WeakMap,It=new WeakMap,Nt=new WeakMap,Rt=new WeakMap,At=new WeakMap;var yt,Lt;class Ps{constructor(s,m){Dt(this,"opts");Dt(this,"root");tt(this,yt,w(()=>this.opts.disabled.current||this.root.opts.disabled.current));tt(this,Lt,w(()=>{var s;return{id:this.opts.id.current,type:"button",disabled:n(ee(this,yt)),"aria-controls":(s=this.root.contentNode)==null?void 0:s.id,"aria-expanded":ls(this.root.opts.open.current),"data-state":tr(this.root.opts.open.current),"data-disabled":er(n(ee(this,yt))),[$s]:"",onclick:this.onclick,onkeydown:this.onkeydown}}));this.opts=s,this.root=m,this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),Zt(s)}onclick(s){if(!n(ee(this,yt))){if(s.button!==0)return s.preventDefault();this.root.toggleOpen()}}onkeydown(s){n(ee(this,yt))||(s.key===as||s.key===is)&&(s.preventDefault(),this.root.toggleOpen())}get props(){return n(ee(this,Lt))}set props(s){I(ee(this,Lt),s)}}yt=new WeakMap,Lt=new WeakMap;const nr=new ns("Collapsible.Root");function ks(d){return nr.set(new ys(d))}function Ds(d){return new Ps(d,nr.get())}function Cs(d){return new ws(d,nr.get())}var Ts=A("<div><!></div>");function Ss(d,s){Me(s,!0);let m=De(s,"id",19,rr),$=De(s,"ref",15,null),r=De(s,"open",15,!1),L=De(s,"disabled",3,!1),b=De(s,"onOpenChange",3,vs),O=nt(s,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange"]);const ae=ks({open:dt.with(()=>r(),_=>{r(_),b()(_)}),disabled:dt.with(()=>L()),id:dt.with(()=>m()),ref:dt.with(()=>$(),_=>$(_))}),le=w(()=>sr(O,ae.props));var ge=be(),Ie=ce(ge);{var te=_=>{var z=be(),xe=ce(z);Ye(xe,()=>s.child,()=>({props:n(le)})),a(_,z)},ue=_=>{var z=Ts();let xe;var c=e(z);Ye(c,()=>s.children??ct),t(z),u(()=>xe=zt(z,xe,{...n(le)})),a(_,z)};Se(Ie,_=>{s.child?_(te):_(ue,!1)})}a(d,ge),He()}var Is=A("<div><!></div>");function zs(d,s){Me(s,!0);let m=De(s,"ref",15,null),$=De(s,"forceMount",3,!1),r=De(s,"id",19,rr),L=nt(s,["$$slots","$$events","$$legacy","child","ref","forceMount","children","id"]);const b=Cs({id:dt.with(()=>r()),forceMount:dt.with(()=>$()),ref:dt.with(()=>m(),O=>m(O))});us(d,{forceMount:!0,get present(){return b.present},get id(){return r()},presence:(ae,le)=>{let ge=()=>le==null?void 0:le().present;var Ie=be();const te=w(()=>sr(L,b.props,{hidden:$()?void 0:!ge().current}));var ue=ce(Ie);{var _=xe=>{var c=be(),g=ce(c),N=es(()=>({...b.snippetProps,props:n(te)}));Ye(g,()=>s.child,()=>n(N)),a(xe,c)},z=xe=>{var c=Is();let g;var N=e(c);Ye(N,()=>s.children??ct),t(c),u(()=>g=zt(c,g,{...n(te)})),a(xe,c)};Se(ue,xe=>{s.child?xe(_):xe(z,!1)})}a(ae,Ie)},$$slots:{presence:!0}}),He()}var Es=A("<button><!></button>");function js(d,s){Me(s,!0);let m=De(s,"ref",15,null),$=De(s,"id",19,rr),r=De(s,"disabled",3,!1),L=nt(s,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const b=Ds({id:dt.with(()=>$()),ref:dt.with(()=>m(),te=>m(te)),disabled:dt.with(()=>r())}),O=w(()=>sr(L,b.props));var ae=be(),le=ce(ae);{var ge=te=>{var ue=be(),_=ce(ue);Ye(_,()=>s.child,()=>({props:n(O)})),a(te,ue)},Ie=te=>{var ue=Es();let _;var z=e(ue);Ye(z,()=>s.children??ct),t(ue),u(()=>_=zt(ue,_,{...n(O)})),a(te,ue)};Se(le,te=>{s.child?te(ge):te(Ie,!1)})}a(d,ae),He()}const Os=fs({base:"[&>svg]:text-foreground relative w-full rounded-lg border p-4 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg~*]:pl-7",variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});var Ns=A("<div><!></div>");function wr(d,s){Me(s,!0);let m=De(s,"ref",15,null),$=De(s,"variant",3,"default"),r=nt(s,["$$slots","$$events","$$legacy","ref","class","variant","children"]);var L=Ns();let b;var O=e(L);Ye(O,()=>s.children??ct),t(L),Qt(L,ae=>m(ae),()=>m()),u(ae=>b=zt(L,b,{class:ae,...r,role:"alert"}),[()=>or(Os({variant:$()}),s.class)]),a(d,L),He()}var Rs=A("<div><!></div>");function Pr(d,s){Me(s,!0);let m=De(s,"ref",15,null),$=nt(s,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Rs();let L;var b=e(r);Ye(b,()=>s.children??ct),t(r),Qt(r,O=>m(O),()=>m()),u(O=>L=zt(r,L,{class:O,...$}),[()=>or("text-sm [&_p]:leading-relaxed",s.class)]),a(d,r),He()}const kr=typeof document<"u";function Dr(d){const s=ts(d);function m(r){kr&&s.set(r)}function $(r){kr&&s.update(r)}return{subscribe:s.subscribe,set:m,update:$}}let Cr=0;function As(){const d=Dr([]),s=Dr([]);function m(c){d.update(g=>[c,...g])}function $(c){var Bt;const{message:g,...N}=c,Re=typeof(c==null?void 0:c.id)=="number"||c.id&&((Bt=c.id)==null?void 0:Bt.length)>0?c.id:Cr++,Be=c.dismissable===void 0?!0:c.dismissable,ye=c.type===void 0?"default":c.type;return xr(d).find(h=>h.id===Re)?d.update(h=>h.map(wt=>wt.id===Re?{...wt,...c,id:Re,title:g,dismissable:Be,type:ye,updated:!0}:{...wt,updated:!1})):m({...N,id:Re,title:g,dismissable:Be,type:ye}),Re}function r(c){if(c===void 0){d.update(g=>g.map(N=>({...N,dismiss:!0})));return}return d.update(g=>g.map(N=>N.id===c?{...N,dismiss:!0}:N)),c}function L(c){if(c===void 0){d.set([]);return}return d.update(g=>g.filter(N=>N.id!==c)),c}function b(c,g){return $({...g,type:"default",message:c})}function O(c,g){return $({...g,type:"error",message:c})}function ae(c,g){return $({...g,type:"success",message:c})}function le(c,g){return $({...g,type:"info",message:c})}function ge(c,g){return $({...g,type:"warning",message:c})}function Ie(c,g){return $({...g,type:"loading",message:c})}function te(c,g){if(!g)return;let N;g.loading!==void 0&&(N=$({...g,promise:c,type:"loading",message:g.loading}));const Re=c instanceof Promise?c:c();let Be=N!==void 0;return Re.then(ye=>{if(ye&&typeof ye.ok=="boolean"&&!ye.ok){Be=!1;const at=typeof g.error=="function"?g.error(`HTTP error! status: ${ye.status}`):g.error;$({id:N,type:"error",message:at})}else if(g.success!==void 0){Be=!1;const at=typeof g.success=="function"?g.success(ye):g.success;$({id:N,type:"success",message:at})}}).catch(ye=>{if(g.error!==void 0){Be=!1;const at=typeof g.error=="function"?g.error(ye):g.error;$({id:N,type:"error",message:at})}}).finally(()=>{var ye;Be&&(r(N),N=void 0),(ye=g.finally)==null||ye.call(g)}),N}function ue(c,g){const N=(g==null?void 0:g.id)||Cr++;return $({component:c,id:N,...g}),N}function _(c){s.update(g=>g.filter(N=>N.toastId!==c))}function z(c){if(xr(s).find(N=>N.toastId===c.toastId)===void 0){s.update(N=>[c,...N]);return}s.update(N=>N.map(Re=>Re.toastId===c.toastId?c:Re))}function xe(){d.set([]),s.set([])}return{create:$,addToast:m,dismiss:r,remove:L,message:b,error:O,success:ae,info:le,warning:ge,loading:Ie,promise:te,custom:ue,removeHeight:_,setHeight:z,reset:xe,toasts:d,heights:s}}const lt=As();function Ls(d,s){return lt.create({message:d,...s})}const Ms=Ls,vt=Object.assign(Ms,{success:lt.success,info:lt.info,warning:lt.warning,error:lt.error,custom:lt.custom,message:lt.message,promise:lt.promise,dismiss:lt.dismiss,loading:lt.loading});var Hs=A("<textarea></textarea>");function Bs(d,s){Me(s,!0);let m=De(s,"ref",15,null),$=De(s,"value",15),r=nt(s,["$$slots","$$events","$$legacy","ref","value","class"]);var L=Hs();Yr(L);let b;Qt(L,O=>m(O),()=>m()),u(O=>b=zt(L,b,{class:O,...r}),[()=>or("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s.class)]),gs(L,$),a(d,L),He()}var Vs=A('<div class="fixed inset-0 bg-black/70 flex flex-col items-center justify-center z-50"><div class="animate-spin rounded-full h-16 w-16 border-4 border-t-primary border-r-transparent border-b-primary border-l-transparent mb-4"></div> <h3 class="text-xl font-medium text-white mb-2"> </h3> <p class="text-white text-center max-w-md"> </p></div>');function Fs(d,s){Me(s,!0);const[m,$]=Ir(),r=()=>zr(Sr,"$_",m);let L=De(s,"onStatusChange",3,()=>{}),b=ke(!0),O=null,ae=ke(0);const le=60;function ge(){O&&(clearInterval(O),O=null)}async function Ie(){try{(await fetch(`${s.apiEndpoint}/health`,{cache:"no-store"})).ok?(I(b,!1),L()(),ge(),I(ae,0),vt.success(r()("config.title"),{description:r()("config.servicesRestarted")})):($r(ae),n(ae)>=le&&(I(b,!1),L()(),ge(),vt.error(r()("config.error"),{description:r()("config.servicesRestartTimeout")})))}catch{$r(ae),n(ae)>=le&&(I(b,!1),L()(),ge(),vt.error(r()("config.error"),{description:r()("config.servicesRestartTimeout")}))}}function te(){I(ae,0),I(b,!0),setTimeout(()=>{O=setInterval(Ie,1e3)},1e3)}Tr(()=>{te()}),rs(()=>{ge()});var ue=be(),_=ce(ue);{var z=c=>{var g=Vs(),N=o(e(g),2),Re=e(N,!0);t(N);var Be=o(N,2),ye=e(Be,!0);t(Be),t(g),u((at,M)=>{i(Re,at),i(ye,M)},[()=>r()("config.servicesRestartingTitle"),()=>r()("config.servicesRestartingMessage")]),a(c,g)};Se(_,c=>{n(b)&&c(z)})}a(d,ue);var xe=He({startHealthCheck:te});return $(),xe}const bt=Ss,xt=js,$t=zs;var Js=A("<!> ",1),Us=A("<!> ",1),Ws=A("<!> ",1),qs=A('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl"><h3 class="text-lg font-medium mb-2"> </h3> <p class="text-gray-600 mb-4"> </p> <div class="flex justify-end space-x-2"><!> <!></div></div></div>'),Gs=A('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div></div>'),Ks=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),Ys=A("<span> </span>"),Xs=A("<span> </span>"),Qs=A('<div class="p-4 pt-0"><div class="grid gap-4"><div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),Zs=A('<div class="border rounded-lg bg-white"><!> <!></div>'),eo=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),to=A("<span> </span>"),ro=A('<div class="p-4 pt-0"><div class="grid gap-4"><div class="flex items-start space-x-2 mb-4"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div><!> <div class="relative"><!></div> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),so=A('<div class="border rounded-lg bg-white"><!> <!></div>'),oo=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),no=A('<div class="p-4 pt-0"><div class="grid gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),ao=A('<div class="border rounded-lg bg-white"><!> <!></div>'),io=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),lo=A('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div></div>'),co=A('<div class="border rounded-lg bg-white"><!> <!></div>'),vo=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),uo=A('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="space-y-3"><h4 class="text-sm font-medium"> </h4> <div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-2"><!> <!></div> <p class="text-sm text-muted-foreground"> </p></div></div></div>'),fo=A('<div class="border rounded-lg bg-white"><!> <!></div>'),go=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),po=A('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div></div></div>'),_o=A('<div class="border rounded-lg bg-white"><!> <!></div>'),mo=A('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),ho=A(' <code class="bg-amber-100 px-1 py-0.5 rounded font-mono text-amber-800">memos reindex --force</code>',1),bo=A('<div class="p-4 pt-0"><div class="grid gap-4"><!> <div class="grid gap-4"><div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!></div></div></div></div>'),xo=A('<div class="border rounded-lg bg-white"><!> <!></div>'),$o=A('<div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div>',1),yo=A('<div class="container mx-auto p-4 pt-0 max-w-5xl"><!> <header class="sticky top-0 z-10 transition-all duration-300 bg-white mb-4 border rounded-b-lg"><div><div class="flex items-center"><!> <h1 class="text-3xl font-bold"> </h1></div> <div class="flex space-x-2"><!> <!></div></div></header> <!> <!> <!></div>');function wo(d,s){Me(s,!0);const[m,$]=Ir(),r=()=>zr(Sr,"$_",m),L=ps+"/api";let b=ke(null),O=ke(!0),ae=ke(!1),le=ke(null),ge=ke(Yt({})),Ie=ke(!1),te=ke(!1),ue=ke(null),_=Yt({inputsDisabled:{ocr:!1,embedding:!1},pluginDisabled:{ocr:!1,vlm:!1}}),z=ke(Yt({general:!1,serve:!1,record:!1,watch:!1,ocr:!1,vlm:!1,embedding:!1})),xe=ke(!1),c=ke(!1);function g(){window.scrollY>100?I(c,!0):n(c)&&window.scrollY<20&&I(c,!1)}function N(){try{const l=localStorage.getItem("configSectionStates");if(l){const D=JSON.parse(l);I(z,{...D},!0)}}catch(l){console.error("Error loading collapse states:",l)}}function Re(){if(n(xe))try{localStorage.setItem("configSectionStates",JSON.stringify(n(z)))}catch(l){console.error("Error saving collapse states:",l)}}yr(()=>{n(z)&&Re()}),Tr(()=>(N(),Be().then(()=>{I(xe,!0)}),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}));async function Be(){I(O,!0),I(le,null);try{const l=await fetch(`${L}/config`);if(!l.ok)throw new Error(`Error fetching config: ${l.status} ${l.statusText}`);I(b,await l.json(),!0),I(ge,{},!0),n(b)&&n(b).ocr&&(_.inputsDisabled.ocr=n(b).ocr.use_local,_.pluginDisabled.ocr=!n(b).ocr.enabled),n(b)&&n(b).embedding&&(_.inputsDisabled.embedding=n(b).embedding.use_local),n(b)&&n(b).vlm&&(_.pluginDisabled.vlm=!n(b).vlm.enabled)}catch(l){I(le,l instanceof Error?l.message:"Unknown error fetching configuration",!0),console.error(n(le))}finally{I(O,!1)}}async function ye(){if(Object.keys(n(ge)).length===0){vt.message(r()("config.title"),{description:r()("config.noChanges")});return}I(ae,!0);try{const l=await fetch(`${L}/config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n(ge))});if(!l.ok){const Y=await l.json();throw new Error(Y.detail||`Error: ${l.status} ${l.statusText}`)}const U=(await l.json()).restart_required;Object.values(U).some(Y=>Y)?(vt.success(r()("config.title"),{description:r()("config.savedSuccessfully")}),U.serve&&I(te,!0)):vt.success(r()("config.title"),{description:r()("config.savedSuccessfully")}),await Be()}catch(l){I(le,l instanceof Error?l.message:"Unknown error saving configuration",!0),console.error(n(le)),vt.error(r()("config.error"),{description:n(le)})}finally{I(ae,!1)}}async function at(){I(Ie,!1),I(ae,!0);const l={serve:!0,watch:!0,record:!0};l.serve&&I(te,!0);try{const D=await fetch(`${L}/config/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!D.ok){const U=await D.json();throw new Error(U.detail||`Error: ${D.status} ${D.statusText}`)}vt.success(r()("config.title"),{description:r()("config.servicesRestarting")}),l.serve||I(te,!0)}catch(D){I(le,D instanceof Error?D.message:"Unknown error restarting services",!0),console.error(n(le)),vt.error(r()("config.error"),{description:n(le)}),I(te,!1)}finally{I(ae,!1)}}function M(l,D){let U=n(ge);const Y=l[l.length-1];for(let Ce=0;Ce<l.length-1;Ce++){const ve=l[Ce];U[ve]||(U[ve]={}),U=U[ve]}U[Y]=D}function Bt(l){if(!n(b))return null;let D=n(b);for(const U of l){if(D==null||!D.hasOwnProperty(U))return null;D=D[U]}return D}function h(l){l[0]==="ocr"&&l[1];let U,Y=n(ge);for(const ve of l){if(Y==null||!Y.hasOwnProperty(ve)){U=void 0;break}Y=Y[ve],U=Y}return U!==void 0?U:Bt(l)}function wt(l,D){M([l,"use_local"],D),_.inputsDisabled[l]=D}function ar(l,D){M([l,"enabled"],D),_.pluginDisabled[l]=!D}function ir(l){l.style.height="auto";const U=Math.max(l.scrollHeight,72);l.style.height=U+"px"}yr(()=>{n(b)&&!n(O)&&n(ue)&&ir(n(ue))});var Jt=yo();Xr(l=>{u(D=>ss.title=`Pensieve - ${D??""}`,[()=>r()("config.title")])});var lr=e(Jt);{var Er=l=>{Fs(l,{apiEndpoint:L,onStatusChange:()=>{I(te,!1)}})};Se(lr,l=>{n(te)&&l(Er)})}var Ut=o(lr,2),Wt=e(Ut);let dr;var qt=e(Wt),cr=e(qt);rt(cr,{variant:"ghost",get onclick(){return s.onBack},class:"mr-4",children:(l,D)=>{var U=Js(),Y=ce(U);_s(Y,{size:18,class:"mr-2"});var Ce=o(Y);u(ve=>i(Ce,` ${ve??""}`),[()=>r()("back")]),a(l,U)},$$slots:{default:!0}});var vr=o(cr,2),jr=e(vr,!0);t(vr),t(qt);var ur=o(qt,2),fr=e(ur);const Or=w(()=>n(ae)||n(te));rt(fr,{variant:"outline",onclick:()=>{I(Ie,!0)},get disabled(){return n(Or)},children:(l,D)=>{var U=Us(),Y=ce(U);ms(Y,{size:18,class:"mr-2"});var Ce=o(Y);u(ve=>i(Ce,` ${ve??""}`),[()=>r()("config.restartServices")]),a(l,U)},$$slots:{default:!0}});var Nr=o(fr,2);const Rr=w(()=>n(ae)||n(te)||Object.keys(n(ge)).length===0);rt(Nr,{variant:"default",onclick:ye,get disabled(){return n(Rr)},children:(l,D)=>{var U=Ws(),Y=ce(U);hs(Y,{size:18,class:"mr-2"});var Ce=o(Y);u(ve=>i(Ce,` ${ve??""}`),[()=>r()("config.saveButton")]),a(l,U)},$$slots:{default:!0}}),t(ur),t(Wt),t(Ut);var gr=o(Ut,2);{var Ar=l=>{wr(l,{variant:"destructive",class:"mb-4",children:(D,U)=>{Pr(D,{children:(Y,Ce)=>{R();var ve=F();u(()=>i(ve,n(le))),a(Y,ve)},$$slots:{default:!0}})},$$slots:{default:!0}})};Se(gr,l=>{n(le)&&l(Ar)})}var pr=o(gr,2);{var Lr=l=>{var D=qs(),U=e(D),Y=e(U),Ce=e(Y,!0);t(Y);var ve=o(Y,2),Gt=e(ve,!0);t(ve);var Pt=o(ve,2),Vt=e(Pt);rt(Vt,{variant:"outline",onclick:()=>{I(Ie,!1)},children:(ft,gt)=>{R();var pt=F();u(_t=>i(pt,_t),[()=>r()("config.cancel")]),a(ft,pt)},$$slots:{default:!0}});var Et=o(Vt,2);rt(Et,{variant:"destructive",onclick:at,children:(ft,gt)=>{R();var pt=F();u(_t=>i(pt,_t),[()=>r()("config.confirm")]),a(ft,pt)},$$slots:{default:!0}}),t(Pt),t(U),t(D),u((ft,gt)=>{i(Ce,ft),i(Gt,gt)},[()=>r()("config.restartConfirmTitle"),()=>r()("config.restartConfirmMessage")]),a(l,D)};Se(pr,l=>{n(Ie)&&l(Lr)})}var Mr=o(pr,2);{var Hr=l=>{var D=Gs();a(l,D)},Br=(l,D)=>{{var U=Y=>{var Ce=$o(),ve=ce(Ce),Gt=e(ve);bt(Gt,{get open(){return n(z).ocr},set open(re){n(z).ocr=re},children:(re,kt)=>{var se=Zs(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=Ks(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).ocr?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.ocr.title"),()=>r()("config.ocr.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=Qs(),P=e(x),y=e(P),H=e(y);const E=w(()=>h(["ocr","enabled"]));it(H,{id:"enable-ocr",get checked(){return n(E)},onCheckedChange:()=>{ar("ocr",!h(["ocr","enabled"]))}});var K=o(H,2),Q=e(K);J(Q,{for:"enable-ocr",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.ocr.enabled",{default:"Enable OCR Plugin"})]),a(p,v)},$$slots:{default:!0}});var k=o(Q,2),B=e(k,!0);t(k),t(K),t(y);var S=o(y,2),q=e(S);const X=w(()=>h(["ocr","use_local"]));it(q,{id:"use-local-ocr",get checked(){return n(X)},get disabled(){return _.pluginDisabled.ocr},onCheckedChange:()=>{_.pluginDisabled.ocr||wt("ocr",!h(["ocr","use_local"]))}});var ne=o(q,2),f=e(ne);J(f,{for:"use-local-ocr",children:(p,j)=>{var v=Ys(),W=e(v,!0);t(v),u(V=>{Ft(v,1,Xt(_.pluginDisabled.ocr?"text-muted-foreground":"")),i(W,V)},[()=>r()("config.ocr.useLocal")]),a(p,v)},$$slots:{default:!0}}),t(ne),t(S);var Ae=o(S,2),me=e(Ae);const fe=w(()=>h(["ocr","force_jpeg"]));it(me,{id:"force-jpeg-ocr",get checked(){return n(fe)},get disabled(){return _.pluginDisabled.ocr},onCheckedChange:()=>{_.pluginDisabled.ocr||M(["ocr","force_jpeg"],!h(["ocr","force_jpeg"]))}});var $e=o(me,2),ze=e($e);J(ze,{for:"force-jpeg-ocr",children:(p,j)=>{var v=Xs(),W=e(v,!0);t(v),u(V=>{Ft(v,1,Xt(_.pluginDisabled.ocr?"text-muted-foreground":"")),i(W,V)},[()=>r()("config.ocr.forceJpeg")]),a(p,v)},$$slots:{default:!0}});var Je=o(ze,2),Ee=e(Je,!0);t(Je),t($e),t(Ae);var Te=o(Ae,2),je=e(Te),Oe=e(je);J(Oe,{for:"ocr-endpoint",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.ocr.endpoint")]),a(p,v)},$$slots:{default:!0}});var G=o(Oe,2);const we=w(()=>h(["ocr","endpoint"])),de=w(()=>_.inputsDisabled.ocr||_.pluginDisabled.ocr);ie(G,{id:"ocr-endpoint",class:"font-mono",get value(){return n(we)},get disabled(){return n(de)},onchange:p=>{!_.inputsDisabled.ocr&&!_.pluginDisabled.ocr&&M(["ocr","endpoint"],p.currentTarget.value)}});var he=o(G,2),Ue=e(he,!0);t(he),t(je);var Le=o(je,2),Ne=e(Le);J(Ne,{for:"ocr-token",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.ocr.token")]),a(p,v)},$$slots:{default:!0}});var Xe=o(Ne,2);const st=w(()=>h(["ocr","token"])==="********"?"":h(["ocr","token"])),Qe=w(()=>_.inputsDisabled.ocr||_.pluginDisabled.ocr);ie(Xe,{id:"ocr-token",class:"font-mono",type:"password",get value(){return n(st)},placeholder:"********",get disabled(){return n(Qe)},onchange:p=>{p.currentTarget.value&&!_.inputsDisabled.ocr&&!_.pluginDisabled.ocr&&M(["ocr","token"],p.currentTarget.value)}}),t(Le),t(Te);var We=o(Te,2),qe=e(We);J(qe,{for:"ocr-concurrency",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.ocr.concurrency")]),a(p,v)},$$slots:{default:!0}});var Ge=o(qe,2);const Ze=w(()=>h(["ocr","concurrency"]));ie(Ge,{id:"ocr-concurrency",class:"font-mono",type:"number",get value(){return n(Ze)},get disabled(){return _.pluginDisabled.ocr},onchange:p=>{_.pluginDisabled.ocr||M(["ocr","concurrency"],parseInt(p.currentTarget.value))}});var Ke=o(Ge,2),T=e(Ke,!0);t(Ke),t(We),t(P),t(x),u((p,j,v,W)=>{i(B,p),i(Ee,j),i(Ue,v),i(T,W)},[()=>r()("config.ocr.enabledDesc",{default:"Whether to enable the OCR plugin. Disable to save memory."}),()=>r()("config.ocr.forceJpegDesc"),()=>r()("config.ocr.endpointDesc"),()=>r()("config.ocr.concurrencyDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(ve);var Pt=o(ve,2),Vt=e(Pt);bt(Vt,{get open(){return n(z).vlm},set open(re){n(z).vlm=re},children:(re,kt)=>{var se=so(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=eo(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).vlm?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.vlm.title"),()=>r()("config.vlm.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=ro(),P=e(x),y=e(P),H=e(y);const E=w(()=>h(["vlm","enabled"]));it(H,{id:"enable-vlm",get checked(){return n(E)},onCheckedChange:()=>{ar("vlm",!h(["vlm","enabled"]))}});var K=o(H,2),Q=e(K);J(Q,{for:"enable-vlm",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.enabled",{default:"Enable VLM Plugin"})]),a(V,Z)},$$slots:{default:!0}});var k=o(Q,2),B=e(k,!0);t(k),t(K),t(y);var S=o(y,2),q=e(S);J(q,{for:"model-name",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.modelName")]),a(V,Z)},$$slots:{default:!0}});var X=o(q,2);const ne=w(()=>h(["vlm","modelname"]));ie(X,{id:"model-name",class:"font-mono",get value(){return n(ne)},get disabled(){return _.pluginDisabled.vlm},onchange:V=>{_.pluginDisabled.vlm||M(["vlm","modelname"],V.currentTarget.value)}});var f=o(X,2),Ae=e(f,!0);t(f),t(S);var me=o(S,2),fe=e(me),$e=e(fe);J($e,{for:"vlm-endpoint",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.endpoint")]),a(V,Z)},$$slots:{default:!0}});var ze=o($e,2);const Je=w(()=>h(["vlm","endpoint"]));ie(ze,{id:"vlm-endpoint",class:"font-mono",get value(){return n(Je)},get disabled(){return _.pluginDisabled.vlm},onchange:V=>{_.pluginDisabled.vlm||M(["vlm","endpoint"],V.currentTarget.value)}}),t(fe);var Ee=o(fe,2),Te=e(Ee);J(Te,{for:"vlm-token",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.token")]),a(V,Z)},$$slots:{default:!0}});var je=o(Te,2);const Oe=w(()=>h(["vlm","token"])==="********"?"":h(["vlm","token"]));ie(je,{id:"vlm-token",class:"font-mono",type:"password",get value(){return n(Oe)},placeholder:"********",get disabled(){return _.pluginDisabled.vlm},onchange:V=>{V.currentTarget.value&&!_.pluginDisabled.vlm&&M(["vlm","token"],V.currentTarget.value)}}),t(Ee),t(me);var G=o(me,2),we=e(G);J(we,{for:"vlm-concurrency",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.concurrency")]),a(V,Z)},$$slots:{default:!0}});var de=o(we,2);const he=w(()=>h(["vlm","concurrency"]));ie(de,{id:"vlm-concurrency",class:"font-mono",type:"number",get value(){return n(he)},get disabled(){return _.pluginDisabled.vlm},onchange:V=>{_.pluginDisabled.vlm||M(["vlm","concurrency"],parseInt(V.currentTarget.value))}});var Ue=o(de,2),Le=e(Ue,!0);t(Ue),t(G);var Ne=o(G,2),Xe=e(Ne);const st=w(()=>h(["vlm","force_jpeg"]));it(Xe,{id:"force-jpeg-vlm",get checked(){return n(st)},get disabled(){return _.pluginDisabled.vlm},onCheckedChange:()=>{_.pluginDisabled.vlm||M(["vlm","force_jpeg"],!h(["vlm","force_jpeg"]))}});var Qe=o(Xe,2),We=e(Qe);J(We,{for:"force-jpeg-vlm",children:(V,et)=>{var Z=to(),Pe=e(Z,!0);t(Z),u(C=>{Ft(Z,1,Xt(_.pluginDisabled.vlm?"text-muted-foreground":"")),i(Pe,C)},[()=>r()("config.vlm.forceJpeg")]),a(V,Z)},$$slots:{default:!0}});var qe=o(We,2),Ge=e(qe,!0);t(qe),t(Qe),t(Ne);var Ze=o(Ne,2),Ke=e(Ze);J(Ke,{for:"vlm-prompt",children:(V,et)=>{R();var Z=F();u(Pe=>i(Z,Pe),[()=>r()("config.vlm.prompt")]),a(V,Z)},$$slots:{default:!0}});var T=o(Ke,2),p=e(T);const j=w(()=>h(["vlm","prompt"]));Bs(p,{id:"vlm-prompt",class:"font-mono resize-none overflow-hidden w-full min-h-[72px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",get value(){return n(j)},get disabled(){return _.pluginDisabled.vlm},oninput:V=>{_.pluginDisabled.vlm||(M(["vlm","prompt"],V.currentTarget.value),ir(n(ue)))},get ref(){return n(ue)},set ref(V){I(ue,V,!0)}}),t(T);var v=o(T,2),W=e(v,!0);t(v),t(Ze),t(P),t(x),u((V,et,Z,Pe,C)=>{i(B,V),i(Ae,et),i(Le,Z),i(Ge,Pe),i(W,C)},[()=>r()("config.vlm.enabledDesc",{default:"Whether to enable the VLM plugin. Disable to save memory."}),()=>r()("config.vlm.modelNameDesc"),()=>r()("config.vlm.concurrencyDesc"),()=>r()("config.vlm.forceJpegDesc"),()=>r()("config.vlm.promptDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(Pt);var Et=o(Pt,2),ft=e(Et);bt(ft,{get open(){return n(z).record},set open(re){n(z).record=re},children:(re,kt)=>{var se=ao(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=oo(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).record?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.record.title"),()=>r()("config.record.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=no(),P=e(x),y=e(P),H=e(y);J(H,{for:"record-interval",children:(B,S)=>{R();var q=F();u(X=>i(q,X),[()=>r()("config.record.interval")]),a(B,q)},$$slots:{default:!0}});var E=o(H,2);const K=w(()=>h(["record_interval"]));ie(E,{id:"record-interval",class:"font-mono",type:"number",get value(){return n(K)},onchange:B=>M(["record_interval"],parseInt(B.currentTarget.value))});var Q=o(E,2),k=e(Q,!0);t(Q),t(y),t(P),t(x),u(B=>i(k,B),[()=>r()("config.record.intervalDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(Et);var gt=o(Et,2),pt=e(gt);bt(pt,{get open(){return n(z).watch},set open(re){n(z).watch=re},children:(re,kt)=>{var se=co(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=io(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).watch?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.watch.title"),()=>r()("config.watch.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=lo(),P=e(x),y=e(P),H=e(y),E=e(H);J(E,{for:"rate-window-size",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.rateWindowSize")]),a(T,j)},$$slots:{default:!0}});var K=o(E,2);const Q=w(()=>h(["watch","rate_window_size"]));ie(K,{id:"rate-window-size",class:"font-mono",type:"number",get value(){return n(Q)},onchange:T=>M(["watch","rate_window_size"],parseInt(T.currentTarget.value))});var k=o(K,2),B=e(k,!0);t(k),t(H);var S=o(H,2),q=e(S);J(q,{for:"sparsity-factor",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.sparsityFactor")]),a(T,j)},$$slots:{default:!0}});var X=o(q,2);const ne=w(()=>h(["watch","sparsity_factor"]));ie(X,{id:"sparsity-factor",class:"font-mono",type:"number",step:"0.1",get value(){return n(ne)},onchange:T=>M(["watch","sparsity_factor"],parseFloat(T.currentTarget.value))});var f=o(X,2),Ae=e(f,!0);t(f),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);J($e,{for:"processing-interval",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.processingInterval")]),a(T,j)},$$slots:{default:!0}});var ze=o($e,2);const Je=w(()=>h(["watch","processing_interval"]));ie(ze,{id:"processing-interval",class:"font-mono",type:"number",get value(){return n(Je)},onchange:T=>M(["watch","processing_interval"],parseInt(T.currentTarget.value))});var Ee=o(ze,2),Te=e(Ee,!0);t(Ee),t(fe);var je=o(fe,2),Oe=e(je);J(Oe,{for:"idle-timeout",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.idleTimeout")]),a(T,j)},$$slots:{default:!0}});var G=o(Oe,2);const we=w(()=>h(["watch","idle_timeout"]));ie(G,{id:"idle-timeout",class:"font-mono",type:"number",get value(){return n(we)},onchange:T=>M(["watch","idle_timeout"],parseInt(T.currentTarget.value))});var de=o(G,2),he=e(de,!0);t(de),t(je),t(me);var Ue=o(me,2),Le=e(Ue),Ne=e(Le);J(Ne,{for:"idle-process-start",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.idleProcessStart")]),a(T,j)},$$slots:{default:!0}});var Xe=o(Ne,2);const st=w(()=>{var T;return((T=h(["watch","idle_process_interval"]))==null?void 0:T[0])||"00:00"});ie(Xe,{id:"idle-process-start",class:"font-mono",type:"time",get value(){return n(st)},onchange:T=>{const p=h(["watch","idle_process_interval"])||["00:00","07:00"];M(["watch","idle_process_interval"],[T.currentTarget.value,p[1]])}}),t(Le);var Qe=o(Le,2),We=e(Qe);J(We,{for:"idle-process-end",children:(T,p)=>{R();var j=F();u(v=>i(j,v),[()=>r()("config.watch.idleProcessEnd")]),a(T,j)},$$slots:{default:!0}});var qe=o(We,2);const Ge=w(()=>{var T;return((T=h(["watch","idle_process_interval"]))==null?void 0:T[1])||"07:00"});ie(qe,{id:"idle-process-end",class:"font-mono",type:"time",get value(){return n(Ge)},onchange:T=>{const p=h(["watch","idle_process_interval"])||["00:00","07:00"];M(["watch","idle_process_interval"],[p[0],T.currentTarget.value])}});var Ze=o(qe,2),Ke=e(Ze,!0);t(Ze),t(Qe),t(Ue),t(P),t(x),u((T,p,j,v,W)=>{i(B,T),i(Ae,p),i(Te,j),i(he,v),i(Ke,W)},[()=>r()("config.watch.rateWindowSizeDesc"),()=>r()("config.watch.sparsityFactorDesc"),()=>r()("config.watch.processingIntervalDesc"),()=>r()("config.watch.idleTimeoutDesc"),()=>r()("config.watch.idleProcessDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(gt);var _t=o(gt,2),Vr=e(_t);bt(Vr,{get open(){return n(z).general},set open(re){n(z).general=re},children:(re,kt)=>{var se=fo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=vo(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).general?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.general.title"),()=>r()("config.general.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=uo(),P=e(x),y=e(P),H=e(y),E=e(H);J(E,{for:"base-dir",children:(C,ut)=>{R();var _e=F();u(ot=>i(_e,ot),[()=>r()("config.general.baseDir")]),a(C,_e)},$$slots:{default:!0}});var K=o(E,2);const Q=w(()=>h(["base_dir"]));ie(K,{id:"base-dir",class:"font-mono",get value(){return n(Q)},onchange:C=>M(["base_dir"],C.currentTarget.value)});var k=o(K,2),B=e(k,!0);t(k),t(H);var S=o(H,2),q=e(S);J(q,{for:"screenshots-dir",children:(C,ut)=>{R();var _e=F();u(ot=>i(_e,ot),[()=>r()("config.general.screenshotsDir")]),a(C,_e)},$$slots:{default:!0}});var X=o(q,2);const ne=w(()=>h(["screenshots_dir"]));ie(X,{id:"screenshots-dir",class:"font-mono",get value(){return n(ne)},onchange:C=>M(["screenshots_dir"],C.currentTarget.value)});var f=o(X,2),Ae=e(f,!0);t(f),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);J($e,{for:"database-path",children:(C,ut)=>{R();var _e=F();u(ot=>i(_e,ot),[()=>r()("config.general.databasePath")]),a(C,_e)},$$slots:{default:!0}});var ze=o($e,2);const Je=w(()=>h(["database_path"]));ie(ze,{id:"database-path",class:"font-mono",get value(){return n(Je)},onchange:C=>M(["database_path"],C.currentTarget.value)});var Ee=o(ze,2),Te=e(Ee,!0);t(Ee),t(fe);var je=o(fe,2),Oe=e(je);J(Oe,{for:"default-library",children:(C,ut)=>{R();var _e=F();u(ot=>i(_e,ot),[()=>r()("config.general.defaultLibrary")]),a(C,_e)},$$slots:{default:!0}});var G=o(Oe,2);const we=w(()=>h(["default_library"]));ie(G,{id:"default-library",class:"font-mono",get value(){return n(we)},onchange:C=>M(["default_library"],C.currentTarget.value)});var de=o(G,2),he=e(de,!0);t(de),t(je),t(me);var Ue=o(me,2),Le=e(Ue);const Ne=w(()=>h(["facet"]));it(Le,{id:"facet-option",get checked(){return n(Ne)},onCheckedChange:()=>{M(["facet"],!h(["facet"]))}});var Xe=o(Le,2),st=e(Xe);J(st,{for:"facet-option",children:(C,ut)=>{R();var _e=F();u(ot=>i(_e,ot),[()=>r()("config.general.enableFacet")]),a(C,_e)},$$slots:{default:!0}});var Qe=o(st,2),We=e(Qe,!0);t(Qe),t(Xe),t(Ue);var qe=o(Ue,2),Ge=e(qe),Ze=e(Ge,!0);t(Ge);var Ke=o(Ge,2),T=e(Ke);const p=w(()=>{var C;return(C=h(["default_plugins"]))==null?void 0:C.includes("builtin_ocr")});it(T,{id:"builtin-ocr",get checked(){return n(p)},onCheckedChange:()=>{const C=new Set(h(["default_plugins"])||[]);C.has("builtin_ocr")?C.delete("builtin_ocr"):C.add("builtin_ocr"),M(["default_plugins"],Array.from(C))}});var j=o(T,2);J(j,{for:"builtin-ocr",children:(C,ut)=>{R();var _e=F("Builtin OCR");a(C,_e)},$$slots:{default:!0}}),t(Ke);var v=o(Ke,2),W=e(v);const V=w(()=>{var C;return(C=h(["default_plugins"]))==null?void 0:C.includes("builtin_vlm")});it(W,{id:"builtin-vlm",get checked(){return n(V)},onCheckedChange:()=>{const C=new Set(h(["default_plugins"])||[]);C.has("builtin_vlm")?C.delete("builtin_vlm"):C.add("builtin_vlm"),M(["default_plugins"],Array.from(C))}});var et=o(W,2);J(et,{for:"builtin-vlm",children:(C,ut)=>{R();var _e=F("Builtin VLM");a(C,_e)},$$slots:{default:!0}}),t(v);var Z=o(v,2),Pe=e(Z,!0);t(Z),t(qe),t(P),t(x),u((C,ut,_e,ot,Ur,Wr,qr)=>{i(B,C),i(Ae,ut),i(Te,_e),i(he,ot),i(We,Ur),i(Ze,Wr),i(Pe,qr)},[()=>r()("config.general.baseDirDesc"),()=>r()("config.general.screenshotsDirDesc"),()=>r()("config.general.databasePathDesc"),()=>r()("config.general.defaultLibraryDesc"),()=>r()("config.general.enableFacetDesc"),()=>r()("config.general.defaultPlugins"),()=>r()("config.general.defaultPluginsDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(_t);var Kt=o(_t,2),Fr=e(Kt);bt(Fr,{get open(){return n(z).serve},set open(re){n(z).serve=re},children:(re,kt)=>{var se=_o(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=go(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).serve?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.server.title"),()=>r()("config.server.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=po(),P=e(x),y=e(P),H=e(y),E=e(H);J(E,{for:"server-host",children:(G,we)=>{R();var de=F();u(he=>i(de,he),[()=>r()("config.server.host")]),a(G,de)},$$slots:{default:!0}});var K=o(E,2);const Q=w(()=>h(["server_host"]));ie(K,{id:"server-host",class:"font-mono",get value(){return n(Q)},onchange:G=>M(["server_host"],G.currentTarget.value)});var k=o(K,2),B=e(k,!0);t(k),t(H);var S=o(H,2),q=e(S);J(q,{for:"server-port",children:(G,we)=>{R();var de=F();u(he=>i(de,he),[()=>r()("config.server.port")]),a(G,de)},$$slots:{default:!0}});var X=o(q,2);const ne=w(()=>h(["server_port"]));ie(X,{id:"server-port",class:"font-mono",type:"number",get value(){return n(ne)},onchange:G=>M(["server_port"],parseInt(G.currentTarget.value))});var f=o(X,2),Ae=e(f,!0);t(f),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);J($e,{for:"auth-username",children:(G,we)=>{R();var de=F();u(he=>i(de,he),[()=>r()("config.server.username")]),a(G,de)},$$slots:{default:!0}});var ze=o($e,2);const Je=w(()=>h(["auth_username"]));ie(ze,{id:"auth-username",class:"font-mono",get value(){return n(Je)},onchange:G=>M(["auth_username"],G.currentTarget.value)}),t(fe);var Ee=o(fe,2),Te=e(Ee);J(Te,{for:"auth-password",children:(G,we)=>{R();var de=F();u(he=>i(de,he),[()=>r()("config.server.password")]),a(G,de)},$$slots:{default:!0}});var je=o(Te,2);const Oe=w(()=>h(["auth_password"])==="********"?"":h(["auth_password"]));ie(je,{id:"auth-password",class:"font-mono",type:"password",get value(){return n(Oe)},placeholder:"********",onchange:G=>{G.currentTarget.value&&M(["auth_password"],G.currentTarget.value)}}),t(Ee),t(me),t(P),t(x),u((G,we)=>{i(B,G),i(Ae,we)},[()=>r()("config.server.hostDesc"),()=>r()("config.server.portDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(Kt);var _r=o(Kt,2),Jr=e(_r);bt(Jr,{get open(){return n(z).embedding},set open(re){n(z).embedding=re},children:(re,kt)=>{var se=xo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Fe)=>{var x=mo(),P=e(x),y=e(P),H=e(y,!0);t(y);var E=o(y,2),K=e(E,!0);t(E),t(P);var Q=o(P,2);rt(Q,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,B)=>{var S=be(),q=ce(S);{var X=f=>{mt(f,{size:20})},ne=f=>{ht(f,{size:20})};Se(q,f=>{n(z).embedding?f(ne,!1):f(X)})}a(k,S)},$$slots:{default:!0}}),t(x),u((k,B)=>{i(H,k),i(K,B)},[()=>r()("config.embedding.title"),()=>r()("config.embedding.description")]),a(oe,x)},$$slots:{default:!0}});var Ve=o(pe,2);$t(Ve,{children:(oe,Fe)=>{var x=bo(),P=e(x),y=e(P);wr(y,{variant:"destructive",class:"bg-amber-50 border-amber-200 text-amber-700",children:(p,j)=>{Pr(p,{children:(v,W)=>{R();var V=ho(),et=ce(V);R(),u(Z=>i(et,`${Z??""} `),[()=>r()("config.embedding.changeWarningPrefix",{default:"Changing the embedding model or dimensions requires restarting services and reindexing. After changes, run "})]),a(v,V)},$$slots:{default:!0}})},$$slots:{default:!0}});var H=o(y,2),E=e(H),K=e(E);const Q=w(()=>h(["embedding","use_local"]));it(K,{id:"use-local-embedding",get checked(){return n(Q)},onCheckedChange:()=>{wt("embedding",!h(["embedding","use_local"]))}});var k=o(K,2),B=e(k);J(B,{for:"use-local-embedding",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.useLocal")]),a(p,v)},$$slots:{default:!0}}),t(k),t(E);var S=o(E,2),q=e(S);const X=w(()=>h(["embedding","use_modelscope"]));it(q,{id:"use-modelscope",get checked(){return n(X)},onCheckedChange:()=>{M(["embedding","use_modelscope"],!h(["embedding","use_modelscope"]))}});var ne=o(q,2),f=e(ne);J(f,{for:"use-modelscope",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.useModelscope")]),a(p,v)},$$slots:{default:!0}});var Ae=o(f,2),me=e(Ae,!0);t(Ae),t(ne),t(S),t(H);var fe=o(H,2),$e=e(fe),ze=e($e);J(ze,{for:"embedding-model",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.model")]),a(p,v)},$$slots:{default:!0}});var Je=o(ze,2);const Ee=w(()=>h(["embedding","model"]));ie(Je,{id:"embedding-model",class:"font-mono",get value(){return n(Ee)},onchange:p=>M(["embedding","model"],p.currentTarget.value)});var Te=o(Je,2),je=e(Te,!0);t(Te),t($e);var Oe=o($e,2),G=e(Oe);J(G,{for:"embedding-dimensions",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.dimensions")]),a(p,v)},$$slots:{default:!0}});var we=o(G,2);const de=w(()=>h(["embedding","num_dim"]));ie(we,{id:"embedding-dimensions",class:"font-mono",type:"number",get value(){return n(de)},onchange:p=>M(["embedding","num_dim"],parseInt(p.currentTarget.value))});var he=o(we,2),Ue=e(he,!0);t(he),t(Oe),t(fe);var Le=o(fe,2),Ne=e(Le),Xe=e(Ne);J(Xe,{for:"embedding-endpoint",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.endpoint")]),a(p,v)},$$slots:{default:!0}});var st=o(Xe,2);const Qe=w(()=>h(["embedding","endpoint"]));ie(st,{id:"embedding-endpoint",class:"font-mono",get value(){return n(Qe)},get disabled(){return _.inputsDisabled.embedding},onchange:p=>M(["embedding","endpoint"],p.currentTarget.value)});var We=o(st,2),qe=e(We,!0);t(We),t(Ne);var Ge=o(Ne,2),Ze=e(Ge);J(Ze,{for:"embedding-token",children:(p,j)=>{R();var v=F();u(W=>i(v,W),[()=>r()("config.embedding.token")]),a(p,v)},$$slots:{default:!0}});var Ke=o(Ze,2);const T=w(()=>h(["embedding","token"])==="********"?"":h(["embedding","token"]));ie(Ke,{id:"embedding-token",class:"font-mono",type:"password",get value(){return n(T)},placeholder:"********",get disabled(){return _.inputsDisabled.embedding},onchange:p=>{p.currentTarget.value&&M(["embedding","token"],p.currentTarget.value)}}),t(Ge),t(Le),t(P),t(x),u((p,j,v,W)=>{i(me,p),i(je,j),i(Ue,v),i(qe,W)},[()=>r()("config.embedding.useModelScopeDesc"),()=>r()("config.embedding.modelDesc"),()=>r()("config.embedding.dimensionsDesc"),()=>r()("config.embedding.endpointDesc")]),a(oe,x)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(_r),a(Y,Ce)};Se(l,Y=>{n(b)&&Y(U)},D)}};Se(Mr,l=>{n(O)?l(Hr):l(Br,!1)})}t(Jt),u((l,D)=>{dr=Ft(Wt,1,"flex items-center justify-between p-4 transition-all duration-300",null,dr,l),i(jr,D)},[()=>({"shadow-md":n(c)}),()=>r()("config.title")]),a(d,Jt),He(),$()}function jo(d,s){Me(s,!1);function m(){os("/")}Qr(),wo(d,{onBack:m}),He()}export{jo as component};
