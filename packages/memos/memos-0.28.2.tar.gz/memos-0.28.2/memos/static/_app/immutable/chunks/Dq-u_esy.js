import{K as v,M as u,N as k,O,Q as L,R as q,T as F,U as H,V as S,W as h,X as A,Y as E,Z as M,_ as Y,$ as U,a0 as Z,u as o,a1 as B,S as C}from"./BFJ4JqcU.js";function P(a,t,[r,i]=[0,0]){u&&r===0&&k();var f=a,s=null,c=null,n=M,g=r>0?O:0,e=!1;const p=(T,l=!0)=>{e=!0,N(l,T)},N=(T,l)=>{if(n===(n=T))return;let R=!1;if(u&&i!==-1){if(r===0){const I=f.data;I===L?i=0:I===q?i=1/0:(i=parseInt(I.substring(1)),i!==i&&(i=n?1/0:-1))}const D=i>r;!!n===D&&(f=F(),H(f),S(!1),R=!0,i=-1)}n?(s?h(s):l&&(s=A(()=>l(f))),c&&E(c,()=>{c=null})):(c?h(c):l&&(c=A(()=>l(f,[r+1,i]))),s&&E(s,()=>{s=null})),R&&S(!0)};v(()=>{e=!1,t(p),e||N(null,null)},g),u&&(f=Y)}function Q(a,t,r){u&&k();var i=a,f,s;v(()=>{f!==(f=t())&&(s&&(E(s),s=null),f&&(s=A(()=>r(i,f))))},O),u&&(i=Y)}function b(a,t){return a===t||(a==null?void 0:a[C])===t}function V(a={},t,r,i){return U(()=>{var f,s;return Z(()=>{f=s,s=[],o(()=>{a!==r(...s)&&(t(a,...s),f&&b(r(...f),a)&&t(null,...f))})}),()=>{B(()=>{s&&b(r(...s),a)&&t(null,...s)})}}),a}export{V as b,Q as c,P as i};
