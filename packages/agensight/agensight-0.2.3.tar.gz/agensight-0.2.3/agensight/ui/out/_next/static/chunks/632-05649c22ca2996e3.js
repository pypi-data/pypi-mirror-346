"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{8262:(e,t,a)=>{a.d(t,{dj:()=>m,oR:()=>u});var r=a(2115);let s=0,n=new Map,i=(e,t)=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},t||5e3);n.set(e,a)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;if(a){let t=e.toasts.find(e=>e.id===a);i(a,null==t?void 0:t.duration)}else e.toasts.forEach(e=>{i(e.id,e.duration)});return{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_VALUE).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return 0!==t.duration&&setTimeout(()=>{r()},t.duration||5e3),c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},9632:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ev});var r=a(5155);function s(){return(0,r.jsx)("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:(0,r.jsx)("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:(0,r.jsx)("h1",{className:"text-base font-medium",children:"Agen Sight Studio"})})})}var n=a(2115),i=a(2085),o=a(9434),l=a(9708);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:s,asChild:n=!1,...i}=e,c=n?l.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,o.cn)(d({variant:a,size:s,className:t})),...i})}function u(e){let{className:t,type:a,...s}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,o.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var m=a(9613);function x(e){let{delayDuration:t=0,...a}=e;return(0,r.jsx)(m.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function p(e){let{...t}=e;return(0,r.jsx)(x,{children:(0,r.jsx)(m.bL,{"data-slot":"tooltip",...t})})}function h(e){let{...t}=e;return(0,r.jsx)(m.l9,{"data-slot":"tooltip-trigger",...t})}function g(e){let{className:t,sideOffset:a=0,children:s,...n}=e;return(0,r.jsx)(m.ZL,{children:(0,r.jsxs)(m.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,o.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[s,(0,r.jsx)(m.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let f=n.createContext(null);function b(e){let{defaultOpen:t=!0,open:a,onOpenChange:s,className:i,style:l,children:d,...c}=e,u=function(){let[e,t]=n.useState(void 0);return n.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,p]=n.useState(!1),[h,g]=n.useState(t),b=null!=a?a:h,v=n.useCallback(e=>{let t="function"==typeof e?e(b):e;s?s(t):g(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[s,b]),j=n.useCallback(()=>u?p(e=>!e):v(e=>!e),[u,v,p]);n.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),j())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[j]);let y=b?"expanded":"collapsed",w=n.useMemo(()=>({state:y,open:b,setOpen:v,isMobile:u,openMobile:m,setOpenMobile:p,toggleSidebar:j}),[y,b,v,u,m,p,j]);return(0,r.jsx)(f.Provider,{value:w,children:(0,r.jsx)(x,{delayDuration:0,children:(0,r.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...l},className:(0,o.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...c,children:d})})})}function v(e){let{className:t,...a}=e;return(0,r.jsx)("main",{"data-slot":"sidebar-inset",className:(0,o.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}(0,i.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});var j=a(4211),y=a(7916),w=a(3306),N=a(7581);function k(e){let{agents:t=[],connections:a=[],onNodeClick:s}=e,i=(0,j.VH)(),[o,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{let e=document.documentElement.classList.contains("dark");console.log("Dark mode detected:",e),l(e)};e();let t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]);let d=o?["rgba(37, 99, 235, 0.5)","rgba(16, 185, 129, 0.5)","rgba(139, 92, 246, 0.5)","rgba(236, 72, 153, 0.5)","rgba(245, 158, 11, 0.5)"]:["#2563eb","#10b981","#8b5cf6","#ec4899","#f59e0b"],c=o?"rgba(34, 197, 94, 0.5)":"#22c55e",u=o?"rgba(239, 68, 68, 0.5)":"#ef4444",m=o?"rgba(16, 185, 129, 0.6)":"#10b981",x=o?"rgba(34, 197, 94, 0.6)":"#22c55e",p=o?"rgba(239, 68, 68, 0.6)":"#ef4444",h=(0,n.useRef)(!1),g=(0,n.useCallback)(()=>{let e=new Set(a.map(e=>e.from)),t=new Set(a.map(e=>e.to)),r=[];e.forEach(e=>{t.has(e)||r.push(e)});let s=[];return t.forEach(t=>{e.has(t)||s.push(t)}),{startNodes:r,endNodes:s}},[a]),f=(0,n.useCallback)(()=>{let{startNodes:e,endNodes:a}=g(),r=[...t.map((e,t)=>({id:e.name,data:{label:e.name},position:{x:150+t%3*250,y:100+150*Math.floor(t/3)},style:{background:d[t%d.length],color:"#fff",padding:"10px 15px",borderRadius:"8px",width:180,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}))];return e.length>0&&r.unshift({id:"__start__",data:{label:"START"},position:{x:150,y:0},style:{background:c,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}),a.length>0&&r.push({id:"__end__",data:{label:"END"},position:{x:150,y:100+150*Math.ceil(t.length/3)},style:{background:u,color:"#fff",padding:"10px 15px",borderRadius:"8px",width:120,textAlign:"center",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",backdropFilter:o?"blur(8px)":"none",border:o?"1px solid rgba(255, 255, 255, 0.1)":"none"}}),r},[t,d,g,o,c,u]),b=(0,n.useCallback)(()=>{let{startNodes:e,endNodes:t}=g(),r=[...a.map((e,t)=>({id:"e".concat(t),source:e.from,target:e.to,type:"default",animated:!0,style:{stroke:m,strokeWidth:2},markerEnd:{type:j.TG.ArrowClosed,width:15,height:15,color:m}}))];return e.length>0&&e.forEach((e,t)=>{r.push({id:"start-".concat(t),source:"__start__",target:e,type:"default",animated:!0,style:{stroke:x,strokeWidth:2},markerEnd:{type:j.TG.ArrowClosed,width:15,height:15,color:x}})}),t.length>0&&t.forEach((e,t)=>{r.push({id:"end-".concat(t),source:e,target:"__end__",type:"default",animated:!0,style:{stroke:p,strokeWidth:2},markerEnd:{type:j.TG.ArrowClosed,width:15,height:15,color:p}})}),r},[a,g,m,x,p]),v=f(),k=b(),[_,S,C]=(0,j.ck)(v),[E,T,A]=(0,j.fM)(k);(0,n.useEffect)(()=>{!h.current&&t.length>0&&(S(f()),T(b()),h.current=!0)},[t,a,f,b]),(0,n.useEffect)(()=>{h.current&&i&&(S(f()),T(b()))},[o]);let z=(0,n.useRef)(null);return(0,n.useEffect)(()=>(_.length>0&&i&&(z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{i.fitView({padding:.5,minZoom:.3,maxZoom:1.5}),z.current=null},100)),()=>{z.current&&clearTimeout(z.current)}),[_.length,i]),(0,n.useCallback)((e,t)=>{s&&"__start__"!==t.id&&"__end__"!==t.id&&s(t.id)},[s]),(0,r.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,r.jsxs)(j.Gc,{nodes:_,edges:E,onNodesChange:C,onEdgesChange:A,onNodeClick:(e,t)=>{"__start__"!==t.id&&"__end__"!==t.id&&s&&s(t.id)},fitView:!0,children:[(0,r.jsx)(y.V,{color:o?"#4a5568":"#e2e8f0",gap:16,size:1,style:{backgroundColor:o?"rgba(15, 23, 42, 0.9)":"white"}}),(0,r.jsx)(w.H,{}),(0,r.jsx)(N.o,{nodeStrokeColor:e=>{var t;return(null==(t=e.style)?void 0:t.background)||"#eee"},nodeColor:e=>{var t;return(null==(t=e.style)?void 0:t.background)||"#eee"},zoomable:!0,pannable:!0})]})})}function _(e){return e.agents&&0!==e.agents.length?(0,r.jsx)("div",{className:"h-[500px] border rounded-xl overflow-hidden bg-background",children:(0,r.jsx)(j.Ln,{children:(0,r.jsx)(k,{...e})})}):(0,r.jsx)("div",{className:"flex items-center justify-center h-[400px] bg-card/30 backdrop-blur-sm rounded-xl border border-border",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No agents available to display"})})}a(1687);var S=a(968);function C(e){let{className:t,...a}=e;return(0,r.jsx)(S.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}var E=a(5452),T=a(4416);function A(e){let{...t}=e;return(0,r.jsx)(E.bL,{"data-slot":"dialog",...t})}function z(e){let{...t}=e;return(0,r.jsx)(E.ZL,{"data-slot":"dialog-portal",...t})}function O(e){let{className:t,...a}=e;return(0,r.jsx)(E.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",t),...a})}function F(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(z,{children:[(0,r.jsx)(O,{}),(0,r.jsxs)(E.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-3xl translate-x-[-50%] translate-y-[-50%] gap-4 shadow-lg duration-200 sm:rounded-lg border-0 !border-none p-6",t),style:{border:"none"},...s,children:[a,(0,r.jsxs)(E.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,r.jsx)(T.A,{className:"size-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function P(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col space-y-1.5 border-b border-border px-6 py-4",t),...a})}function M(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 border-t border-border px-6 py-4",t),...a})}function V(e){let{className:t,...a}=e;return(0,r.jsx)(E.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg font-semibold",t),...a})}function D(e){let{className:t,...a}=e;return(0,r.jsx)(E.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-sm text-muted-foreground",t),...a})}var L=a(4582),R=a(6474),U=a(5196),I=a(7863);function W(e){let{...t}=e;return(0,r.jsx)(L.bL,{"data-slot":"select",...t})}function G(e){let{...t}=e;return(0,r.jsx)(L.WT,{"data-slot":"select-value",...t})}function J(e){let{className:t,size:a="default",children:s,...n}=e;return(0,r.jsxs)(L.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,(0,r.jsx)(L.In,{asChild:!0,children:(0,r.jsx)(R.A,{className:"size-4 opacity-50"})})]})}function Z(e){let{className:t,children:a,position:s="popper",...n}=e;return(0,r.jsx)(L.ZL,{children:(0,r.jsxs)(L.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[(0,r.jsx)(K,{}),(0,r.jsx)(L.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(X,{})]})})}function q(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(L.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(L.VF,{children:(0,r.jsx)(U.A,{className:"size-4"})})}),(0,r.jsx)(L.p4,{children:a})]})}function K(e){let{className:t,...a}=e;return(0,r.jsx)(L.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(I.A,{className:"size-4"})})}function X(e){let{className:t,...a}=e;return(0,r.jsx)(L.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(R.A,{className:"size-4"})})}var B=a(5028),H=a(5710),$=a(64);function Q(e){let{className:t,...a}=e;return(0,r.jsx)($.bL,{"data-slot":"tabs",className:(0,o.cn)("flex flex-col gap-2",t),...a})}function Y(e){let{className:t,...a}=e;return(0,r.jsx)($.B8,{"data-slot":"tabs-list",className:(0,o.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function ee(e){let{className:t,...a}=e;return(0,r.jsx)($.l9,{"data-slot":"tabs-trigger",className:(0,o.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 cursor-pointer disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function et(e){let{className:t,...a}=e;return(0,r.jsx)($.UC,{"data-slot":"tabs-content",className:(0,o.cn)("flex-1 outline-none",t),...a})}var ea=a(6068),er=a(8628),es=a(9939),en=a(5548);let ei=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eo(e){let{className:t,variant:a,asChild:s=!1,...n}=e,i=s?l.DX:"span";return(0,r.jsx)(i,{"data-slot":"badge",className:(0,o.cn)(ei({variant:a}),t),...n})}let el=(0,B.default)(()=>Promise.all([a.e(827),a.e(918)]).then(a.bind(a,5918)).then(e=>e.default),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),ed=[{value:"gpt-4o-mini",label:"GPT-4o Mini"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"}];function ec(e){let{agent:t,setSelectedAgent:a,configVersion:s,onSave:i}=e,o=(0,n.useMemo)(()=>t&&"object"==typeof t&&t.name,[t]),l=(0,n.useMemo)(()=>o&&t.prompt||"",[t,o]),[d,m]=(0,n.useState)(l),[x,p]=(0,n.useState)(o);(0,n.useEffect)(()=>{o&&m(t.prompt||"")},[t,o]),(0,n.useEffect)(()=>{o&&t&&p(!0)},[t,o]);let h=(0,n.useMemo)(()=>{var e,a,r,s;return{model:(null==t||null==(e=t.modelParams)?void 0:e.model)||ed[0].value,temperature:(null==t||null==(a=t.modelParams)?void 0:a.temperature)||0,topP:(null==t||null==(r=t.modelParams)?void 0:r.top_p)||1,maxTokens:(null==t||null==(s=t.modelParams)?void 0:s.max_tokens)||2e3}},[t]),[g,f]=(0,n.useState)(h.model),[b,v]=(0,n.useState)(h.temperature),[j,y]=(0,n.useState)(h.topP),[w,N]=(0,n.useState)(h.maxTokens),[k,_]=(0,n.useState)("prompt");(0,n.useEffect)(()=>{f(h.model),v(h.temperature),y(h.topP),N(h.maxTokens)},[h]);let S=(0,n.useMemo)(()=>o&&t.variables||[],[t,o]),E=(0,n.useCallback)(e=>{p(e),e||a(null)},[a]),T=(0,n.useCallback)(()=>{p(!1),a(null)},[a]),z=(0,n.useCallback)(async()=>{if(o)try{let e={name:t.name,prompt:d,variables:S,modelParams:{model:g,temperature:b,top_p:j,max_tokens:w}};if(i)await i(e),T();else{let a;if(!s)return void console.error("No version specified for updating agent");let r="Updated agent: ".concat(t.name);console.log("Directly updating agent in version: ".concat(s));let n={agent:e,commit_message:r,sync_to_main:!1,version:s};console.log("Agent-info update payload:",JSON.stringify(n,null,2));let i=await fetch("/api/update_agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await i.text();console.log("Agent-info raw response:",o);try{a=JSON.parse(o)}catch(e){console.error("Failed to parse response:",e),alert("Error updating agent: Invalid response from server");return}if(i.ok)console.log("Update result:",a),a.version!==s&&console.warn("Warning: Created new version ".concat(a.version," instead of updating ").concat(s)),T();else{let e="Failed to update agent";a&&a.error&&(e=a.error),console.error("Failed to update agent:",e),alert("Error updating agent: ".concat(e))}}}catch(e){console.error("Error updating agent:",e),alert("Error updating agent")}},[t,o,d,S,g,b,j,w,i,s,T]);return o?(0,r.jsx)(A,{open:x,onOpenChange:E,children:(0,r.jsxs)(F,{className:"max-w-4xl p-0 gap-0 overflow-hidden bg-background border-0 !border-none sm:rounded-xl",children:[(0,r.jsx)(P,{className:"px-6 py-4 border-b border-border/50",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"pr-8",children:[(0,r.jsxs)(V,{className:"text-xl font-semibold flex items-center gap-2",children:[t.name,s&&(0,r.jsxs)(eo,{variant:"outline",className:"text-xs",children:["Config v",s]})]}),(0,r.jsx)(D,{className:"mt-1 text-sm text-slate-500",children:"Define this agent's behavior through prompts and model parameters"})]})})}),(0,r.jsx)("div",{className:"w-full h-[70vh] flex flex-col",children:(0,r.jsxs)(Q,{defaultValue:"prompt",value:k,onValueChange:_,className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"border-b border-border/50 bg-card/40 backdrop-blur-sm",children:(0,r.jsx)("div",{className:"px-6",children:(0,r.jsxs)(Y,{className:"p-1 h-10 bg-transparent space-x-6 border-0",children:[(0,r.jsxs)(ee,{value:"prompt",className:"text-sm font-medium px-3 py-3 rounded-md border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none data-[state=active]:text-primary data-[state=active]:bg-muted/40 transition-all duration-200 cursor-pointer hover:text-primary/80 hover:bg-muted/20",children:[(0,r.jsx)(ea.A,{className:"w-4 h-4 mr-2"}),"Prompt"]}),(0,r.jsxs)(ee,{value:"variables",className:"text-sm font-medium px-3 py-3 rounded-md border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none data-[state=active]:text-primary data-[state=active]:bg-muted/40 transition-all duration-200 cursor-pointer hover:text-primary/80 hover:bg-muted/20",children:[(0,r.jsx)(er.A,{className:"w-4 h-4 mr-2"}),"Variables"]}),(0,r.jsxs)(ee,{value:"settings",className:"text-sm font-medium px-3 py-3 rounded-md border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none data-[state=active]:text-primary data-[state=active]:bg-muted/40 transition-all duration-200 cursor-pointer hover:text-primary/80 hover:bg-muted/20",children:[(0,r.jsx)(es.A,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})}),(0,r.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,r.jsx)(et,{value:"prompt",className:"h-full flex-1 m-0 p-0 data-[state=active]:flex flex-col",children:(0,r.jsx)("div",{className:"flex-grow overflow-y-auto p-6",children:(0,r.jsx)("div",{"data-color-mode":"light",className:"w-full h-full",children:(0,r.jsx)(el,{value:d,onChange:e=>m(e||""),height:"calc(100% - 24px)",preview:"edit",previewOptions:{rehypePlugins:[[H.A]]}})})})}),(0,r.jsx)(et,{value:"variables",className:"h-full flex-1 m-0 data-[state=active]:flex flex-col",children:(0,r.jsxs)("div",{className:"flex-grow overflow-y-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Available Variables"}),(0,r.jsxs)("p",{className:"text-sm text-slate-500 mb-4",children:["These variables can be used in your prompt with ","{variable_name}"," syntax"]})]}),S.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:S.map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border flex items-center shadow-sm",children:[(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-md p-1 mr-2",children:(0,r.jsx)(er.A,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:e}),(0,r.jsx)("code",{className:"text-xs text-pink-600 dark:text-pink-400",children:"{".concat(e,"}")})]})]},e))}):(0,r.jsxs)("div",{className:"p-8 text-center bg-card rounded-lg border-0",children:[(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"No variables found in this prompt"}),(0,r.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Add variables by using ","{variable_name}"," syntax in your prompt"]})]})]})}),(0,r.jsx)(et,{value:"settings",className:"h-full flex-1 m-0 data-[state=active]:flex flex-col",children:(0,r.jsxs)("div",{className:"flex-grow overflow-y-auto p-6",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("h3",{className:"text-base font-semibold mb-3",children:"Model Configuration"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{htmlFor:"model",className:"mb-2 text-sm font-medium block",children:"Model"}),(0,r.jsxs)(W,{value:g,onValueChange:f,children:[(0,r.jsx)(J,{id:"model",className:"w-full",children:(0,r.jsx)(G,{placeholder:"Select a model"})}),(0,r.jsx)(Z,{children:ed.map(e=>(0,r.jsx)(q,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{htmlFor:"max_tokens",className:"mb-2 text-sm font-medium block",children:"Max Tokens"}),(0,r.jsx)(u,{id:"max_tokens",type:"number",min:1,value:w,onChange:e=>N(Number(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{htmlFor:"temperature",className:"mb-2 text-sm font-medium block",children:"Temperature"}),(0,r.jsx)(u,{id:"temperature",type:"number",step:"0.01",min:0,max:2,value:b,onChange:e=>v(Number(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{htmlFor:"top_p",className:"mb-2 text-sm font-medium block",children:"Top P"}),(0,r.jsx)(u,{id:"top_p",type:"number",step:"0.01",min:0,max:1,value:j,onChange:e=>y(Number(e.target.value))})]})]})]})})]})]})}),(0,r.jsxs)(M,{className:"px-6 py-4 border-t border-border/50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(en.A,{className:"w-4 h-4 text-slate-500"}),(0,r.jsx)("span",{className:"text-sm text-slate-500",children:s&&"current"!==s?"Editing version ".concat(s):"Editing current version"})]})}),(0,r.jsx)(c,{variant:"outline",onClick:T,children:"Cancel"}),(0,r.jsx)(c,{onClick:z,className:"ml-2",children:"Save Changes"})]})]})}):null}var eu=a(6217),em=a(8185),ex=a(4168),ep=a(5779),eh=a(6236),eg=a(6981);function ef(e){let{className:t,...a}=e;return(0,r.jsx)(eg.bL,{"data-slot":"checkbox",className:(0,o.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(eg.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(U.A,{className:"size-3.5"})})})}var eb=a(8262);function ev(){let[e,t]=(0,n.useState)(!0),[a,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[d,m]=(0,n.useState)(!0),[f,j]=(0,n.useState)(null),[y,w]=(0,n.useState)([]),[N,k]=(0,n.useState)(""),[S,E]=(0,n.useState)(!1),[T,z]=(0,n.useState)(""),[O,L]=(0,n.useState)(!0),[R,U]=(0,n.useState)(!1),[I,G]=(0,n.useState)(!1),[K,X]=(0,n.useState)("experiments"),B=(0,n.useCallback)(()=>{t(!e),document.documentElement.classList.toggle("dark")},[e]);(0,n.useEffect)(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t(!0),document.documentElement.classList.add("dark"))},[]),(0,n.useEffect)(()=>{H(!1)},[]);let H=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{m(!0);let t=e?N:null,a=new Date().getTime(),r=await fetch("/api/config/versions?_t=".concat(a));if(!r.ok)throw Error("Failed to fetch config versions");let s=await r.json();console.log("Received versions from API:",s);let n=s.filter(e=>"current"!==e.version&&e.version.match(/^\d+\.\d+\.\d+$/));if(console.log("Filtered versions for display:",n),n.sort((e,t)=>t.version.localeCompare(e.version,void 0,{numeric:!0})),console.log("Sorted versions:",n.map(e=>"".concat(e.version," (").concat(e.commit_message,")"))),w(n),n.length>0)if(e&&t&&n.some(e=>e.version===t))console.log("Preserving current selection: ".concat(t));else{let e=n[0].version;console.log("Selecting newest version: ".concat(e)),k(e)}}catch(e){j("Failed to load configuration versions"),console.error("Error fetching config versions:",e)}finally{m(!1)}};(0,n.useEffect)(()=>{N&&(async()=>{try{m(!0);let e=await fetch("/api/config?version=".concat(N));if(!e.ok)throw Error("Failed to fetch config");let t=await e.json();i(t)}catch(e){j("Failed to load configuration"),console.error("Error fetching config:",e)}finally{m(!1)}})()},[N]);let $=(0,n.useCallback)(e=>{(null==a?void 0:a.agents)&&(l(null),setTimeout(()=>{let t=a.agents.find(t=>t.name===e);t&&(l({...t}),G(!0))},10))},[a]),et=(0,n.useCallback)(()=>{l(null),G(!1)},[]),ea=async e=>{if(e)try{m(!0);let t=await fetch("/api/config/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:e})});if(!t.ok)throw Error("Failed to sync to main config");let a=await t.json();console.log("Sync result:",a),(0,eb.oR)({title:"Success",description:"Synced version ".concat(e," to main config"),duration:3e3}),await H(!0)}catch(e){console.error("Error syncing to main config:",e),(0,eb.oR)({title:"Error",description:"Failed to sync to main config",variant:"destructive",duration:3e3})}finally{m(!1)}},er=(0,n.useCallback)(()=>{z(""),L(!0),E(!0)},[]);(0,n.useCallback)(e=>{E(e),e||(z(""),L(!0))},[]);let es=async()=>{if(!T.trim())return void(0,eb.oR)({title:"Error",description:"Please enter a commit message",variant:"destructive",duration:3e3});if(!N)return void(0,eb.oR)({title:"Error",description:"No version selected to commit from",variant:"destructive",duration:3e3});try{U(!0),console.log("Committing new version based on selected version: ".concat(N));let e=await fetch("/api/config/commit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({commit_message:T,sync_to_main:O,source_version:N})});if(!e.ok)throw Error("Failed to commit changes");let t=await e.json();if(console.log("Commit result:",t),E(!1),(0,eb.oR)({title:"Success",description:"Created new version ".concat(t.version," based on ").concat(N),duration:3e3}),await new Promise(e=>setTimeout(e,100)),await H(!1),t.version){k(t.version);try{let e=await fetch("/api/config?version=".concat(t.version));if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Error fetching new version config:",e)}}}catch(e){console.error("Error committing changes:",e),(0,eb.oR)({title:"Error",description:"Failed to commit changes",variant:"destructive",duration:3e3})}finally{U(!1)}},ei=async e=>{try{let t;if(m(!0),console.log("Saving agent to version: ".concat(N)),!N){(0,eb.oR)({title:"Error",description:"No version selected to update",variant:"destructive",duration:3e3}),m(!1);return}let a={agent:e,commit_message:"Updated agent: ".concat(e.name),sync_to_main:!1,version:N};console.log("Update agent request payload:",JSON.stringify(a,null,2));let r=await fetch("/api/update_agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await r.text();console.log("Update agent raw response:",s);try{t=JSON.parse(s)}catch(e){throw Error("Failed to parse response: ".concat(s))}if(!r.ok)throw Error(t.error||"Failed to update agent");console.log("Update result:",t),t.version!==N&&console.warn("Warning: Created new version ".concat(t.version," instead of updating ").concat(N)),(0,eb.oR)({title:"Success",description:"Updated agent ".concat(e.name," in version ").concat(t.version),duration:3e3});let n=await fetch("/api/config?version=".concat(t.version));if(n.ok){let a=await n.json();i(a),t.version!==N&&(k(t.version),H()),o&&o.name===e.name&&l(e)}}catch(e){console.error("Error updating agent:",e),(0,eb.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to update agent",variant:"destructive",duration:3e3})}finally{m(!1)}};return d&&!a?(0,r.jsx)(b,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:(0,r.jsxs)(v,{children:[(0,r.jsx)(s,{}),(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-slate-500",children:"Loading..."})})})]})}):f?(0,r.jsx)(b,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:(0,r.jsxs)(v,{children:[(0,r.jsx)(s,{}),(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-red-500",children:f})})})]})}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col ".concat(e?"dark":""),children:[(0,r.jsx)("header",{className:"border-b border-border/40 bg-card/50 backdrop-blur-sm z-40 sticky top-0 left-0 right-0",children:(0,r.jsxs)("div",{className:"container flex h-14 justify-between mx-auto items-center px-4",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("a",{className:"flex items-center space-x-3 font-bold group",href:"/",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/70 text-primary-foreground shadow-md transition-all duration-300 group-hover:shadow-lg",children:[(0,r.jsx)(eu.A,{className:"h-5 w-5 text-primary-foreground relative z-10"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-white dark:bg-slate-800 rounded-lg opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),(0,r.jsxs)("span",{className:"hidden sm:inline-block text-transparent bg-clip-text bg-gradient-to-r from-primary to-primary/70 text-xl tracking-tight transition-all duration-300 group-hover:tracking-normal",children:["Agensight ",(0,r.jsx)("span",{className:"font-normal text-foreground/90",children:"Studio"})]})]})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(x,{children:(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(c,{variant:"outline",size:"icon",className:"rounded-full",onClick:B,children:e?(0,r.jsx)(em.A,{className:"h-4 w-4"}):(0,r.jsx)(ex.A,{className:"h-4 w-4"})})}),(0,r.jsx)(g,{children:(0,r.jsx)("p",{children:"Toggle theme"})})]})})})]})}),(0,r.jsx)("main",{className:"flex-1 grid-bg",children:(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center gap-4 justify-between border-b border-border/40 pb-4",children:[(0,r.jsx)("div",{className:"flex-none",children:(0,r.jsx)(Q,{defaultValue:"experiments",className:"w-full",onValueChange:e=>X(e),children:(0,r.jsxs)(Y,{className:"bg-white dark:bg-card p-1 rounded-lg shadow-sm",children:[(0,r.jsx)(ee,{value:"experiments",className:"px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all font-medium",children:"Experiments"}),(0,r.jsx)(ee,{value:"traces",className:"px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all font-medium",children:"Traces"}),(0,r.jsx)(ee,{value:"evaluations",className:"px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground rounded-md transition-all font-medium",children:"Evaluations"})]})})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 ml-auto",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(W,{value:N,onValueChange:k,children:[(0,r.jsx)(J,{className:"w-[180px]",children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(ep.A,{size:16}),(0,r.jsx)("span",{className:"font-medium",children:N})]})}),(0,r.jsx)(Z,{children:y.map(e=>(0,r.jsx)(q,{value:e.version,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.version}),(0,r.jsx)("span",{className:"text-muted-foreground text-xs truncate",children:e.commit_message})]})},e.version))})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x,{children:(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsxs)(c,{variant:"outline",size:"sm",onClick:()=>ea(N),disabled:d,id:"sync-button",className:"relative overflow-hidden group hover:border-primary/50 transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"}),(0,r.jsx)(en.A,{size:16,className:"mr-1 group-hover:text-primary transition-colors duration-300"}),(0,r.jsx)("span",{className:"relative z-10",children:"Sync"})]})}),(0,r.jsx)(g,{children:(0,r.jsx)("p",{children:"This will sync to main agensight.config.json file"})})]})}),(0,r.jsx)(x,{children:(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsxs)(c,{variant:"outline",size:"sm",onClick:er,disabled:d,children:[(0,r.jsx)(eh.A,{size:16,className:"mr-1"}),"Commit"]})}),(0,r.jsx)(g,{children:(0,r.jsx)("p",{children:"Save current state as a new version"})})]})})]})]})]}),(0,r.jsxs)("div",{className:"w-full",children:["experiments"===K&&(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 mb-8",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"rounded-lg border border-border/40 bg-card/50 backdrop-blur-sm p-2 h-[550px] overflow-hidden",children:d?(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):f?(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-destructive",children:f})}):a?(0,r.jsx)(_,{agents:a.agents||[],connections:a.connections||[],onNodeClick:$}):null})})}),"traces"===K&&(0,r.jsx)("div",{className:"border rounded-lg p-8 flex items-center justify-center bg-card/50 backdrop-blur-sm h-[550px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(eu.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium",children:"No traces available"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Trace data will appear here when you run experiments"})]})}),"evaluations"===K&&(0,r.jsx)("div",{className:"border rounded-lg p-8 flex items-center justify-center bg-card/50 backdrop-blur-sm h-[550px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(eu.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium",children:"No evaluation till now"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Evaluation data will appear here when you run experiments"})]})})]})]})}),(0,r.jsx)(A,{open:S,onOpenChange:E,children:(0,r.jsxs)(F,{children:[(0,r.jsxs)(P,{children:[(0,r.jsx)(V,{className:"text-xl font-semibold",children:"Create New Version"}),(0,r.jsx)(D,{children:"Save the current configuration as a new version."})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4 px-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C,{htmlFor:"commit-message",className:"font-medium",children:"Commit Message"}),(0,r.jsx)(u,{id:"commit-message",placeholder:"Describe your changes",value:T,onChange:e=>z(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ef,{id:"sync-to-main",checked:O,onCheckedChange:e=>{L(!0===e)}}),(0,r.jsx)(C,{htmlFor:"sync-to-main",className:"font-medium text-sm",children:"This will sync your changes to the agensight.config.json file"})]})]}),(0,r.jsxs)(M,{children:[(0,r.jsx)(c,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,r.jsx)(c,{disabled:R,onClick:es,children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mr-2 animate-spin h-4 w-4 border-2 border-background border-t-transparent rounded-full"}),"Committing..."]}):"Create Version"})]})]})}),(0,r.jsx)(A,{open:I,onOpenChange:G,children:(0,r.jsxs)(F,{className:"sm:max-w-[600px] max-h-[80vh] overflow-hidden border-0 !border-none bg-card/90 backdrop-blur-sm shadow-lg",style:{border:"none"},children:[(0,r.jsx)(P,{className:"border-0 !border-none",style:{borderBottom:"none"},children:(0,r.jsx)(V,{className:"text-xl font-semibold",children:(null==o?void 0:o.name)||"Agent Details"})}),(0,r.jsx)("div",{className:"overflow-auto py-4",children:o&&(0,r.jsx)(ec,{agent:o,setSelectedAgent:et,configVersion:N,onSave:ei})})]})})]})}}}]);