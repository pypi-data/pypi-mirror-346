Metadata-Version: 2.4
Name: aioyoomoney
Version: 0.1.0
Summary: Async YooMoney API Client
Author-email: belyankiss <belyankiss@gmail.com>
License-Expression: MIT
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: aiohttp
Requires-Dist: pydantic
Requires-Dist: yarl

---

````markdown
# aioyoomoney

**aioyoomoney** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å [YooMoney API](https://yoomoney.ru/docs/wallet).  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—á—ë—Ç–µ, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ–ª—É—á–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—á–µ—Ç–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å.

---

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ Access Token

1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∫–æ—à–µ–ª–µ–∫ YooMoney. –ï—Å–ª–∏ –∫–æ—à–µ–ª—å–∫–∞ –µ—â—ë –Ω–µ—Ç ‚Äî [—Å–æ–∑–¥–∞–π—Ç–µ](https://yoomoney.ru/).
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [—Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://yoomoney.ru/myservices/new).
3. –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `CLIENT_ID`, `CLIENT_SECRET` –∏ `REDIRECT_URI` ‚Äî –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:

```python
from aioyoomoney import authorize

token = authorize(
    client_id="YOUR_CLIENT_ID",
    redirect_uri="YOUR_REDIRECT_URI",
    client_secret="YOUR_CLIENT_SECRET",
    scope=[
        "account-info",
        "operation-history",
        "operation-details",
        "incoming-transfers",
        "payment-p2p",
    ]
)

print(token)
````

> –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API. –≠—Ç–æ —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —à–∞–≥ ‚Äî –¥–∞–ª—å—à–µ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ!

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üîê –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—á–µ—Ç–µ
* üí≥ –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
* üßæ –î–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
* üß® –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Ñ–æ—Ä–º—ã (–∏–Ω–≤–æ–π—Å–∞)
* ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã –ø–æ –º–µ—Ç–∫–µ (label)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install aioyoomoney
```

> –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: Python 3.9+, aiohttp, pydantic, yarl

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
import asyncio
from aioyoomoney import YooMoney

async def main():
    client = YooMoney(
        token="your_yoomoney_token", 
        receiver="410011161616877"  # –≤–∞—à –∫–æ—à–µ–ª–µ–∫ –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π
    )

    account = await client.account_info()
    print(f"–ë–∞–ª–∞–Ω—Å: {account.balance} ‚ÇΩ")

asyncio.run(main())
```

---

## üìò –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—á—ë—Ç–µ

```python
account = await client.account_info()
print(account.balance, account.account)
```

---

### –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π

```python
history = await client.operation_history(records=10)
for op in history.operations:
    print(op.amount, op.datetime, op.title)
```

---

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
details = await client.operation_details(operation_id="1234567890")
print(details.amount, details.message)
```

---

### –°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É –æ–ø–ª–∞—Ç—ã (–∏–Ω–≤–æ–π—Å)

```python
invoice = await client.create_invoice(
    amount=500.0,
    invoice_id="order_123",
    redirect_url="https://example.com/success"
)
print(invoice.url_pay)
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã –ø–æ `invoice_id`

```python
is_paid = await client.check_invoice("order_123")
print("–û–ø–ª–∞—á–µ–Ω–æ!" if is_paid else "–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É")
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è):

```bash
pytest
```

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* [aiohttp](https://docs.aiohttp.org/)
* [Pydantic](https://docs.pydantic.dev/)
* [YooMoney API](https://yoomoney.ru/docs/wallet/user-account)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).

---

## üë§ –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è [@belyankiss](https://github.com/belyankiss)

